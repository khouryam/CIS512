!function(modules){function webpackJsonpCallback(data){for(var moduleId,chunkId,chunkIds=data[0],moreModules=data[1],executeModules=data[2],i=0,resolves=[];i<chunkIds.length;i++)chunkId=chunkIds[i],installedChunks[chunkId]&&resolves.push(installedChunks[chunkId][0]),installedChunks[chunkId]=0;for(moduleId in moreModules)Object.prototype.hasOwnProperty.call(moreModules,moduleId)&&(modules[moduleId]=moreModules[moduleId]);for(parentJsonpFunction&&parentJsonpFunction(data);resolves.length;)resolves.shift()();return deferredModules.push.apply(deferredModules,executeModules||[]),checkDeferredModules()}function checkDeferredModules(){for(var result,i=0;i<deferredModules.length;i++){for(var deferredModule=deferredModules[i],fulfilled=!0,j=1;j<deferredModule.length;j++){var depId=deferredModule[j];0!==installedChunks[depId]&&(fulfilled=!1)}fulfilled&&(deferredModules.splice(i--,1),result=__webpack_require__(__webpack_require__.s=deferredModule[0]))}return result}var installedModules={},installedChunks={90:0},deferredModules=[];function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__webpack_require__.r=function(exports){Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="/javascripts/build/shared/";var jsonpArray=window.socrataFrontendWebpackJsonp=window.socrataFrontendWebpackJsonp||[],oldJsonpFunction=jsonpArray.push.bind(jsonpArray);jsonpArray.push=webpackJsonpCallback,jsonpArray=jsonpArray.slice();for(var i=0;i<jsonpArray.length;i++)webpackJsonpCallback(jsonpArray[i]);var parentJsonpFunction=oldJsonpFunction;deferredModules.push([1742,1,0]),checkDeferredModules()}({1683:function(module,exports,__webpack_require__){"use strict";$(function(){blist.configuration.onCurrentUser&&blist.configuration.onCurrentUser(function(){if(blist.currentUserId){var $m=void 0,createModal=function(){$("body").append($.tag2({_:"div",className:"modalDialog",id:"sessionTimeoutModal",contents:[{_:"h2",contents:$.t("core.dialogs.session_timeout.warning.title")},{_:"p",contents:$.t("core.dialogs.session_timeout.warning.body_html")},{_:"div",className:"buttonWrapper",contents:[{_:"a",id:"keepSessionButton",className:"button",contents:$.t("core.dialogs.session_timeout.warning.belay_button")}]}]})),($m=$("#sessionTimeoutModal")).jqm(),$("#keepSessionButton").click(function(event){event.preventDefault(),$m.jqmHide(),$.socrataServer.makeRequest({url:"/login/extend",success:function(response){secondsUntilTimeout=parseFloat(response.seconds),scheduleCheckTime(),$m.jqmHide()},anonymous:!1,error:function(){secondsUntilTimeout=2e4,scheduleCheckTime()}})})},secondsUntilTimeout=void 0,modalTimer=void 0,countdownSeconds=60,secondsRemaining=void 0,updateTimer=void 0;checkTime()}function checkTime(){$.socrataServer.makeRequest({url:"/logout/expire_if_idle",success:function(response){response.expired?window.document.location="/signed_out?return_to="+encodeURIComponent(window.document.location.pathname):(secondsUntilTimeout=parseFloat(response.seconds))>countdownSeconds?($m&&$m.jqmHide(),scheduleCheckTime()):($m||createModal(),secondsRemaining=secondsUntilTimeout,updateTimer&&clearInterval(updateTimer),updateTimer=setInterval(countdown,1e3),countdown(),$m.jqmShow())},anonymous:!0,error:function(){setTimeout(checkTime,1e4)}})}function scheduleCheckTime(){modalTimer&&clearTimeout(modalTimer),updateTimer&&clearTimeout(updateTimer),modalTimer=setTimeout(checkTime,1e3*(secondsUntilTimeout-countdownSeconds))}function countdown(){if($("#secondsRemaining").text(secondsRemaining),secondsRemaining<=0)return updateTimer&&clearInterval(updateTimer),void setTimeout(checkTime,1e3);secondsRemaining>0&&secondsRemaining--}})})},1684:function(module,exports,__webpack_require__){"use strict";$(function(){blist.util.enforceLodashFunctions();var footerHeight=$("#site-chrome-footer").height();$(".siteOuterWrapper").css("min-height","calc(100% - {0}px)".format(footerHeight)),$.live("a[rel$=external]","focus",function(){this.target="_blank"}),$.live("a[rel$=external]","mouseover",function(){this.target="_blank"}),blist.iframeHack={modifierKeys:[16,17,18,91,93],pressed:{}},$("body").on("keydown",function(evt){_.include(blist.iframeHack.modifierKeys,evt.which)&&(blist.iframeHack.pressed[evt.which]=!0)}),$("body").on("keyup",function(evt){_.include(blist.iframeHack.modifierKeys,evt.which)&&(blist.iframeHack.pressed[evt.which]=!1)}),blist.iframeHack.isModified=function(){return _.any(_.values(blist.iframeHack.pressed))},$.live("a[rel$=video]","click",function(event){event.preventDefault(),window.open($(this).attr("href"),"","width=650,height=550,location=no,menubar=no,scrollbars=no,status=no,toolbar=no")}),$.validator.addMethod("customUrl",function(value,element){if(this.optional(element))return!0;var regEx=blist.util.patterns.customUrl;return/^(https?|ftp):\/\//i.test(value)?regEx.test(value):!!regEx.test("http://"+value)&&($(element).val("http://"+value),!0)}),$.validator.addMethod("secureUrl",function(value,element){return!!this.optional(element)||/^https/.test(value)}),$.validator.addMethod("customHttpMaybeSUrl",function(value,element){var regex=blist.util.patterns.customHttpMaybeSUrl;return this.optional(element)||regex.test(value)}),$.validator.addMethod("coordinateReferenceSystem",function(value,element){return!!this.optional(element)||/^EPSG:\d+$/i.test(value)}),$.validator.addMethod("validateOptions",function(value,element){return null==$(element).find(":selected")[0].getAttribute("disabled")});var messages={};if(_.each($.validator.messages,function(__,key){var message=$.tNull("core.validation."+key);message&&(messages[key]=message)}),_.each(["maxlength","minlength","rangelength","range","max","min"],function(key){messages[key]=$.validator.format(messages[key])}),$.extend($.validator.messages,messages),"true"==$.cookies.get("logged_in")&&$("#siteHeader").addClass("loggedIn").find(".siteUserNav").addClass("loggedInNav"),blist.namespace.fetch("blist.configuration"),window===window.top){var userFlashes=[{shouldDisplay:function(cookie){return!cookie&&($.browser.msie&&$.browser.majorVersion<11||$.browser.safari&&$.browser.majorVersion<7||$.browser.chrome&&$.browser.majorVersion<38||$.browser.mozilla&&$.browser.majorVersion<27)},acknowledgementCookie:"browser_ack",message:[{_:"div",contents:$.t("core.unsupported_browser.message_no_date_html",{link_text:$.tag2({_:"a",target:"_blank",href:"https://support.socrata.com/hc/en-us/articles/202951618",contents:$.t("core.unsupported_browser.link_text")},!1)})}],htmlClasses:["error"]}];blist.configuration.maintenance_messages&&(userFlashes=userFlashes.concat(blist.configuration.maintenance_messages));var $noticeContainer=$("#noticeContainer"),closeIcon={_:"a",href:"#",className:"close",contents:{_:"span",className:"socrata-icon-close"}};_.each(userFlashes,function(flash){var cookie=$.cookies.get(flash.acknowledgementCookie);if(!1!=!!flash.shouldDisplay(cookie)){var $flash=$.tag2({_:"div",className:flash.htmlClasses.concat("flash").join(" "),contents:[closeIcon].concat(flash.message)});$noticeContainer.append($flash),$flash.find("a.close").click(function(event){event.preventDefault(),$flash.fadeOut(),flash.acknowlegementCookie?$.cookies.set(flash.acknowledgementCookie,!0):_.isFunction(flash.acknowledge)&&flash.acknowledge()})}})}var csrfTokenFromMeta=$('meta[name="csrf-token"]').attr("content");$.isBlank(csrfTokenFromMeta)||(document.cookie="socrata-csrf-token="+csrfTokenFromMeta+";secure;path=/"),blist.configuration.appToken="U29jcmF0YS0td2VraWNrYXNz0",$.ajaxSetup({beforeSend:function(xhrObj){xhrObj.setRequestHeader("X-App-Token",blist.configuration.appToken),xhrObj.setRequestHeader("X-CSRF-Token",csrfTokenFromMeta)}});var getLocale=function(){return _.get(window.blist,"locale",_.get(window.serverConfig,"locale",_.get(window.socrata,"locale",_.get(window.socrataConfig,"locales.currentLocale","en"))))};moment.locale(getLocale());blist.configuration.userTimeZoneName=jstz.determine().name(),$(".dateLocalize").each(function(){var $dateSpan=$(this),format=$dateSpan.data("format"),rawdate=1e3*$dateSpan.data("rawdatetime");$dateSpan.text(moment(rawdate).tz(_.get(window.blist,"configuration.userTimeZoneName",jstz.determine().name())).locale(getLocale()).format(format))});var $mDates=$(".maintenanceNotice .dateLocalize");if(moment(1e3*$mDates.eq(0).data("rawdatetime")).isSame(1e3*$mDates.eq(1).data("rawdatetime"),"day")){var $date=$mDates.eq(1);$date.text(moment(1e3*$date.data("rawdatetime")).format("LT"))}blist.configuration.shortDateFormat="llll",blist.configuration.longDateFormat="LLLL";var onCurrentUser=[],onCurrentUserComplete=[],currentUserDone=!1,dispatchCurrentUser=function(callbacks,user){for(var i=0;i<callbacks.length;i++){var successCallback=callbacks[i];_.isFunction(successCallback)&&successCallback(user)}},createCurrentUser=function(jsonData){currentUserDone=!0,blist.currentUser=new User(jsonData),blist.currentUserId=blist.currentUser.id;var callbacks=onCurrentUser.concat(onCurrentUserComplete);dispatchCurrentUser(callbacks,blist.currentUser)};"true"==$.cookies.get("logged_in")&&void 0===blist.currentUser?window.currentUserJson?createCurrentUser(window.currentUserJson):$.socrataServer.makeRequest({type:"GET",url:"/api/users/current.json",cache:!1,headers:{"Cache-Control":"nocache"},success:createCurrentUser,error:function(){currentUserDone=!0,dispatchCurrentUser(onCurrentUserComplete)}}):(currentUserDone=!0,dispatchCurrentUser(onCurrentUserComplete,blist.currentUser)),blist.configuration.onCurrentUser=function(successCallback){void 0!==blist.currentUser?successCallback(blist.currentUser):onCurrentUser.push(successCallback)},blist.configuration.onCurrentUserComplete=function(callback){currentUserDone?callback(blist.currentUser):onCurrentUserComplete.push(callback)},blist.configuration.onCurrentUser(function(user){$(".accountLink .text .currentUser").text(user.displayName),$(".accountLink").removeClass("hide"),$(".accountLikeLink").removeClass("hide"),$(".signOutLink").removeClass("hide"),$(".signInLink").addClass("hide"),$(".signUpLink").addClass("hide"),void 0!==user&&user.rights&&user.rights.length>0&&$(".adminLink").removeClass("hide"),$(".myGoalsLink").toggleClass("hide",_.isUndefined(user)||!user.hasRight(blist.rights.user.EDIT_GOALS))}),blist.configuration.onCurrentUserComplete(function(user){void 0!==blist.configuration.govstat_links_cb&&blist.configuration.govstat_links_cb(user)}),blist.namespace.fetch("blist.nextgen"),_.each(window.location.href.match(/\w+=nextgen/g),function(prop){blist.nextgen[prop.slice(0,prop.indexOf("="))]=!0})})},1685:function(module,exports,__webpack_require__){"use strict";jQuery.metrics={queue:[],pageLoadBucketNames:["awesome","good","ok","poor","terrible"],pageLoadBuckets:[500,1e3,2e3,4e3],domLoadBuckets:[500,1e3,2e3,4e3],stopwatches:{},stopwatchFunction:void 0!==window.performance&&_.isFunction(performance.now)?function(){return performance.now()}:function(){return(new Date).getTime()},increment:function(entity,metric,_increment){return void 0!==entity&&void 0!==metric&&(void 0!==$.socrataServer&&($.metrics.queue.push({entity:entity,metric:metric,increment:_increment}),void($.metrics.queue.length>=10&&$.metrics.flush_metrics())))},measure:void 0!==window.performance&&_.isFunction(performance.now)?function(entity,metric){$.metrics.increment(entity,metric,performance.now())}:function(){},stopwatch:function(entity,metric,action){$.metrics.stopwatches[entity+"/"+metric]||($.metrics.stopwatches[entity+"/"+metric]={entity:entity,metric:metric,pulses:[],start:function(){this.pulses.push({type:"start",timestamp:$.metrics.stopwatchFunction()}),this.flush(),this.started=!0},pulse:function(){this.started&&(this.pulses.push({type:"pulse",timestamp:$.metrics.stopwatchFunction()}),this.flush())},end:function(){this.done=!0,this.pulse()},flush:_.debounce(function(){if(this.done){var start=_.detect(this.pulses,function(pulse){return"start"==pulse.type}),lastPulse=_.detect(this.pulses.slice().reverse(),function(pulse){return"pulse"==pulse.type});start&&lastPulse&&$.metrics.increment(entity,metric,lastPulse.timestamp-start.timestamp),this.pulses=[],this.done=!1}},1e3)}),"clear"==action?delete $.metrics.stopwatches[entity+"/"+metric]:$.metrics.stopwatches[entity+"/"+metric][action]()},mark:function(entity,metric){$.metrics.increment(entity,metric,1)},flush_metrics:function(async){if(0!==$.metrics.queue.length){null!==async&&void 0!==async||(async=!0);var metricsBag=$.metrics.queue;$.metrics.queue=[],$.socrataServer.makeRequest({url:"/analytics/add",type:"POST",async:async,data:JSON.stringify({metrics:metricsBag}),anonymous:!0,isSODA:!0,headers:{"Content-Type":"application/text"},success:function(){},error:function(){}})}},collectPageTimings:function(){$.metrics.mark("domain","js-page-view"),$.metrics.mark("domain","browser-"+$.metrics.browser_name()),$.metrics.mark("domain-intern","browser-"+$.metrics.browser_name()),$.metrics.mark("domain","browser-"+$.metrics.browser_name()+"-"+$.browser.majorVersion),$.metrics.mark("domain-intern","browser-"+$.metrics.browser_name()+"-"+$.browser.majorVersion);var pageType=$.metrics.determinePageType();if($.metrics.in_iframe()?$.metrics.mark("domain","js-page-view-embed-{0}".format(pageType)):$.metrics.mark("domain","js-page-view-{0}".format(pageType)),void 0!==window.performance){var navStart=performance.timing.navigationStart,domComplete=performance.timing.domComplete,responseStart=performance.timing.responseStart;if(navStart>0&&domComplete>0&&responseStart>0){var tz=(new Date).getTimezoneOffset(),jsPageLoadTime=domComplete-navStart,jsDomLoadTime=domComplete-performance.timing.domLoading;if($.metrics.mark("domain-intern","js-page-load-samples"),$.metrics.increment("domain-intern","js-page-load-time",jsPageLoadTime),$.metrics.increment("domain-intern","js-page-load-tz-"+tz+"-time",jsPageLoadTime),$.metrics.increment("domain-intern","js-response-start-time",responseStart-navStart),$.metrics.increment("domain-intern","js-response-read-time",performance.timing.responseEnd-responseStart),$.metrics.increment("domain-intern","js-connect-time",performance.timing.connectEnd-performance.timing.connectStart),$.metrics.increment("domain-intern","js-connect-tz-"+tz+"-time",performance.timing.connectEnd-performance.timing.connectStart),$.metrics.increment("domain-intern","js-dom-load-time",jsDomLoadTime),$.metrics.increment("domain-intern",pageType+"-js-dom-load-time",jsDomLoadTime),$.metrics.mark("domain-intern",pageType+"-js-dom-load-samples"),$.metrics.increment("domain-intern",pageType+"-js-page-load-time",jsPageLoadTime),$.metrics.mark("domain-intern",pageType+"-js-page-load-samples"),"dataslate"==pageType){var numContexts=_.size($.dataContext.availableContexts),bucket=_.detect([1,2,4,8,16,32,64,128],function(b){return numContexts<b});$.metrics.increment("domain-intern","js-dataslate-lte-"+bucket+"-contexts-page-load-time",jsPageLoadTime)}}}$.metrics.flush_metrics()},in_iframe:function(){try{return window.self!==window.top}catch(e){return!0}},determinePageType:function(){var pageType="other",path=window.location.pathname;if($.subKeyDefined(blist,"configuration.page")&&(pageType="dataslate"),path&&!path.match("^/({0})?/?$".format("[a-z]{2}"))||(pageType="homepage"),blist.dataset){var extra=_.compact(_.map({order:"sort",group:"grouped",where:"filter",having:"filter"},function(name,qPart){return _.isEmpty($.deepGet(blist.dataset,"metadata","jsonQuery",qPart))?null:name}));pageType=extra.length>1?"dataset-complex":1==extra.length?"dataset-{0}".format(extra[0]):"dataset"}else path.match("^/({0}/)?admin".format("[a-z]{2}"))?pageType="admin":path.match("^/({0}/)?profile".format("[a-z]{2}"))?pageType="profile":path.match("^/({0}/)?browse".format("[a-z]{2}"))?pageType="browse"+(window.location.href.indexOf("q=")>-1?"-search":""):$.subKeyDefined(blist,"govstat")&&(pageType="govstat");return pageType},browser_name:function(){return _.get($,"ua.browser.name","other").toLowerCase()}},$(window).load(function(){_.defer($.metrics.collectPageTimings)}),$(window).unload(function(){$.metrics.flush_metrics(!1)})},1686:function(module,exports,__webpack_require__){"use strict";!function($){$.fn.menu=function(options){var opts=$.extend({},$.fn.menu.defaults,options);_.isArray(opts.contents[0])||(opts.contents=[opts.contents]);var itemDirective,renderDirective,contents=_.map(opts.contents,function(column){var dividerNext=!1;return _.compact(_.map(column,function(item){return!0===item.divider?(dividerNext=!0,null):!1===item.onlyIf?null:(dividerNext&&(item.className=(item.className||"")+" divider",dividerNext=!1),item)}))}),isSettingsMenu=opts.menuButtonElement&&opts.menuButtonElement.hasClass("settings-icon");return itemDirective=isSettingsMenu?{".@class+":"row.className","a .contents":"row.text","a@title":"row.title"}:{".@class+":"row.className","a .contents":"row.text","a@href":"row.href","a@rel":"row.rel","a@title":"row.title","a .subtext":"row.subtext"},_.each(opts.additionalDataKeys,function(key){itemDirective["a@data-"+key]="row."+key}),_.each(opts.additionalJsonKeys,function(key){itemDirective["a@data-"+key]=function(k){return $.htmlEscape(JSON.stringify(k.item[key]))}}),renderDirective=isSettingsMenu?{".menuDropdown>ul>li":{"column<-columns":{"ul>li":{"row<-column":itemDirective}}}}:{"+a.menuButton":"menuButtonContents","a.menuButton@title":"menuButtonTitle","a.menuButton@class":"menuButtonClass",".menuDropdown>ul>li":{"column<-columns":{"ul>li":{"row<-column":itemDirective}}}},this.each(function(){var $menuButton,$menuContainer=$(this);isSettingsMenu?($menuContainer.empty().append($.renderTemplate("settings.menu",{columns:contents},renderDirective)),($menuButton=opts.menuButtonElement).attr("href","#")):($menuContainer.empty().append($.renderTemplate("menu",{menuButtonClass:opts.menuButtonClass,menuButtonContents:opts.menuButtonContents,menuButtonTitle:opts.menuButtonTitle,columns:contents},renderDirective)),$menuButton=$menuContainer.children("a"));var $menuDropdown=$menuContainer.children("div");$menuButton.hasClass("settings-icon")&&$menuDropdown.addClass("settings"),$menuButton.bind("click",function(event){event.preventDefault(),$menuDropdown.is(":visible")?closeMenu(opts,$menuContainer,$menuButton,$menuDropdown):openMenu(opts,$menuContainer,$menuButton,$menuDropdown)}),$menuContainer.bind("menu-close",function(){$menuDropdown.is(":visible")&&closeMenu(opts,$menuContainer,$menuButton,$menuDropdown)})})};var openMenu=function(opts,$menuContainer,$menuButton,$menuDropdown){_.isFunction(opts.onOpen)&&opts.onOpen($menuContainer),$(document).trigger("click.menu");var $par=$.isBlank(opts.parentContainer)?$menuContainer.scrollParent():$(opts.parentContainer),parOffset=$par.offset()||{top:0,left:0},origContainerBottom=$par.height()+parOffset.top,origContainerRight=$par.width()+parOffset.left;$menuContainer.addClass("open"),$menuDropdown.css("width","").css("right","").css("bottom","").css("top","").show(),$menuDropdown.offset().left+$menuDropdown.outerWidth(!0)>origContainerRight&&($menuContainer.offset().left+$menuButton.outerWidth(!0)-$menuDropdown.outerWidth(!0)<0?$menuDropdown.css("width",$(window).width()-$menuDropdown.offset().left-10):opts.noFlip||$menuDropdown.css("right",0)),$menuDropdown.offset().top+$menuDropdown.outerHeight(!0)>origContainerBottom?$menuContainer.offset().top-$menuDropdown.outerHeight(!0)>0&&$menuDropdown.css("bottom",$menuContainer.innerHeight()):$menuDropdown.css("top",$menuButton.outerHeight()),$menuDropdown.hide().fadeIn(200),$(document).unbind("click.menu"),$(document).bind("click.menu",function(event){var clickedDocument=event.target==document,clickedOutsideMenu=event.target!==$menuButton[0]&&0===$menuContainer.has(event.target).length,clickedDropdownLink=$menuDropdown.find("a").has(event.target).length>0,clickedDropdownOption=$(event.target).is(".menuDropdown a");(clickedDocument||clickedOutsideMenu||clickedDropdownLink||clickedDropdownOption)&&closeMenu(opts,$menuContainer,$menuButton,$menuDropdown)})},closeMenu=function(opts,$menuContainer,$menuButton,$menuDropdown){_.isFunction(opts.onClose)&&opts.onClose($menuContainer),$(document).unbind("click.menu"),$menuContainer.removeClass("open"),$menuContainer.is(":visible")?$menuDropdown.fadeOut(200):$menuDropdown.hide()};$.fn.menu.defaults={additionalDataKeys:[],additionalJsonKeys:[],contents:[],menuButtonClass:"menuButton",menuButtonContents:"Menu",menuButtonTitle:"Menu",menuButtonElement:null,onOpen:function(){},onClose:function(){},parentContainer:null}}(jQuery)},1687:function(module,exports,__webpack_require__){"use strict";var $;($=jQuery).fn.extend({valueManager:function(_valueManager){return void 0===_valueManager?this.data("value-manager"):(this.data("value-manager",_valueManager),this)},name:function(){var name,valueManager=this.data("value-manager");return valueManager&&valueManager.name&&(name="function"==typeof valueManager.name?valueManager.name():valueManager.name),null==name&&(name=this.attr("name")||this.attr("id")),name||void 0},value:function(_value){if(void 0===_value){var returnValue=_value;return this.each(function(){var $this=$(this),valueManager=$this.data("value-manager");if(void 0===_value&&(valueManager&&valueManager.get?returnValue=valueManager.get(_value):"TEXTAREA"==this.tagName?""===(returnValue=$this.val())&&(returnValue=null):"INPUT"!=this.tagName&&"SELECT"!=this.tagName||("checkbox"==$this.attr("type")||"radio"==$this.attr("type")?returnValue=!!$this.attr("checked"):""===(returnValue=this.value)&&(returnValue=null)),void 0!==returnValue))return!1}),returnValue}return this.each(function(){var $this=$(this),valueManager=$this.data("value-manager");valueManager&&valueManager.set?valueManager.set(_value):"TEXTAREA"==this.tagName?$this.val(null==_value?"":_value):"INPUT"!=this.tagName&&"SELECT"!=this.tagName||("checkbox"==$this.attr("type")||"radio"==$this.attr("type")?$this.attr("checked",!!_value):this.value=null==_value?"":_value)}),this},values:function(_values,get){void 0===_values&&(_values={},void 0==get&&(get=!0)),this.each(function(){var hasValue=!1,$this=$(this);if($this.data("value-manager"))hasValue=!0;else switch(this.tagName){case"INPUT":case"SELECT":case"TEXTAREA":hasValue=!0}if(hasValue){var name=$this.name();name&&(get?_values[name]=$this.value():$this.value(_values[name]))}});var $children=$(this).children();return $children.length&&$children.values(_values,get),_values},valuesRead:function(){},valuesWrite:function(){}})},1688:function(module,exports,__webpack_require__){"use strict";blist.namespace.fetch("blist.widgets.textPrompt"),function($){$.fn.blistTextPrompt=function(){return this.example(function(){return $(this).attr("title")}),this},$.fn.example.defaults.className="prompt"}(jQuery),$(function(){if($(".textPrompt").blistTextPrompt(),!$.isBlank($.validator)){var oldReq=$.validator.methods.required;$.validator.methods.required=function(value,element,param){return("textarea"!=element.nodeName.toLowerCase()&&("input"!=element.nodeName.toLowerCase()||"text"!=element.type.toLowerCase())||!$(element).hasClass("prompt"))&&oldReq.apply(this,[value,element,param])}}})},1689:function(module,exports,__webpack_require__){"use strict";!function($){$.fn.isSocrataTip=function(){return!$.isBlank($(this[0]).data("socrataTip"))},$.fn.socrataTip=function(options){var $elems=$(this);if($elems.length<2){var sTip=$elems.data("socrataTip");return sTip||(sTip=new STipObj(options,$elems[0])),sTip}return $elems.each(function(){var $t=$(this);$t.data("socrataTip")||new STipObj(options,$t[0])}),$elems};var STipObj=function STipObj(options,dom){"string"==typeof options&&(options={message:options}),this.settings=$.extend({},STipObj.defaults,options),this.currentDom=dom,this.init()};$.extend(STipObj,{defaults:{closeOnClick:!0,content:null,killTitle:!1,fill:"#fefbef",isSolo:!1,message:null,onShowCallback:null,overlap:0,parent:"body",positions:null,shownCallback:null,showSpike:!0,shrinkToFit:!0,stroke:"#999999",trigger:"hover",width:"200px"},prototype:{init:function(){var _sTipObj=this,$domObj=_sTipObj.$dom();if($domObj.exists()&&($domObj.data("socrataTip",_sTipObj),!$.isBlank(_sTipObj.settings.message)||!$.isBlank(_sTipObj.settings.content))){var pos=_sTipObj.settings.positions;_.isNull(pos)?pos=["bottom","top"]:"auto"==pos&&(pos=["most"]),blist.feature_flags.stories_enabled&&"unpublished"!==_.get(window,"blist.dataset.publicationStage")&&(pos=["most"]);var content=_sTipObj.settings.content;$.isBlank(content)&&(content=$.tag({tagName:"p",contents:_sTipObj.settings.message},!0));var options={content:_.isFunction(content)?null:content,contentSelector:_.isFunction(content)?content:null,fill:_sTipObj.settings.fill,strokeStyle:_sTipObj.settings.stroke,cornerRadius:3,spikeGirth:15,spikeLength:_sTipObj.settings.showSpike?12:0,shadow:!0,shadowOffsetX:0,shadowOffsetY:0,shadowBlur:3,shadowColor:"rgba(0, 0, 0, 0.3)",noShadowOpts:{strokeWidth:2},clickAnywhereToClose:_sTipObj.settings.closeOnClick,closeWhenOthersOpen:_sTipObj.settings.isSolo,onShowCallback:_sTipObj.settings.onShowCallback,postShow:function(box){_sTipObj._tipBox=box,$(box).data("socrataTip-$element",$domObj),_.isFunction(_sTipObj.settings.shownCallback)&&_sTipObj.settings.shownCallback(box)},shrinkToFit:_sTipObj.settings.shrinkToFit,trigger:_sTipObj.settings.trigger,positions:pos,explicitPosition:_sTipObj.settings.explicitPosition,overlap:_sTipObj.settings.overlap,offsetParent:_sTipObj.settings.parent,killTitle:_sTipObj.settings.killTitle,width:_sTipObj.settings.width,showTip:function(box){_sTipObj._disabled||(_sTipObj._visible=!0,$(box).fadeIn(300))},hideTip:function(box,callback){_sTipObj._visible=!1,_sTipObj._isDestroy?($(box).hide(),_.defer(callback)):$(box).fadeOut(300,callback)}};_sTipObj.settings.onModal&&$.extend(options,{wrapperzIndex:1e4,boxzIndex:10001,textzIndex:10002}),$domObj.bt(options),_sTipObj._opts=$domObj[0]._opts}},$dom:function(){return this._$dom||(this._$dom=$(this.currentDom)),this._$dom},show:function(){this._visible||this.$dom().btOn()},hide:function(){this._visible&&this.$dom().btOff()},refreshSize:function(){var _sTipObj=this,oldHideFunction=_sTipObj._opts.hideTip;_sTipObj._opts.hideTip=function(box,callback){_sTipObj._visible=!1,$(box).hide(),_.defer(function(){callback(),_.defer(function(){_sTipObj.show(),_sTipObj._opts.hideTip=oldHideFunction})})},_sTipObj.hide()},quickHide:function(){$getTipBox(this).css("visibility","hidden")},quickShow:function(){$getTipBox(this).css("visibility","visible")},disable:function(){this._disabled=!0},enable:function(){this._disabled=!1},destroy:function(){this._isDestroy=!0,this.hide(),this.disable(),this.$dom().btDestroy(),this.$dom().removeData("socrataTip")},adjustPosition:function(adjAmt){if(!this._disabled&&this._visible){var $tip=$getTipBox(this);$.isBlank(adjAmt.top)||$tip.css("top",$tip.position().top+adjAmt.top),$.isBlank(adjAmt.left)||$tip.css("left",$tip.position().left+adjAmt.left)}},getTipPosition:function(){if(!this._visible)return null;var $tip=$getTipBox(this).find(".bt-content"),pos=null;return parseInt($tip.css("margin-bottom"))>0?pos="top":parseInt($tip.css("margin-top"))>0?pos="bottom":parseInt($tip.css("margin-right"))>0?pos="left":parseInt($tip.css("margin-left"))>0&&(pos="right"),pos}}});var $getTipBox=function(_sTipObj){return $(_sTipObj._tipBox)};$.fn.socrataAlert=function(options){"string"==typeof options&&(options={message:options});var opts=$.extend({},$.fn.socrataAlert.defaults,options);return this.each(function(){var $socrataAlert=$(this),config=$.meta?$.extend({},opts,$socrataAlert.data()):opts;if(!_.isNull(config.message)){config.overlay&&(config.overlap=$socrataAlert.width()/2,config.positions=["left","right"],config.showSpike=!1,delete config.overlay);var hideTime=config.hideTime;delete config.hideTime,$socrataAlert.isSocrataTip()&&$socrataAlert.socrataTip().destroy(),$socrataAlert.socrataTip(config),$.isBlank(hideTime)||setTimeout(function(){$socrataAlert.socrataTip().hide()},hideTime)}})},$.fn.socrataAlert.defaults={hideTime:5e3,message:null,overlay:!1,trigger:"now"},$.fn.socrataTitleTip=function(){return this.each(function(){var $this=$(this);$this.socrataTip({message:$this.attr("title").clean(),shrinkToFit:!1,killTitle:!0})})}}(jQuery)},1690:function(module,exports,__webpack_require__){"use strict";var $;($=jQuery)(function(){$.fn.socrataJqm=function(){this.jqm({trigger:!1,modal:!0,onShow:function(jqm){jqm.w.find("iframe").each(function(){var $this=$(this),urlToLoad=$this.data("urltoload");$.isBlank(urlToLoad)||($this.attr("src",urlToLoad),$this.removeData("urltoload").removeAttr("data-urltoload"))}),$(".menu").trigger("menu-close"),_.isUndefined(blist.events)||$(document).trigger(blist.events.MODAL_SHOWN),jqm.w.fadeIn("slow"),jqm.o.fadeIn("slow")},onHide:function(jqm){jqm.w.fadeOut("slow"),jqm.o.fadeOut("slow",function(){_.isUndefined(blist.events)||$(document).trigger(blist.events.MODAL_HIDDEN)})}})},$(".modalDialog, #modals > *").socrataJqm(),$.live("a.jqmClose","click",function(event){event.preventDefault(),$(this).closest(".modalDialog").jqmHide()});var $overlay=$(".socrataModal"),$wrapper=$(".socrataModal .socrataModalWrapper"),$body=$("body"),scrollTops=[],afterComplete=function(f){window.setTimeout(f,500)};$overlay.hide();var overlayStatus="hidden",hideOverlay=function(){"showing"!==overlayStatus&&"shown"!==overlayStatus||($overlay.removeClass("shown"),overlayStatus="hiding",$wrapper.css("overflow-y","visible"),$body.css("overflow-y","visible"),$wrapper.lockScroll(!1),afterComplete(function(){"showing"!==overlayStatus&&($overlay.hide(),overlayStatus="hidden")}))},pushModal=function($contents){"showing"!==overlayStatus&&"shown"!==overlayStatus&&("hiding"!==overlayStatus&&"hidden"!==overlayStatus||($overlay.show(),$body.css("overflow-y","hidden"),overlayStatus="showing",_.defer(function(){$wrapper.lockScroll(!0),$overlay.addClass("shown"),afterComplete(function(){"hiding"!==overlayStatus&&($wrapper.css("overflow-y","scroll"),overlayStatus="shown")})})));var $previous=$wrapper.children(":last-child");if($previous.length>0){var top=$wrapper.scrollTop();scrollTops.push(top),$previous.css("top",(parseFloat($previous.css("top"))||0)-top),$previous.addClass("pushed"),afterComplete(function(){$previous.hide()})}$contents.addClass("modalContents"),$wrapper.append($contents),_.defer(function(){$contents.addClass("shown"),$contents.find(":input:first").focus().filter(":text, textarea").caretToEnd()})},popModal=function(hideAll){var $current=$wrapper.children(":last-child");$current.removeClass("shown"),afterComplete(function(){$current.remove()});var $previous=$current.prev();!0===hideAll?($current.prevAll().remove(),scrollTops=[],hideOverlay()):$previous.length>0?($previous.show(),_.defer(function(){$previous.removeClass("pushed"),afterComplete(function(){var top=scrollTops.pop();$wrapper.scrollTop(top),$previous.css("top",parseFloat($previous.css("top"))+top)})})):hideOverlay()},modalLocked=function(){return $wrapper.children(".locked").length>0};$.fn.showModal=function(){var $this=$(this);return pushModal($this),$this},$.showModal=function(name){return $("#newModals > #"+name).clone().showModal()},$.popModal=popModal,$(document).on("keyup",function(event){$(event.target).is(":not(:input)")&&27===event.keyCode&&!modalLocked()&&popModal()}),$wrapper.on("click",function(event){event.target!==this||modalLocked()||popModal(!0)}),$wrapper.on("click",".jqmClose",function(event){event.preventDefault(),popModal()}),$wrapper.on("click",":radio, :checkbox",function(){$(this).focus()}),$wrapper.on("keyup",function(event){13===event.keyCode&&$wrapper.trigger("submit",event)})})},1691:function(module,exports,__webpack_require__){"use strict";window.a11y={tableSummary:function(options){if(_.isEmpty(options.columns)||_.isEmpty(options.rows))return $.t("table.no_summary_available");var rowHeadings="";_.size(options,"rows")<5&&(rowHeadings=_.get(options,"rows",[]).join(", "));var templateOptions={data_description:_.get(options,"tableDescription",""),column_heading_count:options.columns.length,column_headings:_.get(options,"columns",[]).join(", "),row_heading_count:options.rows.length,row_headings:rowHeadings};return $.t("table.summary",templateOptions)}}},1692:function(module,exports){blist.namespace.fetch("blist.datatypes"),function($){var textualRegexes={email:blist.util.patterns.core.emailValidator,url:blist.util.patterns.core.urlValidator,phone:/\d+/},DIGITS={0:!0,1:!0,2:!0,3:!0,4:!0,5:!0,6:!0,7:!0,8:!0,9:!0},numberHelper=function(value,decimalPlaces,precisionStyle,prefix,suffix,humane,noCommas,mask,localization){if($.isBlank(value))return"";localization=localization||{};var origValue=value.toString();if(_.isString(mask)&&""!==mask){value="";for(var decSep=localization.decimalSeparator||".";origValue.length&&mask.length;)"."===origValue.charAt(0)&&(value+=decSep,origValue=origValue.slice(1)),"#"===mask.charAt(0)?(value+=origValue.charAt(0),origValue=origValue.slice(1)):value+=mask.charAt(0),mask=mask.slice(1);-1===mask.indexOf("#")&&(value+=mask),value+=origValue}else{if(!_.isNumber(value)&&(_.isString(value)&&(value=value.replace(/[^0-9\.\+\-]/g,"")),value=parseFloat(value),_.isNaN(value)))return origValue;"scientific"==precisionStyle?value=void 0!==decimalPlaces?value.toExponential(decimalPlaces):value.toExponential():void 0!==decimalPlaces&&(value=value.toFixed(decimalPlaces)),!0!==humane&&"true"!==humane||(value=blist.util.toHumaneNumber(value,2));var pos=(value=value.toString()).indexOf(".");if(!$.isBlank(localization.decimalSeparator)&&pos>-1&&(value=value.substring(0,pos)+localization.decimalSeparator+value.substring(pos+1)),!0!==noCommas&&"true"!=noCommas)for(-1==pos&&(pos=value.length),pos-=3;pos>0&&DIGITS[value.charAt(pos-1)];)value=value.substring(0,pos)+(localization.groupSeparator||",")+value.substring(pos),pos-=3}var isNegative="-"===value[0];return"currency"===precisionStyle?value=isNegative?"-"+prefix+value.substring(1):prefix+value:"financial"===precisionStyle&&isNegative?value=prefix+value.substring(1)+suffix:"financial"!==precisionStyle&&prefix&&(value=prefix+value),"financial"!==precisionStyle&&suffix&&(value+=suffix),value},renderPercent=function(value,column,plainText,inMenu){if($.deepGet(column,"view","newBackend")&&!_.isUndefined(value)&&(value*=100),plainText||inMenu)return numberHelper(value,column.format.precision,column.format.precisionStyle,null,"%",!1,column.format.noCommas,null,{groupSeparator:column.format.groupSeparator,decimalSeparator:column.format.decimalSeparator});var shouldRenderText,shouldRenderBar;switch(column.format.view){case"percent_bar":shouldRenderText=!1,shouldRenderBar=!0;break;case"percent_text":shouldRenderText=!0,shouldRenderBar=!1;break;default:shouldRenderText=shouldRenderBar=!0}var rv=['<span class="blist-percent">'];if(shouldRenderBar&&value){var cls,v=value;value>0?cls="blist-percent-bar-pos":(cls="blist-percent-bar-neg",v*=-1),v>100&&(v=100),rv.push('<span class="blist-cell ',cls,'" style="width: ',v,'%"></span>')}return shouldRenderText&&rv.push('<span class="blist-cell blist-percent-num">',numberHelper(value,column.format.precision,column.format.precisionStyle,null,"%",!1,column.format.noCommas,null,{groupSeparator:column.format.groupSeparator,decimalSeparator:column.format.decimalSeparator}),"</span>"),rv.push("</span>"),rv.join("")},uriHelper=function(value,captionIsHTML,plainText,baseUrl){return value?(value instanceof Array?(url=value[0],caption=value[1]||url):value instanceof Object?(url=value.url,caption=value.description||url):caption=url=value+"",url&&""!=url&&!url.match(/^([a-z]+):/i)&&($.isBlank(baseUrl)?0!=url.indexOf("/")&&(url="http://"+url):url=baseUrl+url),captionIsHTML||(caption=$.htmlEscape(caption)),plainText?url||caption||"":"<a target='blist-viewer' rel='external' href='"+$.htmlEscape(url)+"'>"+caption+"</a>"):"";var url,caption},renderEmail=function(value,col,plainText,inMenu){return plainText||inMenu?value:uriHelper(value&&["mailto:"+value,value])},renderPhone=function(value,column,plainText,inMenu){if(!value)return"";var num,type;_.isArray(value)?(num=value[0]||"",type=value[1]):$.isPlainObject(value)?(num=value.phone_number||"",type=value.phone_type):num=value+"";var label=num+"";label.match(/^\d{10}$/)?label="("+label.substring(0,3)+") "+label.substring(3,6)+"-"+label.substring(6,10):label.match(/^\d{7}$/)&&(label=label.substring(0,3)+"-"+label.substring(3,7));var typeStr=type?type.toLowerCase():"unknown";return plainText?(type&&(label+=" ("+typeStr+")"),label):(label=(inMenu&&!type?"":'<span class="blist-phone-icon blist-phone-icon-'+typeStr+'">'+typeStr+"</span>&nbsp;")+$.htmlEscape(label),inMenu?label:uriHelper(["tel:"+num.replace(/[\-()\s]/g,""),label],!0))},renderURL=function(value,column,plainText,inMenu){var v=value;return inMenu&&(v=$.keyValueToObject("description",value.description||v[1]),$.isBlank(v.description)&&(v.url=value.url||v[0])),uriHelper(value,!1,plainText||inMenu,(column.format||{}).baseUrl)},renderWKT=function(value){return $.isBlank(value)?"":_.isString(value)?value:WKT.stringify(value)||""},renderDocument=function(value,column,plainText){var url,name,size;if(!value)return"";if(_.isArray(value))url=value[2],name=value[1],size=value[3];else if($.isPlainObject(value))if(value.id)url=value.id,name=value.filename,size=value.size;else{url=value.file_id+"?";var args=[];value.filename&&args.push("filename="+escape(value.filename)),value.content_type&&args.push("content_type="+escape(value.content_type)),url+=args.join("&"),name=value.filename,size=value.size}else url=value+"";if(!url)return"";if(plainText)return name||"";var rv=uriHelper([(column.baseUrl()||"")+url,name||"Document"]);return $.isBlank(size)||(0==(size=Math.round(size/1024))&&(size=1),rv+='&nbsp;<span class="blist-document-size">('+size+"k)</span>"),rv},aggs=[{text:$.t("core.aggregates.average"),value:"avg",calculate:function(values){var count=0;return _.reduce(values,function(memo,v){return $.isBlank(v)?memo:(count++,memo+parseFloat(v))},0)/(count||1)}},{text:$.t("core.aggregates.count"),value:"count",calculate:function(values){return _.reduce(values,function(memo,v){return memo+($.isBlank(v)?0:1)},0)}},{text:$.t("core.aggregates.sum"),value:"sum",calculate:function(values){return _.reduce(values,function(memo,v){return memo+($.isBlank(v)?0:parseFloat(v))},0)}},{text:$.t("core.aggregates.maximum"),value:"max",calculate:function(values){return _.reduce(values,function(memo,v){return $.isBlank(memo)?v:$.isBlank(v)?memo:Math.max(memo,parseFloat(v))},null)}},{text:$.t("core.aggregates.minimum"),value:"min",calculate:function(values){return _.reduce(values,function(memo,v){return $.isBlank(memo)?v:$.isBlank(v)?memo:Math.min(memo,parseFloat(v))},null)}}];blist.datatypes.soda2Aggregate=function(agg){return{average:"avg",minimum:"min",maximum:"max"}[agg]||agg},blist.datatypes.aggregateFromSoda2=function(agg){return{avg:"average",min:"minimum",max:"maximum"}[agg]||agg};var nonNumericAggs=_.select(aggs,function(a){return"count"==a.value}),alignLeft={text:$.t("core.alignment.left"),value:"left"},alignCenter={text:$.t("core.alignment.center"),value:"center"},alignRight={text:$.t("core.alignment.right"),value:"right"},alignment=[alignLeft,alignCenter,alignRight],numericAlignment=[alignRight,alignLeft,alignCenter],textAsText={text:$.t("core.data_types.text"),value:"plain"},textAsEmail={text:$.t("core.data_types.email"),value:"email"},textAsUrl={text:$.t("core.data_types.url"),value:"url"},textFormattingOptions=[textAsText,textAsEmail,{text:$.t("core.data_types.phone"),value:"phone"},textAsUrl],numericConvertTypes=["money","number","percent","stars"],dateTimeFormats={},zDateTimeFormats={};_.each({date_time:"m/d/Y",date:"m/d/Y",date_dmy_time:"d/m/Y",date_dmy:"d/m/Y",date_ymd_time:"Y/m/d",date_ymd:"Y/m/d",date_monthdy_time:"F d, Y",date_monthdy:"F d, Y",date_shortmonthdy:"M d, Y",date_monthdy_shorttime:"F d, Y",date_dmonthy:"d F Y",date_dmonthy_time:"d F Y",date_shortmonthdy_shorttime:"M d, Y",date_ymonthd_time:"Y F d",date_ymonthd:"Y F d",date_my:"m/Y",date_ym:"Y/m",date_shortmonthy:"M Y",date_yshortmonth:"Y M",date_monthy:"F Y",date_ymonth:"Y F",date_y:"Y"},function(v,k){dateTimeFormats[k]=v,zDateTimeFormats[k]=v,k.endsWith("_time")?(dateTimeFormats[k]+=" h:i:s A",zDateTimeFormats[k]+=" h:i:s A O"):k.endsWith("_shorttime")&&(dateTimeFormats[k]+=" h:i A",zDateTimeFormats[k]+=" h:i A O")});var possibleDateViews=[{value:"date_time",text:"month/day/year hour:minute"},{value:"date",text:"month/day/year"},{value:"date_dmy_time",text:"day/month/year hour:minute"},{value:"date_dmy",text:"day/month/year"},{value:"date_ymd_time",text:"year/month/day hour:minute"},{value:"date_ymd",text:"year/month/day"},{value:"date_monthdy_shorttime",text:"month day, year hour:minute"},{value:"date_monthdy",text:"month day, year"},{value:"date_shortmonthdy",text:"month day, year"},{value:"date_monthdy_time",text:"month day, year hour:minute"},{value:"date_dmonthy",text:"day month year"},{value:"date_dmonthy_time",text:"day month year hour:minute"},{value:"date_shortmonthdy_shorttime",text:"month day, year hour:minute"},{value:"date_ymonthd",text:"year month day"},{value:"date_ymonthd_time",text:"year month day hour:minute"},{value:"date_my",text:"month/year",isMonth:!0},{value:"date_ym",text:"year/month",isMonth:!0},{value:"date_shortmonthy",text:"month year",isMonth:!0},{value:"date_yshortmonth",text:"year month",isMonth:!0},{value:"date_monthy",text:"month year",isMonth:!0},{value:"date_ymonth",text:"year month",isMonth:!0},{value:"date_y",text:"year",isYear:!0}],dateViews=function(funcOrCol,exclusive){var func=_.isString(funcOrCol)||$.isBlank(funcOrCol)?funcOrCol:funcOrCol.format.group_function;return _.select(possibleDateViews,function(dv){switch(func){case"date_ymd":return!(dv.value.endsWith("time")||exclusive&&(dv.isMonth||dv.isYear));case"date_ym":return dv.isMonth||!exclusive&&dv.isYear;case"date_y":return dv.isYear;default:return!exclusive||dv.value.endsWith("time")}})},dateGroupFunctions=function(prefix){return[{text:$.t("core.group_function.date_day"),value:prefix+"_trunc_ymd"},{text:$.t("core.group_function.date_month"),value:prefix+"_trunc_ym"},{text:$.t("core.group_function.date_year"),value:prefix+"_trunc_y"}]};blist.datatypes.soda2GroupFunction=function(gf,col){if($.isBlank(gf))return gf;var rf="";return gf.startsWith("date_")&&(rf+="date"==col.renderTypeName?"datez":"date"),rf+="_trunc_"+gf.slice(gf.indexOf("_")+1)},blist.datatypes.groupFunctionFromSoda2=function(gf){return $.isBlank(gf)?gf:gf.replace("datez_","date_").replace("_trunc_","_")},blist.datatypes.interfaceTypes={blob:{renderer:function(value,column,plainText,inMenu,context){var fileData,ds=context.modelView;if(ds&&(fileData=ds.fileDataForFileId(value))){var documentObject={file_id:fileData.id,size:fileData.size,content_type:fileData.contentType,filename:fileData.filename};return renderDocument(documentObject,column,plainText)}return renderDocument.apply(null,arguments)}},checkbox:{renderer:function(value,column,plainText,inMenu){return plainText?value?"&#10003;":"":['<span class="blist-cell blist-checkbox blist-checkbox-',value?"on":"off",'"',inMenu?"":' title="'+(value?"True":"False"),'">',value?"True":"False","</span>"].join("")}},date:{renderer:function(value,column){if($.isBlank(value))return"";var d,type=column.renderType||blist.datatypes.date,format=type.formats[column.format.view]||type.formats.date_time;return"m/d/Y h:i:s A O"==format?function(value,stringParse){if(null==value)return"";var d;if(!(d=_.isNumber(value)?new Date(1e3*value):$.isBlank(stringParse)?Date.parse(value):Date.parseExact(value,stringParse)))return"";var hour=d.getHours();if(hour>11){hour-=12;var meridian=" PM"}else meridian=" AM";hour||(hour=12),hour<10&&(hour="0"+hour);var minute=d.getMinutes();minute<10&&(minute="0"+minute);var second=d.getSeconds();second<10&&(second="0"+second);var day=d.getDate();day<10&&(day="0"+day);var month=d.getMonth()+1;return month<10&&(month="0"+month),month+"/"+day+"/"+d.getFullYear()+" "+hour+":"+minute+":"+second+meridian+" "+d.getUTCOffset()}(value,type.stringParse):(_.isNumber(value)?d=new Date(1e3*value):(value=value.replace(/\.\d{3}Z?/,""),d=$.isBlank(type.stringParse)?Date.parse(value):Date.parseExact(value,type.stringParse)),d?d.format(format):"")}},document:{renderer:renderDocument},email:{renderer:renderEmail},geospatial:{renderer:function(value,column){if($.isBlank(value))return"";var rv=[];if(!$.isBlank(value.geometry)){var imageUrl=$.addAppToken(column.baseUrl()+value.row_id+"?column="+column.id+"&width=60&height=150");rv.push('<embed src="',imageUrl,'" width="',"60",'" height="',"150",'"></embed>')}return rv.join("")}},html:{renderer:function(value,col,plainText,inMenu){return $.isBlank(value)?"":plainText||inMenu?$.htmlStrip(value):'<span class="blist-html">'+value+"</span>"}},location:{renderer:function(value,column,plainText,inMenu){if($.isBlank(value))return"";var v=value,view=column.format.view;"location"!=this.name&&(view="address_coords",v=$.keyValueToObject(this.name,v)),$.isBlank(view)&&(view="address_coords");var pieces=[];if(!$.isBlank(v.human_address)&&view.startsWith("address")){var a=_.isString(v.human_address)?JSON.parse(v.human_address):v.human_address;$.isBlank(a.address)||""===a.address||pieces.push(a.address),pieces.push(_.compact([_.compact([a.city,a.state]).join(", "),a.zip]).join(" "))}return!view.endsWith("coords")||$.isBlank(v.latitude)&&$.isBlank(v.longitude)?view.endsWith("coords")&&_.isArray(v.coordinates)&&2===v.coordinates.length&&pieces.push("("+(v.coordinates[1]||"")+(plainText?"":"&deg;")+", "+(v.coordinates[0]||"")+(plainText?"":"&deg;")+")"):pieces.push("("+(v.latitude||"")+(plainText?"":"&deg;")+", "+(v.longitude||"")+(plainText?"":"&deg;")+")"),pieces.join(plainText||inMenu?" \n":"<br />")}},lookupList:{renderer:function(value,column,plainText){if(!_.isString(value)||$.isBlank(value))return"";var matchVal,ddl=column.dropDownList||this.dropDownList;if(ddl)for(var lcVal=value.toLowerCase(),i=0;i<ddl.values.length;i++){var v=ddl.values[i];if((v.id||"").toLowerCase()==lcVal){matchVal=v;break}}if($.isBlank(matchVal))return plainText?value:'<div class="blist-dataset-link-dangling">'+value+"</div>";var view=column.format.view||(this.format||{}).view||"icon_text",result=[];return plainText||(result.push('<span class="blist-dropdownlist-wrapper blist-'+(this.cls||this.name)+'">'),!$.isBlank(matchVal.icon)&&view.startsWith("icon")&&result.push('<img class="blist-table-option-icon" src="',matchVal.icon,'" title="',$.htmlStrip(matchVal.description||""),'" />')),(plainText||view.endsWith("text"))&&result.push($.htmlStrip(matchVal.description||"")),plainText||result.push("</span>"),result.join("")}},money:{renderer:function(value,column){return _.isString(value)&&(value=value.replace(/[^0-9\.\-\+]/g,"")),numberHelper(value,column.format.precision||2,column.format.precisionStyle,blist.datatypes.money.currencies[column.format.currency||"USD"],null,column.format.humane,!1,null,{groupSeparator:column.format.groupSeparator,decimalSeparator:column.format.decimalSeparator})}},number:{renderer:function(value,column){if("percentage"===column.format.precisionStyle)return renderPercent.apply(null,arguments);var prefix=null,suffix=null;switch(column.format.precisionStyle){case"currency":prefix=blist.datatypes.money.currencies[column.format.currencyStyle];break;case"percentage":suffix="%";break;case"financial":prefix="(",suffix=")"}return numberHelper(value,column.format.precision,column.format.precisionStyle,prefix,suffix,!1,column.format.noCommas,column.format.mask,{groupSeparator:column.format.groupSeparator,decimalSeparator:column.format.decimalSeparator})}},object:{renderer:function(value){return $.htmlEscape(value?JSON.stringify(value):"")}},percent:{renderer:renderPercent},phone:{renderer:renderPhone},photo:{renderer:function(value,column,plainText,inMenu,context){if($.isBlank(value))return"";var url;value=value.trim(),url=/^(https?:)?\/\//i.test(value)?new RegExp("^https?://"+column.view.domainCName,"i").test(value)&&column.view._useSODA2?value:"":escape(column.baseUrl()+value);if(plainText)return url;$.isBlank(column.format.size)||(url+="?size="+column.format.size);var img='<img src="'+$.htmlEscape(url)+'"></img>';return(context||{permissions:{}}).permissions.canEdit?img:uriHelper({url:value,description:img},!0,!1,column.baseUrl())}},stars:{renderer:function(value,column,plainText,inMenu,context){if($.isBlank(value)||value<=0)return"";var rv=[];if(plainText){for(var i=0;i<value;i++)rv.push("*");return rv.join("")}var range=parseFloat(column.format.range);(range<=0||isNaN(range))&&(range=5),range*=16,inMenu&&rv.push('<div class="blist-tstars-wrapper">');var on=Math.min(range,Math.round(16*value)),off=range-on;return rv.push('<span class="blist-tstars-render-wrapper" style="width:',range,'px">'),(context||{permissions:{}}).permissions.canEdit&&rv.push('<span class="blist-star-0"></span>'),rv.push('<span class="blist-tstars" style="width: ',range,'px"><span class="blist-cell blist-tstar-on" style="width: ',on,'px"></span><span class="blist-cell blist-tstar-off" style="width: ',off,"px; background-position-x: ",-on%16,'px"></span></span></span>'),inMenu&&rv.push(value,"</div>"),rv.join("")}},text:{renderer:function(value,column,plainText,inMenu,context,skipEscape){switch($.deepGet(column,"format","displayStyle")){case"email":if(textualRegexes.email.test(value))return renderEmail.apply(null,arguments);break;case"url":if(textualRegexes.url.test(value))return renderURL.apply(null,arguments);break;case"phone":if(textualRegexes.phone.test(value))return renderPhone(value={phone_type:"modern",phone_number:value},column,plainText,inMenu)}var v=inMenu?$.htmlStrip(value):$.isBlank(value)?"":value;return skipEscape?v:$.htmlEscape(v)}},url:{renderer:renderURL},point:{renderer:renderWKT},multipoint:{renderer:renderWKT},line:{renderer:renderWKT},multiline:{renderer:renderWKT},polygon:{renderer:renderWKT},multipolygon:{renderer:renderWKT}};var groups={standard:$.t("screens.ds.grid_sidebar.base.datatypes.groups.standard"),geometry:$.t("screens.ds.grid_sidebar.base.datatypes.groups.geometry")};$.extend(blist.datatypes,{invalid:{interfaceType:blist.datatypes.interfaceTypes.text},text:{title:"Plain Text",group:groups.standard,interfaceType:blist.datatypes.interfaceTypes.text,aggregates:nonNumericAggs,alignment:alignment,convertableTypes:["html","calendar_date","date","phone","email","checkbox","flag"].concat(numericConvertTypes),createable:!0,deleteable:!0,displayOptions:textFormattingOptions,filterConditions:blist.filter.groups.textual,inlineType:!0,matchValue:function(v){return _.isString(v)&&(v=v.toLowerCase()),v},priority:1,rollUpAggregates:nonNumericAggs,sortable:!0},html:{title:"Formatted Text",interfaceType:blist.datatypes.interfaceTypes.html,aggregates:nonNumericAggs,convertableTypes:["text","calendar_date","date","phone","email","checkbox","flag"].concat(numericConvertTypes),createable:!1,deleteable:!0,deprecatedInNbe:!0,deprecatedInWave1:!0,filterConditions:$.extend(!0,{details:{EQUALS:{interfaceType:blist.datatypes.interfaceTypes.text},NOT_EQUALS:{interfaceType:blist.datatypes.interfaceTypes.text},STARTS_WITH:{interfaceType:blist.datatypes.interfaceTypes.text},CONTAINS:{interfaceType:blist.datatypes.interfaceTypes.text},NOT_CONTAINS:{interfaceType:blist.datatypes.interfaceTypes.text}}},blist.filter.groups.textual),priority:2,rollUpAggregates:nonNumericAggs,sortable:!0},number:{title:"Number",group:groups.standard,interfaceType:blist.datatypes.interfaceTypes.number,aggregates:aggs,alignment:numericAlignment,cls:"number",convertableTypes:_.without(numericConvertTypes,"number").concat("text"),createable:!0,deleteable:!0,filterConditions:blist.filter.groups.numeric,inlineType:!0,matchValue:function(v){return v=parseFloat(v),_.isNaN(v)?null:v},precisionStyle:[{text:$.t("core.precision_style.standard"),value:"standard"},{text:$.t("core.precision_style.scientific"),value:"scientific"},{text:$.t("core.precision_style.currency"),value:"currency"},{text:$.t("core.precision_style.percentage"),value:"percentage"},{text:$.t("core.precision_style.financial"),value:"financial"}],priority:3,rollUpAggregates:aggs,sortable:!0},money:{title:"Money",interfaceType:blist.datatypes.interfaceTypes.money,aggregates:aggs,alignment:numericAlignment,cls:"money",convertableTypes:_.without(numericConvertTypes,"money").concat("text"),createable:!0,currencies:{USD:"$",GBP:"",EUR:"",JPY:"",AFN:"",ALL:"Lek",ANG:"",ARS:"$",AUD:"$",AWG:"",AZN:"",BAM:"KM",BBD:"$",BGN:"",BMD:"$",BND:"$",BOB:"$b",BRL:"R$",BSD:"$",BWP:"P",BYR:"p.",BZD:"BZ$",CAD:"$",CHF:"CHF",CLP:"$",CNY:"",COP:"$",CRC:"",CUP:"",CZK:"K",DKK:"kr",DOP:"RD$",EEK:"kr",EGP:"",FJD:"$",FKP:"",GGP:"",GHC:"",GIP:"",GTQ:"Q",GYD:"$",HKD:"$",HNL:"L",HRK:"kn",HUF:"Ft",INR:"Rp",ILS:"",IMP:"",IRR:"",ISK:"kr",JEP:"",JMD:"J$",KES:"KSh",KGS:"",KHR:"",KPW:"",KRW:"",KYD:"$",KZT:"",LAK:"",LBP:"",LKR:"",LRD:"$",LTL:"Lt",LVL:"Ls",MKD:"",MNT:"",MUR:"",MXN:"$",MYR:"RM",MZN:"MT",NAD:"$",NGN:"",NIO:"C$",NOK:"kr",NPR:"",NZD:"$",OMR:"",PAB:"B/.",PEN:"S/.",PHP:"Php",PKR:"",PLN:"z",PYG:"Gs",QAR:"",RON:"lei",RSD:".",RUB:"",SAR:"",SBD:"$",SCR:"",SEK:"kr",SGD:"$",SHP:"",SOS:"S",SRD:"$",SVC:"$",SYP:"",THB:"",TRL:"",TRY:"TL",TTD:"TT$",TVD:"$",TWD:"NT$",UAH:"",UYU:"$U",UZS:"",VEF:"Bs",VND:"",XCD:"$",YER:"",ZAR:"R",ZWD:"Z$"},deleteable:!0,deprecatedInNbe:!0,deprecatedInWave2:!0,filterConditions:blist.filter.groups.numeric,soqlFilterValue:function(v){return"to_usd("+v+")"},inlineType:!0,matchValue:function(v){return v=parseFloat(v),_.isNaN(v)?null:v},priority:4,rollUpAggregates:aggs,sortable:!0},percent:{title:"Percent",interfaceType:blist.datatypes.interfaceTypes.percent,aggregates:aggs,alignment:numericAlignment,cls:"percent",convertableTypes:_.without(numericConvertTypes,"percent").concat("text"),createable:!0,deleteable:!0,deprecatedInNbe:!0,deprecatedInWave2:!0,filterConditions:blist.filter.groups.numeric,matchValue:function(v){return v=parseFloat(v),_.isNaN(v)?null:v},priority:5,rollUpAggregates:aggs,sortable:!0,viewTypes:[{value:"percent_bar_and_text",text:"Bar &amp; Text"},{value:"percent_bar",text:"Bar Only"},{value:"percent_text",text:"Text Only"}]},date:{title:"Date & Time (with timezone)",interfaceType:blist.datatypes.interfaceTypes.date,aggregates:nonNumericAggs,alignment:alignment,cls:"date",convertableTypes:["text","calendar_date"],createable:!0,deleteable:!0,deprecatedInNbe:!0,filterConditions:blist.filter.groups.date,filterValue:function(v){var d=v;return d=_.isNumber(v)?new Date(1e3*v):Date.parse(v),$.isBlank(d)?"":d.format("m/d/Y h:i:s A")},formats:zDateTimeFormats,fromSoQLValue:function(v){var d=v;return _.isString(v)&&(d=new Date(d),$.isBlank(d)||(d=d.getTime()/1e3)),d},inlineType:!0,matchValue:function(v){var d=v;return _.isString(v)&&(d=Date.parse(v),$.isBlank(d)||(d=d.getTime()/1e3)),d},priority:7,rollUpAggregates:nonNumericAggs,groupFunctions:dateGroupFunctions("datez"),soqlFilterValue:function(v){var d=v;return _.isString(v)?d=Date.parse(v):_.isNumber(v)&&(d=new Date(1e3*v)),_.isDate(d)&&(d="'"+d.toISOString().replace(/\.\d{3}/,"")+"'"),d},sortable:!0,viewTypes:dateViews},calendar_date:{title:"Date & Time",group:groups.standard,interfaceType:blist.datatypes.interfaceTypes.date,aggregates:nonNumericAggs,alignment:alignment,cls:"date",convertableTypes:["text","date"],createable:!0,deleteable:!0,filterConditions:blist.filter.groups.date,filterValue:function(v){return v},formats:dateTimeFormats,inlineType:!0,priority:6,rollUpAggregates:nonNumericAggs,groupFunctions:dateGroupFunctions("date"),sortable:!0,stringParse:"yyyy-MM-ddTHH:mm:ss",stringFormat:"yyyy-MM-ddTHH:mm:ss",viewTypes:dateViews},email:{title:"Email",interfaceType:blist.datatypes.interfaceTypes.email,aggregates:nonNumericAggs,alignment:alignment,convertableTypes:["text"],createable:!1,deleteable:!0,deprecatedInNbe:!0,deprecatedInWave2:!0,filterConditions:$.extend(!0,{details:{STARTS_WITH:{interfaceType:blist.datatypes.interfaceTypes.text},CONTAINS:{interfaceType:blist.datatypes.interfaceTypes.text},NOT_CONTAINS:{interfaceType:blist.datatypes.interfaceTypes.text}}},blist.filter.groups.textual),inlineType:!0,priority:10,rollUpAggregates:nonNumericAggs,sortable:!0},phone:{title:"Phone",interfaceType:blist.datatypes.interfaceTypes.phone,aggregates:nonNumericAggs,alignment:alignment,cls:"phone",convertableTypes:["text"],createable:!1,defaultFilterSubColumn:"phone_type",deleteable:!0,deprecatedInNbe:!0,deprecatedInWave1:!0,priority:14,sortable:!0,subColumns:{phone_number:{title:"Number",interfaceType:blist.datatypes.interfaceTypes.text,filterConditions:blist.filter.groups.textual},phone_type:{title:"Type",interfaceType:blist.datatypes.interfaceTypes.lookupList,dropDownList:{values:[{id:"Cell",description:"Cell",icon:"/stylesheets/images/content/table/phones/cell.png"},{id:"Home",description:"Home",icon:"/stylesheets/images/content/table/phones/home.png"},{id:"Work",description:"Work",icon:"/stylesheets/images/content/table/phones/work.png"},{id:"Fax",description:"Fax",icon:"/stylesheets/images/content/table/phones/fax.png"},{id:"Other",description:"Other",icon:"/stylesheets/images/content/table/phones/other.png"}]},filterConditions:blist.filter.groups.comparable}}},url:{title:"Website URL",interfaceType:blist.datatypes.interfaceTypes.url,aggregates:nonNumericAggs,alignment:alignment,convertableTypes:["text"],createable:!0,defaultFilterSubColumn:"description",deleteable:!0,deprecatedInNbe:!0,deprecatedInWave3:!0,inlineType:!0,priority:9,rollUpAggregates:nonNumericAggs,sortable:!0,subColumns:{url:{title:"URL",interfaceType:blist.datatypes.interfaceTypes.url,cls:"url_sub",filterConditions:$.extend(!0,{details:{STARTS_WITH:{interfaceType:blist.datatypes.interfaceTypes.text},CONTAINS:{interfaceType:blist.datatypes.interfaceTypes.text},NOT_CONTAINS:{interfaceType:blist.datatypes.interfaceTypes.text}}},blist.filter.groups.textual)},description:{title:"Description",interfaceType:blist.datatypes.interfaceTypes.text,filterConditions:blist.filter.groups.textual}}},checkbox:{title:"Checkbox",group:groups.standard,interfaceType:blist.datatypes.interfaceTypes.checkbox,aggregates:nonNumericAggs,alignment:[alignCenter,alignLeft,alignRight],convertableTypes:["text"],createable:!0,deleteable:!0,filterConditions:blist.filter.groups.check,filterValue:function(value){return value?1:0},isInlineEdit:!0,priority:11,rollUpAggregates:nonNumericAggs,sortable:!0},flag:{title:"Flag",interfaceType:blist.datatypes.interfaceTypes.lookupList,aggregates:nonNumericAggs,alignment:alignment,convertableTypes:["text"],createable:!1,deleteable:!0,deprecatedInNbe:!0,deprecatedInWave1:!0,dropDownList:{values:[{id:"red",description:"Red",icon:"/stylesheets/images/content/table/flags/red.png"},{id:"blue",description:"Blue",icon:"/stylesheets/images/content/table/flags/blue.png"},{id:"green",description:"Green",icon:"/stylesheets/images/content/table/flags/green.png"},{id:"yellow",description:"Yellow",icon:"/stylesheets/images/content/table/flags/yellow.png"},{id:"orange",description:"Orange",icon:"/stylesheets/images/content/table/flags/orange.png"},{id:"purple",description:"Purple",icon:"/stylesheets/images/content/table/flags/purple.png"}]},filterConditions:blist.filter.groups.comparable,format:{view:"icon"},priority:12,rollUpAggregates:nonNumericAggs,sortable:!0},stars:{title:"Star",interfaceType:blist.datatypes.interfaceTypes.stars,aggregates:_.reject(aggs,function(a){return"sum"==a.value}),alignment:alignment,cls:"stars",convertableTypes:_.without(numericConvertTypes,"stars").concat("text"),createable:!1,deleteable:!0,deprecatedInNbe:!0,deprecatedInWave1:!0,filterConditions:blist.filter.groups.numeric,isInlineEdit:!0,priority:13,rollUpAggregates:_.reject(aggs,function(a){return"sum"==a.value}),soqlFieldWrapper:function(f,op){return op.endsWith("BLANK")?f:"to_number("+f+")"},sortable:!0},location:{title:"Location",interfaceType:blist.datatypes.interfaceTypes.location,alignment:alignment,createable:!0,defaultFilterSubColumn:"human_address",deleteable:!0,deprecatedInNbe:!0,priority:8,disableNBEFilter:!0,matchValue:function(v){return _.isString((v||{}).human_address)&&(v=$.extend({},v,{human_address:$.deepCompact(JSON.parse(v.human_address))}),_.each(_.keys(v.human_address),function(k){v.human_address[k]=v.human_address[k].toLowerCase()})),v},subColumns:{human_address:{title:"Address",interfaceType:blist.datatypes.interfaceTypes.location,matchValue:function(v){return _.isString(v)&&(v=$.deepCompact(JSON.parse(v)),_.each(_.keys(v),function(k){v[k]=(v[k]||"").toLowerCase()||null})),v},filterConditions:blist.filter.groups.textObject},latitude:{title:"Latitude",interfaceType:blist.datatypes.interfaceTypes.number,filterConditions:blist.filter.groups.numeric,matchValue:function(v){return v=parseFloat(v),_.isNaN(v)?null:v}},longitude:{title:"Longitude",interfaceType:blist.datatypes.interfaceTypes.number,filterConditions:blist.filter.groups.numeric,matchValue:function(v){return v=parseFloat(v),_.isNaN(v)?null:v}}},viewTypes:[{value:"address_coords",text:"Address &amp; Coordinates"},{value:"coords",text:"Coordinates Only"},{value:"address",text:"Address Only"}]},geospatial:{title:"Geospatial",interfaceType:blist.datatypes.interfaceTypes.geospatial,alignment:alignment,createable:!1,deleteable:!1,priority:20},blob:{title:"Blob",cls:"photo",group:groups.standard,interfaceType:blist.datatypes.interfaceTypes.blob,aggregates:nonNumericAggs,createable:!0,deleteable:!0,nbeOnly:!0,filterConditions:blist.filter.groups.blob,inlineType:!0},document:{title:"Document",interfaceType:blist.datatypes.interfaceTypes.document,aggregates:nonNumericAggs,createable:!0,deleteable:!0,deprecatedInNbe:!0,deprecatedInWave3:!0,filterConditions:blist.filter.groups.blob,inlineType:!0,priority:17},photo:{title:"Photo (Image)",interfaceType:blist.datatypes.interfaceTypes.photo,aggregates:nonNumericAggs,cls:"photo",createable:!0,deleteable:!0,deprecatedInNbe:!0,deprecatedInWave3:!0,filterConditions:blist.filter.groups.blob,priority:16},drop_down_list:{title:"Multiple Choice",interfaceType:blist.datatypes.interfaceTypes.lookupList,aggregates:nonNumericAggs,alignment:alignment,createable:!1,deleteable:!0,deprecatedInNbe:!0,deprecatedInWave1:!0,filterConditions:blist.filter.groups.comparable,matchValue:function(v,col){return col.view._useSODA2?v:(_.any(col.dropDownList.values,function(ddv,i){return ddv.id==v&&(v=i,!0)}),v)},fromSoQLValue:function(v,col){return _.any(col.dropDownList.values,function(ddv){return(ddv.id==v||ddv.description==v)&&(v=ddv.id,!0)}),v},priority:15,rollUpAggregates:nonNumericAggs,sortable:!0},dataset_link:{title:"Dataset Link",interfaceType:blist.datatypes.interfaceTypes.lookupList,aggregates:nonNumericAggs,alignment:alignment,convertableTypes:["text"],createable:!1,deleteable:!0,deprecatedInNbe:!0,filterConditions:$.extend(!0,{details:{STARTS_WITH:{interfaceType:blist.datatypes.interfaceTypes.text},CONTAINS:{interfaceType:blist.datatypes.interfaceTypes.text},NOT_CONTAINS:{interfaceType:blist.datatypes.interfaceTypes.text}}},blist.filter.groups.textual),matchValue:function(v,col){return $.isBlank(col.dropDownList)||_.any(col.dropDownList.values,function(ddv){return ddv.id==v&&(v=ddv.description,!0)}),v},priority:19,rollUpAggregates:nonNumericAggs,sortable:!0},object:{title:"Object",interfaceType:blist.datatypes.interfaceTypes.object,alignment:alignment,createable:!1,deleteable:!1,priority:20},list:{title:"List",interfaceType:blist.datatypes.interfaceTypes.object,createable:!1,deleteable:!1,alignment:alignment,priority:21},point:{title:"Point",group:groups.geometry,interfaceType:blist.datatypes.interfaceTypes.point,alignment:alignment,createable:!1,deleteable:!1,nbeModifiable:!0,filterConditions:blist.filter.groups.blob,priority:22},multipoint:{title:"Multi-Point",group:groups.geometry,interfaceType:blist.datatypes.interfaceTypes.multipoint,alignment:alignment,createable:!0,deleteable:!0,nbeOnly:!0,priority:23},line:{title:"Line-String",group:groups.geometry,interfaceType:blist.datatypes.interfaceTypes.line,alignment:alignment,createable:!0,deleteable:!0,nbeOnly:!0,priority:22},multiline:{title:"Multi-Line-String",group:groups.geometry,interfaceType:blist.datatypes.interfaceTypes.multiline,alignment:alignment,createable:!1,deleteable:!1,nbeModifiable:!0,priority:23},polygon:{title:"Polygon",group:groups.geometry,interfaceType:blist.datatypes.interfaceTypes.polygon,alignment:alignment,createable:!0,deleteable:!0,nbeOnly:!0,priority:22},multipolygon:{title:"Multi-Polygon",group:groups.geometry,interfaceType:blist.datatypes.interfaceTypes.multipolygon,alignment:alignment,createable:!1,deleteable:!1,nbeModifiable:!0,priority:23}});var setUpType=function(type,name){type.name=type.name||name,type.renderer=function(){return $.subKeyDefined(type,"interfaceType.renderer")?type.interfaceType.renderer.apply(type,arguments):""},type.matches=function(op,col){if(op=op.toUpperCase(),!$.subKeyDefined(type,"filterConditions.details."+op))return!1;var vals=_.map(_.flatten(_.toArray(arguments).slice(2)),function(v){return _.isFunction(type.matchValue)&&(v=type.matchValue(v,col)),v});return type.filterConditions.details[op].matches.apply(type,vals)}};_.each(blist.datatypes,function(type,name){setUpType(type,name),_.each(type.subColumns||{},function(sc,sn){setUpType(sc,sn)})})}(jQuery)},1693:function(module,exports,__webpack_require__){"use strict";blist.namespace.fetch("blist.filter"),function($){var toUpperFn=function(arg){return"UPPER("+arg+")"},identityFn=function(arg){return arg},soqlInfix=function(c,op,v,fn){return fn||(fn=identityFn),fn.call(this,c)+op+fn.call(this,v)},soqlFunc=function(c,op,v,fn){return fn||(fn=identityFn),op+"("+fn.call(this,c)+(void 0===v?"":","+fn.call(this,v))+")"},isText=function(fieldName,ds){return ds.columnForFieldName(fieldName).isText()},filterOperators={EQUALS:{text:$.t("core.filters.informal.equals"),editorCount:1,soql:function(c,v,ds){return soqlInfix(c,"=",v,ds.newBackend&&isText(c,ds)?toUpperFn:identityFn)},opMatches:function(v,cv){return _.isEqual(v,cv)}},NOT_EQUALS:{text:$.t("core.filters.informal.not_equals"),editorCount:1,soql:function(c,v,ds){return soqlInfix(c,"!=",v,ds.newBackend&&isText(c,ds)?toUpperFn:identityFn)},opMatches:function(v,cv){return!_.isEqual(v,cv)}},STARTS_WITH:{text:$.t("core.filters.informal.starts_with"),editorCount:1,soql:function(c,v,ds){return soqlFunc(c,"starts_with",v,ds.newBackend?toUpperFn:identityFn)},opMatches:function(v,cv){return(v||"").startsWith(cv)}},CONTAINS:{text:$.t("core.filters.informal.contains"),editorCount:1,soql:function(c,v){return soqlFunc(c,"contains",v)},opMatches:function(v,cv){return(v||"").indexOf(cv)>-1}},NOT_CONTAINS:{text:$.t("core.filters.informal.not_contains"),editorCount:1,soql:function(c,v){return soqlFunc(c,"not contains",v)},opMatches:function(v,cv){return(v||"").indexOf(cv)<0}},CONTAINS_INSENSITIVE:{text:$.t("core.filters.informal.contains"),editorCount:1,soql:function(c,v){return soqlFunc(c,"contains",v)},opMatches:function(v,cv){return(v||"").indexOf(cv)>-1}},NOT_CONTAINS_INSENSITIVE:{text:$.t("core.filters.informal.not_contains"),editorCount:1,soql:function(c,v){return soqlFunc(c,"not contains",v)},opMatches:function(v,cv){return(v||"").indexOf(cv)<0}},LESS_THAN:{text:$.t("core.filters.informal.less_than"),editorCount:1,soql:function(c,v){return soqlInfix(c,"<",v)},opMatches:function(v,cv){return v<cv}},LESS_THAN_OR_EQUALS:{text:$.t("core.filters.informal.less_than_or_equals"),editorCount:1,soql:function(c,v){return soqlInfix(c,"<=",v)},opMatches:function(v,cv){return v<=cv}},GREATER_THAN:{text:$.t("core.filters.informal.greater_than"),editorCount:1,soql:function(c,v){return soqlInfix(c,">",v)},opMatches:function(v,cv){return v>cv}},GREATER_THAN_OR_EQUALS:{text:$.t("core.filters.informal.greater_than_or_equals"),soql:function(c,v){return soqlInfix(c,">=",v)},editorCount:1,opMatches:function(v,cv){return v>=cv}},BETWEEN:{text:$.t("core.filters.informal.between"),editorCount:2,soql:function(c,v,ds){return[soqlInfix(c,">=",v[0],ds.newBackend&&isText(c,ds)?toUpperFn:identityFn),soqlInfix(c,"<=",v[1],ds.newBackend&&isText(c,ds)?toUpperFn:identityFn)].join(" AND ")},opMatches:function(v,cv,cv2){var cva=_.flatten(_.compact([cv,cv2]));return!(!_.isArray(cva)||2!=cva.length)&&(cva[0]<=v&&v<=cva[1])}},IS_BLANK:{text:$.t("core.filters.informal.is_blank"),editorCount:0,soql:function(c){return soqlInfix(c," is ","null")},opMatches:function(v){return $.isBlank(v)}},IS_NOT_BLANK:{text:$.t("core.filters.informal.is_not_blank"),editorCount:0,soql:function(c){return soqlInfix(c," is not ","null")},opMatches:function(v){return!$.isBlank(v)}}},filterGroups=blist.filter.groups={textual:{orderedList:["EQUALS","NOT_EQUALS","STARTS_WITH","CONTAINS","NOT_CONTAINS","CONTAINS_INSENSITIVE","NOT_CONTAINS_INSENSITIVE","IS_BLANK","IS_NOT_BLANK"]},textObject:{orderedList:["EQUALS","NOT_EQUALS","CONTAINS","NOT_CONTAINS","CONTAINS_INSENSITIVE","NOT_CONTAINS_INSENSITIVE","IS_BLANK","IS_NOT_BLANK"]},numeric:{orderedList:["EQUALS","NOT_EQUALS","LESS_THAN","LESS_THAN_OR_EQUALS","GREATER_THAN","GREATER_THAN_OR_EQUALS","BETWEEN","IS_BLANK","IS_NOT_BLANK"]},date:{details:{LESS_THAN:{text:$.t("core.filters.informal.is_before")},GREATER_THAN:{text:$.t("core.filters.informal.is_after")}},orderedList:["EQUALS","NOT_EQUALS","LESS_THAN","GREATER_THAN","BETWEEN","IS_BLANK","IS_NOT_BLANK"]},comparable:{orderedList:["EQUALS","NOT_EQUALS","IS_BLANK","IS_NOT_BLANK"]},check:{details:{IS_BLANK:{text:$.t("core.filters.informal.is_not_checked"),soql:function(c){return"not "+c}},IS_NOT_BLANK:{text:$.t("core.filters.informal.is_checked"),soql:function(c){return c}}},orderedList:["IS_BLANK","IS_NOT_BLANK"]},blob:{details:{IS_BLANK:{text:$.t("core.filters.informal.is_empty")},IS_NOT_BLANK:{text:$.t("core.filters.informal.exists")}},orderedList:["IS_BLANK","IS_NOT_BLANK"]}};_.each(filterOperators,function(op,name){!function(op,name){op.name=name,op.matches=function(){var vals=_.flatten(arguments),getResult=function(v,values){return op.opMatches.apply(op,_.flatten([v,values]))},matchVal=vals.shift();if($.isPlainObject(matchVal)){var func="IS_NOT_BLANK"==op.name?"any":"all";return _[func](matchVal,function(v,k){var cv=vals[0];return cv=$.isPlainObject(cv)?cv[k]:cv,!(!$.isBlank(cv)||op.name.endsWith("_BLANK"))||getResult(v,cv)})}return getResult(matchVal,vals)}}(op,name)}),_.each(filterGroups,function(fg){var d={};_.each(fg.orderedList,function(op){d[op]=filterOperators[op]}),fg.details=$.extend(!0,{},d,fg.details)});var exprCache={};blist.filter.matchesExpression=function(expr,colCont){if(!0===expr||_.isEmpty(expr))return function(){return!0};if(!$.subKeyDefined(expr,"operator"))return function(){return!1};$.isBlank(expr._key)&&(expr._key=blist.filter.getFilterKey(expr));var key=expr._key+"::"+(colCont||{}).id;if(!$.isBlank(exprCache[key]))return exprCache[key];function cacheAndReturn(f){return exprCache[key]=f,f}if("customValues"==expr._key&&_.isEmpty(expr.children))return cacheAndReturn(function(){return!0});if(!$.isBlank(expr.children)){var func="or"==expr.operator.toLowerCase()?"any":"all",childFuncs=_.map(expr.children,function(cExpr){return blist.filter.matchesExpression(cExpr,colCont)});return cacheAndReturn(function(row){return _[func](childFuncs,function(cf){return cf(row)})})}if($.isBlank(colCont)||$.isBlank(expr.tableColumnId)&&$.isBlank(expr.columnFieldName)){var op=filterOperators[expr.operator.toUpperCase()];return $.isBlank(op)?cacheAndReturn(function(){return!1}):cacheAndReturn(function(row){return op.matches(row,expr.value)})}var col=colCont.columnForIdentifier(expr.tableColumnId||expr.columnFieldName);if($.isBlank(col))return cacheAndReturn(function(){return!1});var type=col.renderType,subCol=(expr.subColumn||"").toLowerCase();return $.subKeyDefined(type,"subColumns."+subCol)&&(type=type.subColumns[subCol]),cacheAndReturn(function(row){var rowVal=row.data[col.lookup];return $.isPlainObject(rowVal)&&!$.isBlank(subCol)&&(rowVal=rowVal[subCol]),type.matches(expr.operator,col,rowVal,expr.value)})},blist.filter.getFilterKey=function(fc){if(_.isEmpty(fc))return"";if(_.isString(fc.soql))return fc.soql;var op=fc.operator.toUpperCase();if("AND"==op||"OR"==op){if(blist.filter.isEmptyPlaceholderFilter(fc))return"customValues";var childKeys=_.compact(_.map(fc.children,function(c){return blist.filter.getFilterKey(c)}));return childKeys.length<2?childKeys[0]||"":"("+childKeys.join("|"+op+"|")+")"}return"("+(fc.columnFieldName||fc.tableColumnId)+($.isBlank(fc.subColumn)?"":"["+fc.subColumn+"]")+"|"+op+"|"+fc.value+")"},blist.filter.generateSOQLWhere=function(fc,dataset){if(_.isEmpty(fc))return"";if(_.isString(fc.soql))return fc.soql;var op=fc.operator.toUpperCase();if("AND"==op||"OR"==op){var childKeys=_.map(fc.children,function(child){return blist.filter.generateSOQLWhere(child,dataset)});return childKeys.length<2?childKeys[0]||"":"("+childKeys.join(" "+op+" ")+")"}var c=dataset.columnForIdentifier(fc.columnFieldName),v=fc.value;$.subKeyDefined(c,"renderType.soqlFilterValue")?v=_.isArray(v)?_.map(v,function(vv){return c.renderType.soqlFilterValue(vv)}):c.renderType.soqlFilterValue(v):_.isArray(v)?v=_.map(v,function(vv){return _.isString(vv)?"'"+vv+"'":vv}):_.isString(v)&&(v="'"+v+"'");var fieldName=c.fieldName;$.isBlank(fc.subColumn)||(fieldName+="."+fc.subColumn),$.subKeyDefined(c,"renderType.soqlFieldWrapper")&&(fieldName=c.renderType.soqlFieldWrapper(fieldName,op));var soqlFunctionForOperator=filterOperators[op].soql;return $.subKeyDefined(c,"renderType.filterConditions.details."+op+".soql")&&(soqlFunctionForOperator=c.renderType.filterConditions.details[op].soql),"("+soqlFunctionForOperator(fieldName,v,dataset)+")"},blist.filter.generateSODA1=function(){var fc=_.filter(Array.prototype.slice.call(arguments),function(value){return!!value&&!_.isEmpty(value)});fc.length>0&&(fc=1==fc.length?fc[0]:{operator:"AND",children:fc});var result={};if(_.isEmpty(fc))return result;if(!fc.operator)return{};$.isBlank(fc.metadata)?result.metadata={unifiedVersion:2}:result.metadata=fc.metadata;var op=fc.operator.toUpperCase();return result.type="operator",result.value=op,"AND"==op||"OR"==op?result.children=_.map(fc.children,function(c){return blist.filter.generateSODA1(c)}):(result.children=[{type:"column",columnFieldName:fc.columnFieldName}],_.isUndefined(fc.value)||_.each($.makeArray(fc.value),function(v){result.children.push({type:"literal",value:v})}),$.isBlank(fc.subColumn)||(result.children[0].value=fc.subColumn)),result},blist.filter.collapseChildren=function(fc){if(fc=$.extend({},fc),$.isBlank(fc.children))return fc;for(var t,collapseChildren=function(children){var newChildren=[];return _.each(children,function(cond){"operator"==cond.type&&"AND"==cond.value||!$.isBlank(cond.operator)&&"AND"==cond.operator.toUpperCase()?newChildren=newChildren.concat(cond.children):("operator"==cond.type&&"OR"==cond.value||!$.isBlank(cond.operator)&&"OR"==cond.operator.toUpperCase())&&_.isArray(cond.children)&&1==cond.children.length?newChildren=newChildren.concat(cond.children):newChildren.push(cond)}),newChildren=_.compact(newChildren),!_.isEqual(children,newChildren)&&newChildren},newC=fc.children;t=collapseChildren(newC);)newC=t;return fc.children=newC,fc};var isFCEqual=function isFCEqual(a,b){return $.isBlank(a)?$.isBlank(b):!$.isBlank(b)&&($.isBlank(a.children)?$.isBlank(b.children)&&a.columnFieldName==b.columnFieldName&&a.operator==b.operator&&a.value==b.value&&a.subColumn==b.subColumn:!$.isBlank(b.children)&&a.operator==b.operator&&a.children.length==b.children.length&&_.all(a.children,function(ac){return _.any(b.children,function(bc){return isFCEqual(ac,bc)})}))};blist.filter.subtractQueries=function(fc,baseFC){return fc=blist.filter.collapseChildren(fc),baseFC=blist.filter.collapseChildren(baseFC),$.isBlank(fc.children)||"AND"!=fc.operator.toUpperCase()?isFCEqual(fc,baseFC)?null:fc:($.isBlank(baseFC.children)?fc.children=_.reject(fc.children,function(c){return isFCEqual(c,baseFC)}):"AND"==baseFC.operator.toUpperCase()&&(fc.children=_.reject(fc.children,function(c){return _.any(baseFC.children,function(bc){return isFCEqual(c,bc)})})),fc)},blist.filter.isEmptyPlaceholderFilter=function(fc){return _.isEmpty(fc.children)&&fc.metadata&&(fc.metadata.includeAuto||fc.metadata.customValues)}}(jQuery)},1694:function(module,exports,__webpack_require__){"use strict";var _constants=__webpack_require__(137);!function($){$.templates=$.templates||{};var downloadTypesDirective=function(typeName,isDynamic){var directive={};return directive["downloadType<-"+typeName]={".type a":"#{downloadType}",".type a@data-type":"#{downloadType}",".type a@href":function(args){return isDynamic?"#download":args.context.view.downloadUrl(args.item)},"@class+":function(args){return args.item.toLowerCase()+"Download"}},directive};$.templates.downloadsTable={downloadTypes:{normal:_constants.NORMAL_DATASET_DOWNLOAD_TYPES,tabular_geo:["CSV","CSV for Excel","KML","KMZ","RDF","RSS","Shapefile","GeoJSON","XML","CSV for Excel (Europe)"],layer_attributes:["CSV","JSON"],layer_geojson_attributes:["CSV","JSON","GeoJSON"],obe_geo:["KML","KMZ","Shapefile","Original"],nbe_geo:["KML","KMZ","Shapefile","Original","GeoJSON"]},directive:{normal:{".downloadsTable .downloadsList tbody .item":downloadTypesDirective("downloadTypes")},tabular_geo:{".downloadsTable .downloadsList tbody .item":downloadTypesDirective("downloadTypes")},obe_geo:{".downloadsTable .downloadsList tbody .item":downloadTypesDirective("downloadTypes"),".layerDownloadsContent .downloadsList tbody .item":downloadTypesDirective("layerDownloadTypes",!0)},nbe_geo:{".downloadsTable .downloadsList tbody .item":downloadTypesDirective("downloadTypes"),".layerDownloadsContent .downloadsList tbody .item":downloadTypesDirective("layerDownloadTypes",!0)}},postRender:function($elem){$elem.find("table.gridList").combinationList({headerContainerSelector:$elem.find(".gridListWrapper"),initialSort:[[0,0]],scrollableBody:!1,selectable:!1,sortGrouping:!1,sortHeaders:{0:{sorter:"text"}}})}}}(jQuery)},1695:function(module,exports,__webpack_require__){"use strict";$(function(){blist.namespace.fetch("blist.styles");var pendingRules={},styleRules={},cssSheets={},createCssRules=function(sheetName){$.isBlank(cssSheets[sheetName])&&function(sheetName){var cssID="customStyles_"+sheetName,cssText=['<style type="text/css" id="',cssID,'">'];_.each(pendingRules[sheetName]||[],function(item){cssText.push(item.rule),cssText.push(" {}\n")}),cssText.push("</style>\n"),$("head").append(cssText.join(""));for(var cssElement=$("#"+cssID)[0],i=0;i<document.styleSheets.length&&(cssSheets[sheetName]=document.styleSheets[i],cssSheets[sheetName].ownerNode!==cssElement);i++)cssSheets[sheetName]=null;if($.isBlank(cssSheets[sheetName]))throw"Unable to locate stylesheet";styleRules[sheetName]={}}(sheetName);var rules=cssSheets[sheetName].cssRules||cssSheets[sheetName].rules;_.each(rules,function(r,i){styleRules[sheetName][pendingRules[sheetName][i].id]=r.style}),pendingRules[sheetName]={}};blist.styles.getStyle=function(sheetName,id){return $.isBlank(styleRules[sheetName])&&!$.isBlank(pendingRules[sheetName])&&createCssRules(sheetName),styleRules[sheetName][id]},blist.styles.addStyle=function(sheetName,id,rule){if($.isBlank(cssSheets[sheetName])){if(pendingRules[sheetName]=pendingRules[sheetName]||[],_.any(pendingRules[sheetName],function(r){return r.id==id}))return;pendingRules[sheetName].push({id:id,rule:rule})}else if($.isBlank(styleRules[sheetName][id])){var rules=cssSheets[sheetName].cssRules||cssSheets[sheetName].rules;cssSheets[sheetName].insertRule(rule+"{}",rules.length),styleRules[sheetName][id]=rules[rules.length-1].style}},blist.styles.resetSheet=function(sheetName){$.isBlank(cssSheets[sheetName])||($("#customStyles_"+sheetName).remove(),cssSheets[sheetName]=null,styleRules[sheetName]=null)},blist.styles.getReferenceProperty=function(name,prop){var $sr=$("#styleReference");$sr.length<1&&($("body").append('<div id="styleReference"></div>'),$sr=$("#styleReference"));var $item=$sr.find("."+name);return $item.length<1&&($sr.append('<div class="'+name+'"></div>'),$item=$sr.find("."+name)),$item.css(prop)}})},1696:function(module,exports,__webpack_require__){"use strict";_.isUndefined(blist.viewCache)&&(blist.viewCache={}),_.isUndefined(blist.sharedDatasetCache)&&(blist.sharedDatasetCache={}),$.extend(blist.viewCache,{invalidate:function(v){var uid=_.isString(v)?v:v.id;delete blist.viewCache[uid]}}),$.extend(blist.sharedDatasetCache,{invalidate:function(v){var uid=_.isString(v)?v:v.id;delete blist.sharedDatasetCache[uid]}})},1697:function(module,exports,__webpack_require__){"use strict";var createDatasetFromView;createDatasetFromView=function(view){return new Dataset(view)},blist.inBrowser?window.createDatasetFromView=createDatasetFromView:module.exports=createDatasetFromView},1698:function(module,exports,__webpack_require__){"use strict";var GeoHelpers;GeoHelpers={isArcGISDataset:function(view){return!_.isNull(_.get(view,"metadata.custom_fields.Basic.Source",null))},isGeoDataset:function(view){return!_.isNull(_.get(view,"metadata.geo",null))},isArcGISOrGeoDataset:function(view){return this.isArcGISDataset(view)||this.isGeoDataset(view)},hasGeoColumn:function(view){var geospatialColumnTypes=/^(point|line|polygon|multipoint|multiline|multipolygon)$/i,hasGeoColumn=_.any(_.get(view,"columns",[]),function(col){return geospatialColumnTypes.test(col.dataTypeName)});return hasGeoColumn}},blist.inBrowser?window.GeoHelpers=GeoHelpers:module.exports=GeoHelpers},1699:function(module,exports,__webpack_require__){"use strict";Dataset.map={},Dataset.map.isValid=function(view,displayFormat){if($.isBlank(displayFormat))return!1;if(displayFormat.viewDefinitions)return!0;if($.isBlank(view))return!1;if(GeoHelpers.isArcGISDataset(view))return!0;if(GeoHelpers.isGeoDataset(view))return!0;if($.isBlank(displayFormat.noLocations)&&($.isBlank(displayFormat.plot)||($.isBlank(displayFormat.plot.latitudeId)||$.isBlank(displayFormat.plot.longitudeId))&&$.isBlank(displayFormat.plot.locationId))||$.isBlank(displayFormat.type)||$.isBlank(displayFormat.plotStyle))return!1;var latCol=view.columnForIdentifier(displayFormat.plot.latitudeId),longCol=view.columnForIdentifier(displayFormat.plot.longitudeId),locCol=view.columnForIdentifier(displayFormat.plot.locationId);return!$.isBlank(locCol)||!$.isBlank(latCol)&&!$.isBlank(longCol)||displayFormat.noLocations},Dataset.map.convertToVersion2=function(view,df){if(view){if(df||(df=view.displayFormat),$.isBlank(df.viewDefinitions)&&(df.viewDefinitions=[$.extend(!0,{},df)],df.viewDefinitions[0].uid="self"),df.compositeMembers&&_.each(df.compositeMembers,function(uid){df.viewDefinitions.push({uid:uid,plotStyle:"point",legacy:!0})}),"heatmap"!=df.plotStyle&&("google"===df.type||"bing"===df.type?(df.type="google",df.exclusiveLayers=!0,df.bkgdLayers=Dataset.map.backgroundLayerSet.Google):df.bkgdLayers=_.map(df.layers,function(layer){return layer.custom_url?{custom_url:layer.custom_url}:{layerKey:(_.detect(Dataset.map.backgroundLayers,function(lConfig){return layer.url.indexOf((lConfig.options||{}).url)>-1})||{}).key}})),GeoHelpers.isArcGISDataset(view))for(var key in df.layers||(df.bkgdLayers=[{layerKey:"World Street Map (ESRI)",opacity:1}]),delete df.viewDefinitions[0].plotStyle,df.viewDefinitions[0].plot)_.include(["titleId","descriptionColumns"],key)||delete df.viewDefinitions[0].plot[key];GeoHelpers.isGeoDataset(view)&&(df.exclusiveLayers=!0,df.bkgdLayers=[{layerKey:"Google Roadmap",alias:$.t("core.map_layers.google_roadmap_alias"),opacity:1},{layerKey:"World Street Map (ESRI)",alias:"ESRI",opacity:1}],delete df.viewDefinitions[0].plotStyle,delete df.viewDefinitions[0].plot),df.distinctLegend=!0,view.update({displayFormat:df,flags:view.flags})}},Dataset.map.backgroundLayers=[{key:"Google Roadmap",alias:$.t("core.map_layers.roadmap"),className:"Google",options:{type:"ROADMAP"}},{key:"Google Satellite",alias:$.t("core.map_layers.satellite"),className:"Google",zoomLevels:20,options:{type:"SATELLITE"}},{key:"Google Terrain",alias:$.t("core.map_layers.terrain"),className:"Google",zoomLevels:16,options:{type:"TERRAIN"}},{key:"World Street Map (ESRI)",alias:$.t("core.map_layers.esri_world_street_map_alias"),className:"ESRI",zoomLevels:20,options:{url:"World_Street_Map"}},{key:"Satellite Imagery (ESRI)",alias:$.t("core.map_layers.satellite"),className:"ESRI",zoomLevels:20,options:{url:"World_Imagery"}},{key:"Detailed USA Topographic Map (ESRI)",alias:$.t("core.map_layers.esri_us_topo_alias"),className:"ESRI",zoomLevels:16,options:{url:"USA_Topo_Maps"}},{key:"Annotated World Topographic Map (ESRI)",alias:$.t("core.map_layers.esri_world_topo_alias"),zoomLevels:17,className:"ESRI",options:{url:"World_Topo_Map"}},{key:"Natural Earth Map (ESRI)",alias:$.t("core.map_layers.esri_natural_earth_alias"),className:"ESRI",zoomLevels:9,options:{url:"World_Physical_Map"}}],Dataset.map.backgroundLayer={custom:{name:"custom",className:"ESRI"}},Dataset.map.backgroundLayerSet={},Dataset.map.backgroundLayerSet.Google=[{layerKey:"Google Roadmap",alias:$.t("core.map_layers.roadmap"),opacity:1},{layerKey:"Google Satellite",alias:$.t("core.map_layers.satellite"),opacity:1},{layerKey:"Google Terrain",alias:$.t("core.map_layers.terrain"),opacity:1}],Dataset.map.backgroundLayerDeprecationMap={"Bing Road":"Google Roadmap","Bing Aerial":"Google Satellite"},Dataset.modules.map={_setupPolaroidImageCapturing:function(){var polaroidDelay="geo"===this.viewType?2e4:1e4;this._super(polaroidDelay)},_checkValidity:function(){return!!this._super()&&Dataset.map.isValid(this,this.displayFormat)},_convertLegacy:function(){var view=this;if(!view._convertedLegacy)if(view._convertedLegacy=!0,$.subKeyDefined(view,"displayFormat.bkgdLayers")&&view.displayFormat.bkgdLayers.forEach(function(layer){$.isBlank(layer.layerKey)&&!$.isBlank(layer.layerName)&&(layer.layerKey=layer.layerName,delete layer.layerName),Dataset.map.backgroundLayerDeprecationMap[layer.layerKey]&&(layer.layerKey=Dataset.map.backgroundLayerDeprecationMap[layer.layerKey])}),$.subKeyDefined(view,"displayFormat.viewDefinitions")){var fixIds=function(checkView){if(GeoHelpers.isArcGISOrGeoDataset(checkView))return!1;var checkId=checkView.id,df=$.extend(!0,{},view.displayFormat),md=$.extend(!0,{},view.metadata),updateItems={displayFormat:df,metadata:md},vdResult=_.any(df.viewDefinitions,function(vd){return vd.uid==checkId&&(vd.uid="self",!0)});if($.subKeyDefined(md,"renderTypeConfig.active")&&_.each(md.renderTypeConfig.active,function(rt){rt.id==checkId&&(rt.id="self")}),$.subKeyDefined(md,"conditionalFormatting."+checkId)&&(md.conditionalFormatting.self=md.conditionalFormatting[checkId],delete md.conditionalFormatting[checkId]),$.subKeyDefined(md,"query."+checkId)){if(checkId!=view.id&&_.isEmpty(view.query.filterCondition)){var q=md.query[checkId];!function fixFilter(fc){if(!$.isBlank(fc))if("column"!=fc.type||$.isBlank(fc.columnId))_.isEmpty(fc.children)||_.each(fc.children,function(fcc){fixFilter(fcc)});else{var checkCol=checkView.columnForID(fc.columnId);if(!$.isBlank(checkCol)){var curCol=view.columnForTCID(checkCol.tableColumnId);$.isBlank(curCol)||(fc.columnId=curCol.id)}}}(q.filterCondition),updateItems.query=q}delete md.query[checkId]}return view.update(updateItems),vdResult};_.any(view.displayFormat.viewDefinitions,function(vd){return"self"==vd.uid})||fixIds(view)||view.getParentView(function(parView){fixIds(parView)||_.any(view.displayFormat.viewDefinitions,function(vd){return"self"==vd.uid})||Dataset.lookupFromViewId(view.displayFormat.viewDefinitions[0].uid,function(relDS){relDS.tableId==view.tableId&&fixIds(relDS)})});var dedupedViewDefinitions=_.select(view.displayFormat.viewDefinitions,function(definition,i){var otherViewDefinitions=_.slice(view.displayFormat.viewDefinitions,i+1);return!_.any(otherViewDefinitions,function(otherDefinition){return _.isEqual(otherDefinition,definition)})});view.displayFormat.viewDefinitions=dedupedViewDefinitions}else{if(view.displayFormat.plot=view.displayFormat.plot||{},_.include(["geomap","intensitymap"],view.displayType)){view.displayType="map",view.displayFormat.type="heatmap";var region=view.displayFormat.region||"";view.displayFormat.heatmap={type:region.toLowerCase().match(/^usa?$/)?"state":"countries"},_.each(["locationId","quantityId","descriptionId","redirectId"],function(key,index){index<(view.visibleColumns||[]).length&&(view.displayFormat.plot[key]=parseInt(view.visibleColumns[index].tableColumnId))})}if($.isBlank(view.displayFormat.heatmap)&&!$.isBlank(view.displayFormat.heatmapType)){var heatmapType=view.displayFormat.heatmapType.split("_"),config={type:heatmapType[1],region:heatmapType[0],colors:{low:view.displayFormat.lowcolor,high:view.displayFormat.highcolor}};view.displayFormat.heatmap=config,delete view.displayFormat.lowcolor,delete view.displayFormat.highcolor,delete view.displayFormat.heatmapType}var colObj=view.displayFormat.plot||view.displayFormat;_.each(["latitudeId","longitudeId","titleId","descriptionId"],function(n){$.isBlank(view.displayFormat.plot[n])&&!$.isBlank(colObj[n])&&(view.displayFormat.plot[n]=colObj[n],delete colObj[n])}),_.each({ycol:"latitudeId",xcol:"longitudeId",titleCol:"titleId",bodyCol:"descriptionId"},function(n,o){$.isBlank(view.displayFormat.plot[n])&&!$.isBlank(colObj[o])&&(view.displayFormat.plot[n]=view.columnForID(colObj[o]).tableColumnId,delete colObj[o])}),$.isBlank(view.displayFormat.plot.descriptionId)||(view.displayFormat.plot.descriptionColumns=[{tableColumnId:view.displayFormat.plot.descriptionId}],delete view.displayFormat.plot.descriptionId),$.isBlank(view.displayFormat.plotStyle)&&(view.displayFormat.plotStyle=$.isBlank(view.displayFormat.heatmap)?"point":"heatmap")}}}},1700:function(module,exports,__webpack_require__){"use strict";Dataset.modules.form={_checkValidity:function(){return this.visibleColumns=this.visibleColumns||[],!_.isEmpty(this.visibleColumns)}}},1701:function(module,exports,__webpack_require__){"use strict";!function(){var legacyTypes={imagesparkline:"line",annotatedtimeline:"timeline",areachart:"area",barchart:"bar",columnchart:"column",linechart:"line",piechart:"pie"};Dataset.chart={},Dataset.chart.textualTypes=["text","html","email","url","drop_down_list","number","percent","money"],Dataset.chart.numericTypes=["number","percent","money"],Dataset.chart.dateTypes=["calendar_date","date"],Dataset.chart.textAndDateTypes=Dataset.chart.textualTypes.concat(Dataset.chart.dateTypes);var lineTranslate=function(view,displayFormat){var newDF=$.extend(!0,{},displayFormat);return newDF.fixedColumns=_.reject(displayFormat.fixedColumns,function(fc){var c=view.columnForIdentifier(fc);return!!$.isBlank(c)||!_.include(Dataset.chart.textualTypes,c.renderTypeName)}),newDF.valueColumns=_.reject(displayFormat.valueColumns,function(dc){var c=view.columnForIdentifier(dc.fieldName||dc.tableColumnId);return!!$.isBlank(c)||!_.include(Dataset.chart.numericTypes,c.renderTypeName)}),newDF};Dataset.chart.types={area:{value:"area",text:$.t("core.chart_types.area"),requiredColumns:[Dataset.chart.textualTypes,Dataset.chart.numericTypes],displayLimit:{labels:50,points:300}},bar:{value:"bar",text:$.t("core.chart_types.bar"),requiredColumns:[Dataset.chart.textAndDateTypes,Dataset.chart.numericTypes],displayLimit:{points:40}},bubble:{value:"bubble",text:$.t("core.chart_types.bubble"),requiredColumns:[Dataset.chart.numericTypes],displayLimit:{labels:50,points:300},translateFormat:lineTranslate},column:{value:"column",text:$.t("core.chart_types.column"),requiredColumns:[Dataset.chart.textAndDateTypes,Dataset.chart.numericTypes],displayLimit:{labels:50,points:100}},donut:{value:"donut",text:$.t("core.chart_types.donut"),requiredColumns:[Dataset.chart.textualTypes,Dataset.chart.numericTypes],displayLimit:{points:30},renderOther:!0},line:{value:"line",text:$.t("core.chart_types.line"),requiredColumns:[Dataset.chart.numericTypes],displayLimit:{labels:50,points:300},translateFormat:lineTranslate},pie:{value:"pie",text:$.t("core.chart_types.pie"),requiredColumns:[Dataset.chart.textualTypes,Dataset.chart.numericTypes],displayLimit:{points:30},renderOther:!0},timeline:{value:"timeline",text:$.t("core.chart_types.timeline"),requiredColumns:[Dataset.chart.dateTypes,Dataset.chart.numericTypes],displayLimit:{labels:50,points:300}},treemap:{value:"treemap",text:$.t("core.chart_types.treemap"),requiredColumns:[Dataset.chart.textualTypes,Dataset.chart.numericTypes],displayLimit:{points:100},renderOther:!0}},Dataset.chart.types.stackedcolumn=$.extend({},Dataset.chart.types.column,{value:"stackedcolumn",text:$.t("core.chart_types.stackedcolumn")}),Dataset.chart.types.stackedbar=$.extend({},Dataset.chart.types.column,{value:"stackedbar",text:$.t("core.chart_types.stackedbar")}),Dataset.chart.hasRequiredColumns=function(cols,reqCols,includeHidden){return cols=cols.slice(),reqCols=_.sortBy(reqCols,function(rc){return rc.length}),_.all(reqCols,function(rc){var col=_.detect(cols,function(c){return _.include(rc,c.renderTypeName)&&(includeHidden||!c.hidden)});return!$.isBlank(col)&&(cols=_.without(cols,col),!0)})},Dataset.chart.isValid=function(view,displayFormat,chartType){if($.isBlank(view))return!1;var foundCols=[];_.each(displayFormat.fixedColumns||[],function(fc){foundCols.push(view.columnForIdentifier(fc))}),_.each(displayFormat.valueColumns||[],function(vc){foundCols.push(view.columnForIdentifier(vc.fieldName||vc.tableColumnId))});var ct=Dataset.chart.types[chartType];return!$.isBlank(ct)&&Dataset.chart.hasRequiredColumns(_.compact(foundCols),ct.requiredColumns)},Dataset.modules.chart={_setupPolaroidImageCapturing:function(){var polaroidDelay=_.get(this,"displayFormat.seriesColumns",[]).length?2e4:1e4;this._super(polaroidDelay)},_checkValidity:function(){return!!this._super()&&Dataset.chart.isValid(this,this.displayFormat,this.displayFormat.chartType)},_convertLegacy:function(){if($.isBlank(legacyTypes[this.displayType]))$.isBlank(legacyTypes[this.displayFormat.chartType])||(this.displayFormat.chartType=legacyTypes[this.displayFormat.chartType]);else{var dt=this.displayType;this.displayType="chart",this.displayFormat.chartType=legacyTypes[dt]}if($.isBlank(this.displayFormat.dataColumns)&&$.isBlank(this.displayFormat.fixedColumns)&&$.isBlank(this.displayFormat.valueColumns)&&!$.isBlank(this.visibleColumns)&&(this.displayFormat.dataColumns=_.map(this.visibleColumns,function(col){return col.tableColumnId})),!$.isBlank(this.displayFormat.dataColumns)){if($.isBlank(this.displayFormat.fixedCount)){if($.isBlank(this.displayFormat.valueColumns)&&_.isArray(this.displayFormat.dataColumns)&&this.displayFormat.dataColumns.length>0){var firstCol=this.columnForTCID(this.displayFormat.dataColumns[0]);$.isBlank(firstCol)||_.include(Dataset.chart.numericTypes,firstCol.renderTypeName)||(this.displayFormat.fixedColumns=this.displayFormat.dataColumns.splice(0,1))}}else"pie"==this.displayFormat.chartType&&this.displayFormat.fixedCount>1&&this.displayFormat.fixedCount--,this.displayFormat.fixedColumns=this.displayFormat.dataColumns.splice(0,this.displayFormat.fixedCount);for(var vcVal,valueCols=[],i=0,cols=this.displayFormat.dataColumns.slice();cols.length>0;){var tcid=cols.shift(),c=this.columnForTCID(tcid);$.isBlank(c)||(_.include(Dataset.chart.numericTypes,c.renderTypeName)?(valueCols.push(vcVal),vcVal={tableColumnId:tcid},$.isBlank((this.displayFormat.colors||[])[i])||(vcVal.color=this.displayFormat.colors[i]),i++):$.isBlank(vcVal)||(vcVal.supplementalColumns=vcVal.supplementalColumns||[],vcVal.supplementalColumns.push(tcid)))}$.isBlank(vcVal)||valueCols.push(vcVal),this.displayFormat.valueColumns=_.compact(valueCols)}if(delete this.displayFormat.dataColumns,$.subKeyDefined(this.displayFormat,"yAxis.marker")){var markerColor=$.sanitizeColor(this.displayFormat.yAxis.markerColor);this.displayFormat.valueMarker=[{atValue:this.displayFormat.yAxis.marker,color:markerColor}]}if("treemap"==this.displayFormat.chartType&&this.displayFormat.baseColor){var baseColor=$.sanitizeColor(this.displayFormat.baseColor);this.displayFormat.colors=[baseColor,"#042656","#19538b","#6a9feb","#bed6f7"]}"bar"!=this.displayFormat.chartType&&"column"!=this.displayFormat.chartType||!0!==this.displayFormat.stacking||(this.displayFormat.chartType="stacked"+this.displayFormat.chartType)}}}()},1702:function(module,exports,__webpack_require__){"use strict";Dataset.modules.calendar={_checkValidity:function(){if($.isBlank(this.displayFormat.startDateTableId)||$.isBlank(this.displayFormat.titleTableId))return!1;var startCol=this.columnForTCID(this.displayFormat.startDateTableId),titleCol=this.columnForTCID(this.displayFormat.titleTableId);return!$.isBlank(startCol)&&!$.isBlank(titleCol)},_convertLegacy:function(){var view=this;_.each(["startDate","endDate","title","description"],function(n){if($.isBlank(view.displayFormat[n+"TableId"])&&!$.isBlank(view.displayFormat[n+"Id"])){var c=view.columnForID(view.displayFormat[n+"Id"]);$.isBlank(c)||(view.displayFormat[n+"TableId"]=c.tableColumnId),delete view.displayFormat[n+"Id"]}}),$.isBlank(view.displayFormat.descriptionTableId)||(view.displayFormat.descriptionColumns=[{tableColumnId:view.displayFormat.descriptionTableId}],delete view.displayFormat.descriptionTableId)}}},1703:function(module,exports,__webpack_require__){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};!function(){var Dataset=ServerModel.extend({_init:function(v){this._super(),this.registerEvent(["columns_changed","valid","query_change","set_temporary","clear_temporary","row_change","blob_change","row_count_change","column_resized","displayformat_change","displaytype_change","column_totals_changed","removed","permissions_changed","new_comment","reloaded","conditionalformatting_change","saved","dataset_last_modified","grid_error_message","query_string_change"]);var ds=this;_.each(v,function(curVal,key){_.isFunction(ds[key])||(ds[key]=curVal)}),this._fileDataForFileId={},blist.sharedDatasetCache[this.id]instanceof Dataset||(blist.sharedDatasetCache[this.id]=this),$.isBlank(this.resourceName)||blist.sharedDatasetCache[this.resourceName]instanceof Dataset||(blist.sharedDatasetCache[this.resourceName]=this),this._determineUseSODA2();var selfUrl="/views/"+this.id;Dataset.addProperties(this,ColumnContainer("column",selfUrl+".json",selfUrl+"/columns"),$.extend({},this)),$.isBlank(this.approvalHistory)||Dataset.addProperties(this,Dataset.modules.approvalHistory,$.extend({},this)),this.updateColumns(this.initialMetaColumns,!1,!0),delete this.initialMetaColumns,this._adjustProperties(),_.isUndefined(this.rowIdentifierColumnId)||(this.rowIdentifierColumn=this.columnForID(this.rowIdentifierColumnId),this.rowsNeedPK=this.newBackend&&this._useSODA2);var originalQuery=this._getQueryGrouping();this._syncQueries(originalQuery.oldJsonQuery,originalQuery.oldQuery,originalQuery.oldGroupings,originalQuery.oldGroupAggs),this.temporary=!1,this.minorChange=!0,this.valid=this._checkValidity();var cleanFC=ds.cleanJsonFilters();ds._savedRowSet=new RowSet(ds,$.extend({},ds.metadata.jsonQuery,{where:cleanFC.where,having:cleanFC.having,namedFilters:null}),{orderBys:(ds.query||{}).orderBys,filterCondition:ds.cleanFilters(),groupBys:(ds.query||{}).groupBys,groupFuncs:ds._getGroupedFunctions()},null,ds.initialRows),delete ds.initialRows,ds._activateRowSet(ds._savedRowSet),this._pendingRowEdits={},this._pendingRowDeletes={},this._aggregatesStale=!0,this._origObj=this.cleanCopy(),this._commentCache={},this._commentByID={},window._phantom&&(console.log("Running in PhantomJS."),_.isFunction(window.callPhantom)?this._setupPolaroidImageCapturing():console.log("window.callPhantom not present, skipping image capture")),this.bucketSize=1e3,this.initializeDerivedViews2018Controls(),this.maybeEnableOrDisableDerivedViews2018Controls()},usingBuckets:function(){return this.newBackend},rowForID:function(id){return this._activeRowSet.rowForID(id)},rowForIndex:function(index){return this._activeRowSet.rowForIndex(index)},rowIndex:function(id,successCallback){this._activeRowSet.rowIndex(id,successCallback)},totalRows:function(){return this._activeRowSet.totalRows()},getRowBucket:function(index){return this._activeRowSet.getRowBucket(index)},bucketIndex:function(bucketStart){return this._activeRowSet.bucketIndex(bucketStart)},totalBuckets:function(){return this._activeRowSet.totalBuckets()},isDefault:function(){return _.include(this.flags||[],"default")},isPublic:function(){var ds=this;return _.any(this.grants||[],function(grant){return _.include(grant.flags||[],"public")&&("form"==ds.type&&"contributor"==grant.type||"form"!=ds.type)})},isPendingPublic:function(){var ds=this;return _.any(this.pendingGrants||[],function(grant){return _.include(grant.flags||[],"public")&&("form"==ds.type&&"contributor"==grant.type||"form"!=ds.type)})},isAnonymous:function(isAnon){return $.isBlank(isAnon)||(this._isAnon=isAnon),$.isBlank(this._isAnon)&&(this._isAnon=!1),this._isAnon},hasRight:function(right){return _.include(this.rights,right)},canEdit:function(){return(this.hasRight(blist.rights.view.WRITE)||this.hasRight(blist.rights.view.ADD)||this.hasRight(blist.rights.view.DELETE))&&!this.isGrouped()&&!this.isAPI()},canUpdate:function(){return(this.isUnpublished()||!this.isDefault())&&this.hasRight(blist.rights.view.UPDATE_VIEW)},isGrid:function(){return this.metadata.renderTypeConfig.visible.table},shouldShowViewCreationOptions:function(){return 0==_.difference(this.metadata.availableDisplayTypes,["table","fatrow","page","assetinventory"]).length},isGrouped:function(){return!_.isEmpty((this.metadata.jsonQuery||{}).group)},isFederated:function(){return!$.isBlank(this.domainCName)},getDownloadType:function(){return GeoHelpers.isGeoDataset(this)||GeoHelpers.hasGeoColumn(this)?"tabular"===this.viewType?"tabular_geo":(this.newBackend?"nbe_":"obe_")+"geo":"normal"},isLayered:function(){return!!(GeoHelpers.isGeoDataset(this)&&this.metadata.geo&&"string"==typeof this.metadata.geo.layers&&this.metadata.geo.layers.split(",").length>1)||!(!this.displayFormat||!this.displayFormat.viewDefinitions)&&_.any(this.displayFormat.viewDefinitions,function(viewDef){return"self"!=viewDef.uid})},isApiGeospatial:function(){var customFields=_.merge(this.metadata||{},this.privateMetadata||{}).custom_fields||{};return _.reduce(customFields,function(acc,fields,fieldset){return acc||/^geo-?spatial api pre-?release$/i.test(fieldset)&&"true"===(fields.Enabled||fields.enabled)},!1)},isBlobby:function(){return"blob"==this.type},isHref:function(){return"href"==this.type},isDataLens:function(){return"data_lens"===this.displayType},isTabular:function(){return"tabular"==this.viewType},isAPI:function(){return"api"==this.type},isPublished:function(){return"published"==this.publicationStage},isUnpublished:function(){return"unpublished"==this.publicationStage},isSnapshot:function(){return"snapshotted"==this.publicationStage},forceEditable:function(){return"true"==$.parseParams("$$force_editable")},isImmutable:function(){return!this.forceEditable()&&(this.isBlobby()||GeoHelpers.isGeoDataset(this))},renderWithArcGISServer:function(){return GeoHelpers.isArcGISDataset(this)},invalidMessage:function(){return this.message||$.t("controls.grid.required_cols_missing")},clean:function(){return cleanViewForSave(this)},save:function(successCallback,errorCallback,allowedKeys){var ds=this;if(!ds.hasRight(blist.rights.view.UPDATE_VIEW))return!1;var vizIds=$.isBlank(ds.visibleColumns)?null:_.pluck(ds.visibleColumns,"id");return this.makeRequest({url:"/views/"+this.id+".json",type:"PUT",data:JSON.stringify(cleanViewForSave(ds,allowedKeys)),error:errorCallback,success:function(newDS){var nds=createDatasetFromView(newDS),originalQuery=nds._getQueryGrouping();nds._syncQueries(originalQuery.oldJsonQuery,originalQuery.oldQuery,originalQuery.oldGroupings,originalQuery.oldGroupAggs),ds._savedRowSet=ds._activeRowSet,ds._update(newDS,!0,!1,!0),$.isBlank(vizIds)||_.isEqual(vizIds,_.pluck(ds.visibleColumns,"id"))||ds.setVisibleColumns(vizIds),_.isFunction(successCallback)&&successCallback(ds),ds.trigger("saved")}}),!0},saveNew:function(useNBE,successCallback,errorCallback){var urlParams={nbe:useNBE},deletedAt=$.urlParam(window.location.href,"deleted_at");_.isEmpty(deletedAt)||(urlParams.deleted_at=deletedAt);var dsOrig=this,ds=cleanViewForCreate(this);dsOrig.isPublic()&&"form"==dsOrig.type&&(ds.flags=ds.flags||[],ds.flags.push("dataPublicAdd")),this.makeRequest({url:"/views?"+$.toParam(urlParams),type:"POST",data:JSON.stringify(ds),error:errorCallback,success:function(newDS){newDS=createDatasetFromView(newDS),$.isBlank(dsOrig.accessType)||newDS.setAccessType(dsOrig.accessType),_.isFunction(successCallback)&&successCallback(newDS)}})},update:function(newDS,fullUpdate,minorUpdate,masterUpdate){_.isEqual(newDS,this._cleanUnsaveable(newDS))||(minorUpdate=!1);var copyFunc=minorUpdate?cleanViewForSave:cleanViewForCreate,origCopy=copyFunc(this);this._update(newDS,fullUpdate,fullUpdate,masterUpdate);var originalDataset,newDataset,shouldForceUseOfModifyingLensIdInGroupedChildView,originalDatasetHasGroupBys,originalDatasetHasFilterCondition,newDatasetHasGroupBys,updCopy=copyFunc(this);_.isEqual(origCopy,updCopy)||this._markTemporary(minorUpdate),originalDataset=origCopy,newDataset=updCopy,shouldForceUseOfModifyingLensIdInGroupedChildView=_.get(window,"socrata.featureFlags.force_use_of_modifying_lens_id_in_grouped_child_view",!1),originalDatasetHasGroupBys=!_.isUndefined(_.get(originalDataset,"query.groupBys")),originalDatasetHasFilterCondition=!_.isUndefined(_.get(originalDataset,"query.filterCondition")),newDatasetHasGroupBys=!_.isUndefined(_.get(newDataset,"query.groupBys")),shouldForceUseOfModifyingLensIdInGroupedChildView&&!originalDatasetHasGroupBys&&originalDatasetHasFilterCondition&&newDatasetHasGroupBys&&blist.datasetPage.flashTimedNotice($.t("controls.grid.group_bys_preview_potentially_invalid"),2e4),this.maybeEnableOrDisableDerivedViews2018Controls()},maybeEnableOrDisableDerivedViews2018Controls:function(){_.get(window,"socrata.featureFlags.force_use_of_modifying_lens_id_in_all_derived_views",!1)&&(this.queryChanged()?(this.isPublished()||$("#save-view-button").removeClass("disabled"),$("#revert-view-button").removeClass("disabled"),$("#create-view-button").addClass("disabled")):($("#save-view-button").addClass("disabled"),$("#revert-view-button").addClass("disabled"),$("#create-view-button").removeClass("disabled")))},queryChanged:function(){var viewDifference=this.differenceFromSavedView(),columnsWithMetadataChange=_.get(viewDifference,"columns",[]);return!(_.isEmpty(columnsWithMetadataChange)&&_.isEmpty(_.get(viewDifference,"query",{}))&&_.isEmpty(_.get(viewDifference,"queryString",""))&&_.isEmpty(_.get(viewDifference,"searchString",""))&&_.isEmpty(_.get(viewDifference,"metadata.conditionalFormatting",{}))&&_.isEmpty(_.get(viewDifference,"metadata.renderTypeConfig",{})))},differenceFromSavedView:function(){var filterCondition,ast,viewDifference=function(outerObject,outerBase){return function changes(object,base){return _.transform(object,function(result,value,key){_.isEqual(value,base[key])||(result[key]=_.isObject(value)&&_.isObject(base[key])?changes(value,base[key]):value)})}(outerObject,outerBase)}(this.cleanCopy(),this._origObj),actualColumnsDifference=_.get(viewDifference,"columns",[]).filter(function(column){return!_.isEmpty(column)}),getChildren=function(astNode){return _.get(astNode,"children",[])},shouldPrune=function(node){return _.isEmpty(getChildren(node))&&(astNode=node,"operator"==_.get(astNode,"type",""));var astNode};if(_.isEmpty(actualColumnsDifference)&&delete viewDifference.columns,_.has(viewDifference,"query.filterCondition")){var updatedFilterCondition=(filterCondition=_.get(viewDifference,"query.filterCondition",{}),ast=_.cloneDeep(filterCondition),_.has(ast,"children")&&function pruneAST(ast){ast.children=getChildren(ast).filter(function(child){return pruneAST(child),!shouldPrune(child)}),_.isEmpty(getChildren(ast))&&(ast={})}(ast),_.isEmpty(_.get(ast,"children",[]))&&(ast={}),ast);_.isEmpty(updatedFilterCondition)?delete viewDifference.query.filterCondition:viewDifference.query.filterCondition=updatedFilterCondition}return _.isEmpty(_.get(viewDifference,"query",{}))&&delete viewDifference.query,_.isEmpty(_.get(viewDifference,"flags",[]))&&delete viewDifference.flags,_.has(viewDifference,"metadata.jsonQuery")&&delete viewDifference.metadata.jsonQuery,_.has(viewDifference,"metadata")&&_.isEmpty(_.get(viewDifference,"metadata",{}))&&delete viewDifference.metadata,viewDifference},jsonColumnsWithoutGroupingsOrAggregations:function(){return _.get(this.cleanCopy(),"columns",[]).map(function(column){var columnFormat=_.get(column,"format",{});return _.has(columnFormat,"drill_down")&&delete column.format.drill_down,_.has(columnFormat,"group_function")&&delete column.format.group_function,_.has(columnFormat,"grouping_aggregate")&&delete column.format.grouping_aggregate,column})},initializeDerivedViews2018Controls:function(){_.get(window,"socrata.featureFlags.force_use_of_modifying_lens_id_in_all_derived_views",!1)&&(this.initializeSaveViewButton(),this.initializeCreateViewButton(),this.initializeRevertViewButton())},buttonDoesNotExistOrIsAlreadyInitialized:function($button){return!$button.get(0)||!_.isUndefined(_.get($.data($button.get(0),"events"),"click"))},saveView:function(successCallback,errorCallback){var viewToUpdate=this.cleanCopy();$.ajax({url:"/api/views/"+viewToUpdate.id+".json",type:"PUT",data:JSON.stringify(viewToUpdate),headers:{"Content-type":"application/json","X-App-Token":_.get(window,"blist.configuration.appToken","")},success:successCallback,error:errorCallback})},initializeSaveViewButton:function(){var dataset=this,$button=$("#save-view-button");this.buttonDoesNotExistOrIsAlreadyInitialized($button)||($button.on("click",function(){if(!$(this).hasClass("disabled")){$(this).addClass("disabled");dataset.saveView(function(response){window.location.href="/d/"+response.id+"/data"},function(){$(this).removeClass("disabled")})}}),$button.on("mouseover",function(){var flyoutRenderer=window.blist.flyoutRenderer,payload={element:this,content:$(this).hasClass("disabled")?dataset.isPublished()?$.t("screens.ds.bar.save_view_disabled_for_published_tooltip"):$.t("screens.ds.bar.save_view_disabled_tooltip"):$.t("screens.ds.bar.save_view_enabled_tooltip"),belowTarget:!0,rightSideHint:!1,dark:!0};flyoutRenderer&&flyoutRenderer.render(payload)}),$button.on("mouseout",function(){var flyoutRenderer=window.blist.flyoutRenderer;flyoutRenderer&&flyoutRenderer.clear()}))},initializeRevertViewButton:function(){var dataset=this,$button=$("#revert-view-button");this.buttonDoesNotExistOrIsAlreadyInitialized($button)||($button.on("click",function(){$(this).hasClass("disabled")||confirm($.t("screens.ds.bar.revert_view_warning"))&&window.location.reload(!0)}),$button.on("mouseover",function(){var flyoutRenderer=window.blist.flyoutRenderer,payload={element:this,content:$(this).hasClass("disabled")?$.t("screens.ds.bar.revert_view_disabled_tooltip"):dataset.isPublished()?$.t("screens.ds.bar.revert_view_enabled_for_published_tooltip"):$.t("screens.ds.bar.revert_view_enabled_tooltip"),belowTarget:!0,rightSideHint:!1,dark:!0};flyoutRenderer&&flyoutRenderer.render(payload)}),$button.on("mouseout",function(){var flyoutRenderer=window.blist.flyoutRenderer;flyoutRenderer&&flyoutRenderer.clear()}))},createView:function(successCallback,errorCallback){var viewToCreate={columns:this.jsonColumnsWithoutGroupingsOrAggregations(),displayType:"table",hideFromCatalog:this.hideFromCatalog,hideFromDataJson:this.hideFromDataJson,metadata:{availableDisplayTypes:["table","fatrow","page"],renderTypeConfig:{visible:{table:!0}}},name:$.t("screens.ds.bar.create_view_name_prefix")+" "+this.name,originalViewId:this.id,query:{},viewType:"tabular"};$.ajax({url:"/api/views.json",type:"POST",data:JSON.stringify(viewToCreate),headers:{"Content-type":"application/json","X-App-Token":_.get(window,"blist.configuration.appToken","")},success:successCallback,error:errorCallback})},initializeCreateViewButton:function(){var dataset=this,$button=$("#create-view-button");this.buttonDoesNotExistOrIsAlreadyInitialized($button)||($button.on("click",function(){if(!$(this).hasClass("disabled")){$(this).addClass("disabled");var successCallback=function(response){window.location.href="/d/"+response.id+"/data"}.bind(this),errorCallback=function(){$(this).removeClass("disabled")}.bind(this);dataset.createView(successCallback,errorCallback)}}),$button.on("mouseover",function(){var flyoutRenderer=window.blist.flyoutRenderer,payload={element:this,content:$(this).hasClass("disabled")?$.t("screens.ds.bar.create_view_disabled_tooltip"):$.t("screens.ds.bar.create_view_enabled_tooltip"),belowTarget:!0,rightSideHint:!1,dark:!0};flyoutRenderer&&flyoutRenderer.render(payload)}),$button.on("mouseout",function(){var flyoutRenderer=window.blist.flyoutRenderer;flyoutRenderer&&flyoutRenderer.clear()}))},reload:function(reloadFromServer){var ds=this;ds.isBlobby()?ds.trigger("blob_change"):(ds._aggregatesStale=!0,reloadFromServer?ds.makeRequest({url:"/api/views/"+ds.id+".json",type:"GET",success:function(newDS){ds._update(newDS,!0,!0,!0),ds.trigger("reloaded")}}):(ds._update(ds._origObj,!0,!0,!0),ds.trigger("reloaded")))},simpleSort:function(colId,ascending){var md=$.extend(!0,{},this.metadata),query=md.jsonQuery,col=this.columnForIdentifier(colId);$.isBlank(col)?delete query.order:query.order=[{columnFieldName:col.fieldName,ascending:!0===ascending}],this.update({metadata:md},!1,(query.order||[]).length<2)},showRenderType:function(rt,activeUid,force){if(force||!this.metadata.renderTypeConfig.visible[rt]){var md=$.extend(!0,{},this.metadata);md.renderTypeConfig.visible[rt]=!0,activeUid&&(activeUid!=this.id||force)&&$.deepSet(md,activeUid,"renderTypeConfig","active",rt,"id"),this.update({metadata:md},!1,!0)}},hideRenderType:function(rt){if(this.metadata.renderTypeConfig.visible[rt]){var md=$.extend(!0,{},this.metadata);delete md.renderTypeConfig.visible[rt],this.update({metadata:md},!1,!0)}},toggleRenderType:function(rt){this.metadata.renderTypeConfig.visible[rt]?this.hideRenderType(rt):this.showRenderType(rt)},blobs:function(){var ds=this;if(!$.isBlank(this._blobs))return this._blobs;if(this.isBlobby()){var b={type:(this.blobMimeType||"").replace(/;.*/,""),size:this.blobFileSize,href:"/api/views/"+ds.id+"/files/"+this.blobId+"?"+$.param({filename:this.blobFilename})};this.blobFilename!=this.name&&(b.name=this.blobFilename),this._blobs=[b]}else this.isHref()&&(this._blobs=[],$.subKeyDefined(this,"metadata.accessPoints")?(_.each(this.metadata.accessPoints,function(v,k){ds._blobs.push({href:v,type:k.toUpperCase()})}),this._blobs=_.sortBy(this._blobs,"type")):$.subKeyDefined(this,"metadata.href")&&this._blobs.push({href:this.metadata.href,type:"Link",size:"Unknown"}));return this._blobs},userGrants:function(successCallback,errorCallback){var ds=this,success=function(){var userGrants=_.reject(ds.grants,function(g){return _.include(g.flags||[],"public")});_.isFunction(successCallback)&&successCallback(userGrants)};this._grantsFetched?!0===this._grantsFetched&&success():(ds.makeRequest({url:"/api/views/"+ds.id+"/grants.json",success:function(grants){ds.grants=grants||[],success(),ds._grantsFetched=!0},error:errorCallback}),this._grantsFetched="fetching")},removeGrant:function(grant,successCallback,errorCallback){var ds=this;ds.makeRequest({url:"/api/views/"+ds.id+"/grants",params:{method:"delete"},type:"PUT",data:JSON.stringify(grant),success:function(){ds.grants=_.reject(ds.grants||[],function(g){return!$.isBlank(grant.userId)&&grant.userId==g.userId||!$.isBlank(grant.userEmail)&&grant.userEmail==g.userEmail}),_.isFunction(successCallback)&&successCallback()},error:errorCallback})},createGrant:function(grant,successCallback,errorCallback,isBatch){var ds=this;ds.makeRequest({url:"/api/views/"+ds.id+"/grants/",type:"POST",data:JSON.stringify(grant),batch:isBatch,success:function(response){ds.grants=ds.grants||[],ds.grants.push(response),_.isFunction(successCallback)&&successCallback()},error:errorCallback})},replaceGrant:function(oldGrant,newGrant,successCallback,errorCallback){var ds=this,updateGrant={oldGrant:oldGrant,newGrant:newGrant};ds.makeRequest({url:"/api/views/"+ds.id+"/grants",params:{method:"update"},type:"PUT",data:JSON.stringify(updateGrant),success:function(response){ds.grants=ds.grants||[],ds.grants.push(response),_.isFunction(successCallback)&&successCallback()},error:function(error){404==error.status&&ds.removeGrant(oldGrant,function(){ds.createGrant(newGrant,successCallback,errorCallback)},errorCallback)}})},makePublic:function(successCallback,errorCallback){var ds=this,success=function(){ds.trigger("permissions_changed"),_.isFunction(successCallback)&&successCallback.apply(ds,arguments)};ds.isPublic()?success():(ds.grants=ds.grants||[],ds.grants.push({type:"form"===ds.type?"contributor":"viewer",flags:["public"]}),ds.makeRequest({url:"/views/"+ds.id,type:"PUT",params:{method:"setPermission",value:"form"===ds.type?"public.add":"public.read"},success:success,error:errorCallback}))},makePrivate:function(successCallback,errorCallback){var ds=this,success=function(){ds.trigger("permissions_changed"),_.isFunction(successCallback)&&successCallback.apply(ds,arguments)};ds.isPublic()||ds.isPendingPublic()?(ds.grants=_.reject(ds.grants,function(g){return _.include(g.flags||[],"public")&&!0!==g.inherited}),ds.makeRequest({url:"/views/"+ds.id+".json",type:"PUT",params:{method:"setPermission",value:"private"},success:success,error:errorCallback})):success()},resubmitRejectedNonPublicView:function(successCallback,errorCallback){var ds=this,success=function(){ds.trigger("permissions_changed"),_.isFunction(successCallback)&&successCallback.apply(ds,arguments)};ds.isPublic()?(console.warn("Dataset with id",ds.id,"is already public"),success()):ds.makeRequest({url:"/views/"+ds.id+"/approvals",type:"POST",params:{method:"startWorkflowSubmission"},data:JSON.stringify({outcome:"change_audience",object:"public_audience_request",details:{permissionType:"form"===ds.type?"ADD":"READ"}}),success:success,error:errorCallback})},withdrawFromApproval:function(successCallback,errorCallback){var ds=this;ds.makeRequest({url:"/views/"+ds.id+"/approvals/"+ds.audienceSubmissionId,type:"DELETE",params:{method:"cancelWorkflowSubmission"},success:function(){ds.trigger("permissions_changed"),_.isFunction(successCallback)&&successCallback.apply(ds,arguments)},error:errorCallback})},makeCustomGeoregion:function(successCallback,errorCallback){this.makeRequest({url:"/admin/geo",data:JSON.stringify({id:this.id}),type:"POST",success:successCallback,error:errorCallback})},notifyUsers:function(successCallback,errorCallback){this.makeRequest({url:"/api/views/"+this.id+".json",params:{method:"notifyUsers"},type:"POST",success:successCallback,error:errorCallback})},addColumn:function(column,successCallback,errorCallback){if(!$.isBlank((column||{}).parentId)){var par=this.columnForID(column.parentId);if($.isBlank(par))throw"Column "+column.parentId+" not found";return par.addChildColumn(column,successCallback,errorCallback),!0}},getNewBackendId:function(){var ds=this;if(!ds._nbeId&&ds.newBackend&&(ds._nbeId=ds.id),!_.isUndefined(ds._nbeId))return $.when(ds._nbeId);var deferred=$.Deferred();return ds.getParentView(function(parentOrSelf){parentOrSelf?ds.makeRequestWithPromise({url:"/api/migrations/"+parentOrSelf.id}).done(function(migration){ds._nbeId=migration.nbeId,ds._obeId=migration.obeId,deferred.resolve(ds._nbeId)}).fail(function(){deferred.reject()}):deferred.reject()}),deferred.promise()},getNewBackendMetadata:function(){var ds=this;if(!_.isUndefined(ds._newBackendMetadata))return $.when(ds._newBackendMetadata);var deferred=$.Deferred(),reject=function(){deferred.reject()};return ds.getNewBackendId().done(function(newBackendId){if(newBackendId){$.get("/api/views/{0}.json".format(newBackendId)).done(function(metadata){ds._newBackendMetadata=metadata,deferred.resolve(ds._newBackendMetadata)}).fail(reject)}else ds._newBackendMetadata=null,deferred.resolve(ds._newBackendMetadata)}).fail(reject),deferred.promise()},getTotalRows:function(successCallback,errorCallback){this._activeRowSet.getTotalRows(successCallback,errorCallback)},getClusters:function(viewport,displayFormat,minDistance,successCallback,errorCallback){var ds=this;if(ds._clusters||(ds._clusters={}),ds._rowClusterParents||(ds._rowClusterParents={}),$.subKeyDefined(displayFormat,"plot.locationId")&&_.include(["location","point"],(ds.columnForIdentifier(displayFormat.plot.locationId)||{}).renderTypeName))if(ds.newBackend)ds._getClustersViaSODA2.apply(ds,arguments);else{var params={method:"clustered2"};_.each({xmin:"min_lon",xmax:"max_lon",ymin:"min_lat",ymax:"max_lat"},function(newProp,oldProp){params[newProp]=viewport[oldProp]}),params.target_node_clusters=250,params.min_distance_between_clusters=minDistance,params.min_distance_between_clusters||(params.min_distance_between_clusters=Math.min(viewport.xmax-viewport.xmin,viewport.ymax-viewport.ymin)/10,params.min_distance_between_clusters>5?params.min_distance_between_clusters=5:params.min_distance_between_clusters>1&&(params.min_distance_between_clusters=1));var reqData,translateCluster=function(c){c.parent=ds._clusters[c.pathToRoot[0]],ds._clusters[c.id]=c,_.each(c.points,function(point){ds._rowClusterParents[point]=c}),_.each(c.children,function(child){ds._clusters[child]&&!ds._clusters[child].parent&&(ds._clusters[child].parent=ds._clusters[ds._clusters[child].pathToRoot[0]])}),_.each(c.polygon,function(vertex){90==vertex.lat?vertex.lat-=1e-6:-90==vertex.lat&&(vertex.lat+=1e-6),180==vertex.lon?vertex.lon-=1e-6:-180==vertex.lon&&(vertex.lon+=1e-6)}),c.leafNode=(c.points||[]).length>0},useInline=ds.isDefault()||$.subKeyDefined(ds,"query.filterCondition")||ds.cleanFilters()||$.isPresent($.deepGetStringField(ds,"metadata.jsonQuery.search"))||$.isPresent(displayFormat)&&!_.isEqual(displayFormat,ds.displayFormat);if(useInline){if($.subKeyDefined(ds,"query.namedFilters.viewport")){var tmp=ds.query.namedFilters.viewport;delete ds.query.namedFilters.viewport,reqData=ds.cleanCopy(),ds.query.namedFilters.viewport=tmp}else reqData=ds.cleanCopy();$.isBlank(displayFormat)||(reqData.displayFormat=displayFormat),reqData=JSON.stringify(reqData)}if(params.max_lon<params.min_lon){var viewportsLeft=2,totalData=[],callback=function(data){viewportsLeft--,totalData=totalData.concat(data),ds.trigger("row_count_change"),0==viewportsLeft&&successCallback(totalData)};ds.makeRequest({url:"/views/"+ds.id+"/rows.json",params:$.extend({},params,{min_lon:-179.999999}),data:reqData,inline:useInline,success:function(data){_.each(data,translateCluster),callback(data)},error:errorCallback}),ds.makeRequest({url:"/views/"+ds.id+"/rows.json",params:$.extend({},params,{max_lon:179.999999}),data:reqData,inline:useInline,success:function(data){_.each(data,translateCluster),callback(data)},error:errorCallback})}else ds.makeRequest({url:"/views/"+ds.id+"/rows.json",params:params,data:reqData,inline:useInline,success:function(data){_.each(data,translateCluster),ds.trigger("row_count_change"),successCallback(data)},error:errorCallback})}else errorCallback()},setSearchString:function(searchString,inDatasetSearch){var metadata=$.extend(!0,{},this.metadata);metadata.jsonQuery.search=searchString,metadata.inDatasetSearch=inDatasetSearch,this.update({metadata:metadata})},_getClustersViaSODA2:function(viewport,displayFormat,minDistance,successCallback,errorCallback){var ds=this,colLookup=ds.columnForIdentifier(displayFormat.plot.locationId).lookup,params={method:"soql_clustered",target_node_clusters:250};params.min_distance_between_clusters=minDistance,params.min_distance_between_clusters||(params.min_distance_between_clusters=Math.min(viewport.xmax-viewport.xmin,viewport.ymax-viewport.ymin)/10,params.min_distance_between_clusters>5?params.min_distance_between_clusters=5:params.min_distance_between_clusters>1&&(params.min_distance_between_clusters=1));var requests,translateCluster=function(c){c.parent=ds._clusters[c.pathToRoot[0]],ds._clusters[c.id]=c,_.each(c.points,function(point){ds._rowClusterParents[point]=c}),_.each(c.children,function(child){ds._clusters[child]&&!ds._clusters[child].parent&&(ds._clusters[child].parent=ds._clusters[ds._clusters[child].pathToRoot[0]])}),_.each(c.polygon,function(vertex){90==vertex.lat?vertex.lat-=1e-6:-90==vertex.lat&&(vertex.lat+=1e-6),180==vertex.lon?vertex.lon-=1e-6:-180==vertex.lon&&(vertex.lon+=1e-6)}),c.leafNode=(c.points||[]).length>0},baseQuery=ds._queryBase.metadata.jsonQuery,rs=ds._activeRowSet,soqlWhere=blist.filter.generateSOQLWhere(blist.filter.subtractQueries(Dataset.translateFilterColumnsToBase(rs._jsonQuery.where,ds),baseQuery.where),ds._queryBase);params.$where=soqlWhere,params.location=colLookup,_.each({xmin:"min_lon",xmax:"max_lon",ymin:"min_lat",ymax:"max_lat"},function(newProp,oldProp){params[newProp]=viewport[oldProp]});var viewportsLeft=(requests=viewport.xmax<viewport.xmin?_.map([{max_lon:179.999999},{min_lon:-179.999999}],function(bound){return $.extend({},params,bound)}):[params]).length,totalData=[];_.each(requests,function(req){ds.makeRequest({url:"/views/"+ds.id+"/rows.json",params:req,success:function(data){_.each(data,translateCluster),function(data){viewportsLeft--,totalData=totalData.concat(data),ds.trigger("row_count_change"),0==viewportsLeft&&successCallback(totalData)}(data)},error:errorCallback})})},blobColumns:function(){return _.filter(this.realColumns,function(col){return"blob"===col.renderTypeName})},hasBlobColumns:function(){return!_.isEmpty(this.blobColumns())},fileDataForFileId:function(id){return this._fileDataForFileId[id]},resyncFileDataForFileIds:function(ids){var ds=this;_.isUndefined(ids)&&(ids=ds._activeRowSet.getFileIds(),ds._activeRowSet.mapFileIdsToRows());var fileIds=_.reject(ids,_.bind(this.fileDataForFileId,ds));if(_.isEmpty(fileIds))return $.when(ds._fileDataForFileId);var deferred=$.Deferred();return $.ajax({url:"/views/{0}/files.json?method=getAll".format(ds.id),data:JSON.stringify({fileIds:fileIds}),contentType:"application/json",type:"post",dataType:"json"}).done(function(responseData){var rowsChanged=_(responseData).map(function(data){return ds._fileDataForFileId[data.id]=data,ds._activeRowSet.applyFileDataToRow(data)}).filter(_.identity).value();rowsChanged.length>0&&ds._activeRowSet.trigger("row_change",[rowsChanged,!1]),deferred.resolve(ds._fileDataForFileId)}),deferred.promise()},getRows:function(start,len,successCallback,errorCallback,reversedSortOrder){this._activeRowSet.getRows(start,len,successCallback,errorCallback,reversedSortOrder)},getAllRows:function(successCallback,errorCallback){this._activeRowSet.getAllRows(successCallback,errorCallback)},getRowsByIds:function(ids,successCallback,errorCallback){this._activeRowSet.getRows(ids,null,successCallback,errorCallback)},primaryKeyExists:function(candidatePrimaryKey){return this._activeRowSet.primaryKeyExists(candidatePrimaryKey)},loadedRows:function(){return this._activeRowSet.loadedRows()},invalidateMeta:function(){this._activeRowSet.invalidateMeta()},invalidateRows:function(){this._activeRowSet.invalidate()},createRowWithPK:function(pkValue){return this.createRow(null,null,null,pkValue)},createRow:function(data,parRowId,parColId,pkValue,successCallback,errorCallback){var parCol,parRow,ds=this;$.isBlank(parColId)||(parCol=this.columnForID(parColId)),$.isBlank(parRowId)||(parRow=this.rowForID(parRowId)),data=data||{data:{}};var newRow={data:{},metadata:$.extend({},data.metadata),invalid:{},error:{},changed:{}};_.each($.isBlank(parCol)?ds.columns:parCol.childColumns,function(c){$.isBlank(data.data[c.lookup])||(newRow.data[c.lookup]=data.data[c.lookup])}),newRow.id="saving"+_.uniqueId(),delete newRow.data.uuid,_.each($.isBlank(parCol)?ds.realColumns:parCol.realChildColumns,function(c){newRow.changed[c.lookup]=!0}),ds.rowsNeedPK&&(pkValue?newRow.data[ds.rowIdentifierColumn.lookup]=pkValue:(console.error("tried to create a row without a pk value"),newRow.error[ds.rowIdentifierColumn.lookup]=!0,newRow.valid=!1)),$.isBlank(parRow)?ds._addRow(newRow,data.index):(parRow.data[parCol.lookup]=parRow.data[parCol.lookup]||[],$.isBlank(data.index)?parRow.data[parCol.lookup].push(newRow):parRow.data[parCol.lookup].splice(data.index,0,newRow),ds._updateRow(parRow),ds.trigger("row_change",[[parRow],!0]));var savingLookups,key=newRow.id;if($.isBlank(parRow)||(key+=":"+parRow.id+":"+parCol.id),ds.newBackend||(ds._pendingRowEdits[key]=[]),savingLookups=ds._useSODA2?_.pluck(ds.realColumns,"lookup"):_.pluck($.isBlank(parCol)?ds.realColumns:parCol.realChildColumns,"id"),!ds.newBackend){var reqObj={row:newRow,rowData:ds._rowData(newRow,savingLookups,parCol),parentRow:parRow,parentColumn:parCol,success:successCallback,error:errorCallback};$.isBlank(ds._pendingRowCreates)?(ds._serverCreateRow(reqObj),ds._pendingRowCreates=[]):ds._pendingRowCreates.push(reqObj)}return newRow.id},setRowValue:function(value,rowId,columnId,isInvalid,parRowId,parColId){var parCol,col,row;if(col=$.isBlank(parColId)?this.columnForID(columnId):(parCol=this.columnForID(parColId)).childColumnForID(columnId),$.isBlank(col))throw"Column "+columnId+" not found";if(col.isMeta)throw"Cannot modify metadata on rows: "+columnId;if($.isBlank(parRowId))row=this.rowForID(rowId);else{var parRow=this.rowForID(parRowId);row=this._activeRowSet.childRowForID(rowId,parRow,parCol)}if($.isBlank(row))throw"Row "+rowId+" not found while setting value "+value;col==this.rowIdentifierColumn&&_.isUndefined(row.originalPrimaryKeyValue)&&(row.originalPrimaryKeyValue=row.data[col.lookup]),row.data[col.lookup]=value,delete row.error[col.lookup],row.changed[col.lookup]=!0,row.invalid[col.lookup]=isInvalid||!1,row.valid=!this.rowsNeedPK||!_.isUndefined(row.data[this.rowIdentifierColumn.lookup]),this._activeRowSet.updateRow(parRow||row),this.trigger("row_change",[[parRow||row]])},saveRow:function(rowId,parRowId,parColId,successCallback,errorCallback,useBatch){var parCol,parRow,row,ds=this;if($.isBlank(parColId)||(parCol=this.columnForID(parColId)),$.isBlank(parRowId)?row=this.rowForID(rowId):(parRow=this.rowForID(parRowId),row=this._activeRowSet.childRowForID(rowId,parRow,parCol)),$.isBlank(row))throw"Row "+rowId+" not found while saving";if(_.any(row.invalid)&&ds.newBackend)console.error("this row has invalid columns, so we didn't submit it.");else{var saving=_.keys(row.changed);ds.rowsNeedPK&&(_.include(saving,ds.rowIdentifierColumn.lookup)||saving.push(ds.rowIdentifierColumn.lookup));var sendRow=ds._rowData(row,saving,parCol);if(ds.newBackend&&!_.has(row.metadata,"version")&&(/^saving\d+/.test(row.id)&&delete sendRow[":id"],delete sendRow[":meta"]),_.has(row.metadata,"version")&&row.changed[(ds.rowIdentifierColumn||{}).lookup]){sendRow=[];var deleteCmd={":deleted":!0};deleteCmd[ds.rowIdentifierColumn.lookup]=row.originalPrimaryKeyValue,sendRow.push(deleteCmd),sendRow.unshift(ds._rowData(row,_.pluck(ds.realColumns,"lookup"),parCol))}var doRequest=function(){var reqObj={row:row,rowData:sendRow,columnsSaving:saving,parentRow:parRow,parentColumn:parCol,success:successCallback,error:errorCallback},key=row.id;$.isBlank(parRow)||(key+=":"+parRow.id+":"+parCol.id),$.isBlank(ds._pendingRowEdits[key])?(ds._pendingRowEdits[key]=[],ds._serverSaveRow(reqObj,useBatch)):ds._pendingRowEdits[key].push(reqObj)};if(ds.rowsNeedPK){var primaryKeyColumnID=ds.rowIdentifierColumn.lookup;if(row.changed[primaryKeyColumnID]){var candidatePrimaryKey=row.data[primaryKeyColumnID];ds.primaryKeyExists(candidatePrimaryKey).done(function(primaryKeyRow){var hasPrimaryKeyRow="object"===(void 0===primaryKeyRow?"undefined":_typeof(primaryKeyRow)),isDifferentRow=row.id!==(hasPrimaryKeyRow&&primaryKeyRow.id);hasPrimaryKeyRow&&isDifferentRow?(console.error("Attempted to change primary key to one that already exists."),row.error[ds.rowIdentifierColumn.lookup]=!0,row.invalid[ds.rowIdentifierColumn.lookup]=!0,ds.trigger("row_change",[[row]]),ds.trigger("grid_error_message",[row,ds.rowIdentifierColumn,$.t("controls.grid.errors.primary_key_collision")])):doRequest()}).fail(function(){ds.trigger("grid_error_message",[row,ds.rowIdentifierColumn,$.t("controls.grid.errors.cannot_edit_at_this_time")])})}else doRequest()}else doRequest()}},removeRows:function(rowIds,parRowId,parColId,successCallback,errorCallback){var parCol,parRow,ds=this;rowIds=$.makeArray(rowIds),$.isBlank(parColId)||(parCol=this.columnForID(parColId)),$.isBlank(parRowId)||(parRow=this.rowForID(parRowId)),_.each(rowIds,function(rId){var uuid;if($.isBlank(parRow)){var r=ds.rowForID(rId);if($.isBlank(r))return;uuid=ds._useSODA2?r.id:r.metadata.uuid,ds.rowsNeedPK&&(uuid=r.data[ds.rowIdentifierColumn.lookup]),ds._removeRow(r)}else parRow.data[parCol.lookup]=_.reject(parRow.data[parCol.lookup],function(cr){return cr.id==rId&&(uuid=ds._useSODA2?cr.id:cr.metadata.uuid,!0)}),ds._updateRow(parRow);var key=rId;$.isBlank(parRow)||(key+=":"+parRow.id+":"+parCol.id),$.isBlank(ds._pendingRowEdits[key])?ds._serverRemoveRow(uuid,parRowId,parColId,!0):ds._pendingRowDeletes[key]={rowId:uuid,parRowId:parRowId,parColId:parColId}}),$.isBlank(parRow)?ds.trigger("row_count_change"):ds.trigger("row_change",[[parRow],!0]),ds._aggregatesStale=!0,_.each($.isBlank(parCol)?ds.realColumns:parCol.realChildColumns,function(c){c.invalidateData()}),ServerModel.sendBatch({success:successCallback,error:errorCallback})},markRow:function(markType,value,row){_.each(this._availableRowSets,function(rs){rs.markRow(markType,value,row)})},highlightRows:function(rows,type,column,isAdd){var ds=this;if(rows=$.makeArray(rows),type=type||"default",ds.highlightTypes=ds.highlightTypes||{},ds.highlightsColumn=ds.highlightsColumn||{},!isAdd)if($.isBlank(ds.highlightTypes[type]))ds.highlightTypes[type]={};else{var newIds={};_.each(rows,function(r){newIds[r.id]=!0}),ds.unhighlightRows(_.reject(ds.highlightTypes[type],function(r,rId){return newIds[rId]&&($.isBlank(column)&&$.isBlank(ds.highlightsColumn[rId])||(column||{}).id==ds.highlightsColumn[rId])}),type)}ds.highlights=ds.highlights||{};for(var rowChanges=[],i=0;i<rows.length;i++){var row=rows[i];if(ds.highlightTypes[type][row.id]=row,!ds.highlights[row.id]){ds.highlights[row.id]=!0,$.isBlank(column)||(ds.highlightsColumn[row.id]=column.id);var realRow=ds.rowForID(row.id);$.isBlank(realRow)||(ds.markRow("highlight",!0,realRow),$.isBlank(column)||ds.markRow("highlightColumn",column.id,realRow)),rowChanges.push(realRow||row)}}rowChanges.length>0&&ds.trigger("row_change",[rowChanges])},unhighlightRows:function(rows,type){var ds=this;rows=$.makeArray(rows),type=type||"default",ds.highlightTypes=ds.highlightTypes||{},ds.highlights=ds.highlights||{},ds.highlightsColumn=ds.highlightsColumn||{};for(var rowChanges=[],i=0;i<rows.length;i++){var row=rows[i];if($.isBlank(ds.highlightTypes[type])||delete ds.highlightTypes[type][row.id],!_.any(ds.highlightTypes,function(hHash){return!$.isBlank(hHash[row.id])})&&ds.highlights[row.id]){delete ds.highlights[row.id],delete ds.highlightsColumn[row.id];var realRow=ds.rowForID(row.id);$.isBlank(realRow)||(ds.markRow("highlight",!1,realRow),ds.markRow("highlightColumn",null,realRow)),rowChanges.push(realRow||row)}}rowChanges.length>0&&ds.trigger("row_change",[rowChanges])},rowToSODA2:function(row){var r={":index":row.index};return _.each(this.columns,function(c){r[c.fieldName]=row.data[c.lookup],"location"==c.renderTypeName&&$.subKeyDefined(r[c.fieldName],"human_address")&&_.isString(r[c.fieldName].human_address)&&(r[c.fieldName].human_address=JSON.parse(r[c.fieldName].human_address)),"drop_down_list"!=c.renderTypeName||$.isBlank(r[c.fieldName])||(r[c.fieldName]=c.renderType.renderer(r[c.fieldName],c,!0))}),_.each(this.columns,function(c){c.isMeta&&_.isUndefined(r[c.name])&&(r[c.name]=r[c.fieldName])}),r},findColumnForServerName:function(name,parCol){var ds=this;name=ds._useSODA2?name:{sid:"id",id:"uuid"}[name]||name;var c=ds._useSODA2?$.isBlank(parCol)?ds.columnForFieldName(name):parCol.childColumnForFieldName(name):$.isBlank(parCol)?ds.columnForID(name):parCol.childColumnForID(name);if($.isBlank(c)){if(!ds._useSODA2||!ds.isGrouped())return null;var i=name.indexOf("__"),gf=name.slice(i+2),mId=name.slice(0,i);if(c=$.isBlank(parCol)?ds.columnForIdentifier(mId):parCol.childColumnForIdentifier(mId),$.isBlank(c)||c.format.group_function!=blist.datatypes.groupFunctionFromSoda2(gf)){i=name.indexOf("_");var agg=name.slice(0,i);if(name=name.slice(i+1),c=$.isBlank(parCol)?ds.columnForIdentifier(name):parCol.childColumnForIdentifier(name),$.isBlank(c)||c.format.grouping_aggregate!=blist.datatypes.aggregateFromSoda2(agg))return null}}return c},getAggregates:function(callback,customAggs){var ds=this;ds._aggregatesStale&&_.each(ds.realColumns,function(c){c.aggregates={}}),ds._aggregatesStale||_.any(customAggs||{},function(aList,cId){var col=ds.columnForID(cId);return!!$.isBlank(col)||_.any($.makeArray(aList),function(a){return $.isBlank(col.aggregates[a])})})||$.isBlank(customAggs)&&_.any(ds.visibleColumns,function(c){return $.subKeyDefined(c.format.aggregate)&&$.isBlank(c.aggregates[c.format.aggregate])})?ds._activeRowSet.getAggregates(function(aggs){_.each(aggs,function(a){var c=ds.columnForIdentifier(a.columnIdent);$.isBlank(c)||(c.aggregates[a.name]=$.isBlank(a.value)?null:parseFloat(a.value))}),ds._aggregatesStale=!1,ds.trigger("column_totals_changed"),_.isFunction(callback)&&callback()},customAggs):_.isFunction(callback)&&callback()},aggregatesChanged:function(skipStale){skipStale||(this._aggregatesStale=!0),this.trigger("column_totals_changed")},updateRating:function(rating,successCallback,errorCallback){this.makeRequest({url:"/views/"+this.id+"/ratings.json",type:"POST",data:JSON.stringify(rating),success:successCallback,error:errorCallback})},remove:function(successCallback,errorCallback){var ds=this,dsRemoved=function(){ds.trigger("removed"),_.isFunction(successCallback)&&successCallback()};ds.isDataLens()?ds.makeRequestWithPromise({url:"/metadata/v1/page/{0}".format(ds.id),type:"DELETE"}).then(dsRemoved,errorCallback):ds.makeRequest({url:"/api/views/"+ds.id+".json",type:"DELETE",success:dsRemoved,error:errorCallback})},registerOpening:function(referrer){var params={method:"opening"};$.isPresent(referrer)&&(params.referrer=referrer),this._useSODA2&&$.parseParams().$$store&&(params.$$store=$.parseParams().$$store),this.makeRequest({url:"/views/"+this.id+".json",params:params,type:"POST"}),Dataset.saveRecentDataset(this)},_isGeoExport:function(ext){return/(kml|kmz|shapefile|geojson)/i.test(ext)||"original"===ext&&GeoHelpers.isGeoDataset(this)},downloadUrl:function(type){var ext=(type||"").toLowerCase().split(" ")[0];if(this._isGeoExport(ext))return"/api/geospatial/{0}?method=export&format={1}".format(this.id,type);var bom="CSV for Excel"==type||"CSV for Excel (Europe)"==type?"&bom=true":"",format="CSV for Excel"==type||"CSV for Excel (Europe)"==type?"&format=true":"",delimiter="CSV for Excel (Europe)"==type?"&delimiter=;":"",sort=_.get(window,"socrata.featureFlags.sort_dataset_on_export",!1)?"&sorting=true":"";return"/api/views/{0}/rows.{1}?accessType=DOWNLOAD{2}{3}{4}{5}".format(this.id,ext,bom,format,delimiter,sort)},_getCommentCacheKey:function(comment){return $.isBlank(comment.rowId)?this.id:_.compact([comment.rowId,comment.tableColumnId]).join("_")},getComments:function(callback){var ds=this,cacheId=ds.id;$.isBlank(ds._commentCache[cacheId])?ds.makeRequest({url:"/views/"+ds.id+"/comments.json",params:null,type:"GET",pageCache:!0,success:function(comms){ds._commentCache[cacheId]=ds._commentCache[cacheId]||[],_.each(comms,function(c){ds._commentByID[c.id]=c,ds._commentCache[cacheId].push(c)}),callback(ds._commentCache[cacheId])}}):callback(ds._commentCache[cacheId])},addComment:function(comment,successCallback,errorCallback){var ds=this,cacheId=ds.id;ds.makeRequest({url:"/views/"+ds.id+"/comments.json",type:"POST",data:JSON.stringify(comment),success:function(newCom){ds.numberOfComments++,$.isBlank(ds._commentCache[cacheId])||ds._commentCache[cacheId].unshift(newCom),ds._commentByID[newCom.id]=newCom,ds.trigger("new_comment",[newCom,comment.parent]),_.isFunction(successCallback)&&successCallback(newCom)},error:errorCallback})},removeComment:function(commentId,successCallback,errorCallback){var com=this._commentByID[commentId];$.isBlank(com)||this.makeRequest({url:"/views/"+this.id+"/comments/"+commentId+".json",type:"DELETE",success:successCallback,error:errorCallback})},flagComment:function(commentId,successCallback,errorCallback){var com=this._commentByID[commentId];$.isBlank(com)||(com.flags=com.flags||[],_.include(com.flags,"flag")||com.flags.push("flag")),this.makeRequest({url:"/views/"+this.id+"/comments/"+commentId+".json",type:"PUT",data:JSON.stringify({flags:["flag"]}),success:successCallback,error:errorCallback})},rateComment:function(commentId,thumbsUp,successCallback,errorCallback){var com=this._commentByID[commentId];$.isBlank(com)||(com.currentUserRating||{}).thumbUp!==thumbsUp&&(com[(thumbsUp?"up":"down")+"Ratings"]++,$.isBlank(com.currentUserRating)||com[(thumbsUp?"down":"up")+"Ratings"]--,com.currentUserRating=com.currentUserRating||{},com.currentUserRating.thumbUp=thumbsUp);this.makeRequest({url:"/views/"+this.id+"/comments/"+commentId+"/ratings.json",params:{thumbsUp:thumbsUp},type:"POST",success:successCallback,error:errorCallback})},getParentDataset:function(callback){var ds=this;($.isBlank(ds._parent)||$.isBlank(ds._parent.columns))&&$.isBlank(ds.noParentAvailable)?ds.makeRequest({url:"/views/{0}.json".format(this.id),params:{method:"getDefaultView"},success:function(parDS){parDS.id==ds.id?ds._parent=ds:(ds._parent=createDatasetFromView(parDS),$.isBlank(ds.accessType)||ds._parent.setAccessType(ds.accessType)),callback(ds._parent)},error:function(xhr){"permission_denied"==JSON.parse(xhr.responseText).code&&(ds.noParentAvailable=!0),callback()}}):callback(ds._parent)},getParentView:function(callback){var ds=this;($.isBlank(ds._modifyingView)||$.isBlank(ds._modifyingView.columns))&&$.isBlank(ds.noModifyingViewAvailable)?_.isUndefined(ds.modifyingViewUid)?ds.getParentDataset(callback):Dataset.createFromViewId(ds.modifyingViewUid,function(modifyingView){ds._modifyingView=modifyingView,$.isBlank(ds.accessType)||ds._modifyingView.setAccessType(ds.accessType),callback(ds._modifyingView)},function(xhr){"permission_denied"==JSON.parse(xhr.responseText).code&&(ds.noModifyingViewAvailable=!0),callback()}):callback(ds._modifyingView)},getRelatedViews:function(callback){var ds=this;$.isBlank(ds._relatedViews)?ds._loadRelatedViews(function(){callback(ds._relatedViews)}):callback(ds._relatedViews)},getPublishedView:function(callback){var ds=this;$.isBlank(ds._publishedView)?!$.isBlank(ds.publishedViewUid)&&$.isBlank(ds.noPublishedViewAvailable)?ds.makeRequest({url:"/views/{0}.json".format(this.publishedViewUid),success:function(pv){ds._publishedView=createDatasetFromView(pv),callback(ds._publishedView)},error:function(xhr){"permission_denied"==JSON.parse(xhr.responseText).code&&(ds.noPublishedViewAvailable=!0),callback()}}):callback():callback(ds._publishedView)},getViewForDisplay:function(type,callback){var vft=this._childViewsForType(type);if(vft){var typeDisplay=$.deepGet(!0,this,"metadata","renderTypeConfig","active",type);typeDisplay.id&&"self"!==typeDisplay.id||(typeDisplay.id=vft[0]),this._getChildView(typeDisplay.id,callback)}else callback(this)},getQueryBase:function(callback){var ds=this;if($.isBlank(ds._queryBase)){var updateSelf=_.throttle(function(){$.isBlank(ds._queryBase)||ds._queryBase.id!=ds.id||ds._queryBase.reload(!0)},500,{leading:!1});ds.bind("saved",updateSelf,ds),ds.bind("columns_changed",function(changeType){"added"!=changeType&&"fullSet"!=changeType&&"removed"!=changeType||updateSelf()},ds);var selfForBase=function(){Dataset.createFromViewId(ds.id,function(qb){ds._queryBase=qb,_.isFunction(callback)&&callback()})};_.get(window,"socrata.featureFlags.force_use_of_modifying_lens_id_in_all_derived_views",!1)||!ds.hasRight(blist.rights.view.UPDATE_VIEW)||ds.isDefault()?_.defer(selfForBase):ds.getParentView(function(par){$.isBlank(par)?selfForBase():(ds._queryBase=par,_.isFunction(callback)&&callback())})}else _.isFunction(callback)&&callback()},getChildOptionsForType:function(type,callback){var ds=this,children=ds._childViewsForType(type);if(children){var options=[];_.each(children,function(childUid){ds._getChildView(childUid,function(child){options.push(child)},!0)}),ServerModel.sendBatch(function(){callback(options)})}else callback([ds])},getFilteredFieldNames:function(){return _.uniq(blist.util.recursivePluck(this.query,"columnFieldName"))},redirectTo:function(urlParams){var url=this.url,queryString="";blist.configuration.dataset_landing_page_enabled&&(url+="/data"),$.isBlank(urlParams)||(queryString="?"+$.toParam(urlParams)),window.location=url+queryString},_cachedLinkedColumnOptions:{},getLinkedColumnOptions:function(keyCol,notUsed,$field,curVal){var ds=this,localKeyColumnId=keyCol&&keyCol["format.linkedKey"]?keyCol["format.linkedKey"]:keyCol;if($.isBlank(localKeyColumnId)||isNaN(localKeyColumnId))return[];var viewUid=ds.columnForID(localKeyColumnId).format.linkedDataset;return $.isBlank(viewUid)||!viewUid.match(blist.util.patterns.UID)?[]:$.isBlank(ds._cachedLinkedColumnOptions[viewUid])?(ds.makeRequest({url:"/api/views/"+viewUid+".json",pageCache:!0,type:"GET",error:function(req){alert(JSON.parse(req.responseText).message)},success:function(linkedDataset){var lds=createDatasetFromView(linkedDataset);$.isBlank(ds.accessType)||lds.setAccessType(ds.accessType),ds._cachedLinkedColumnOptions[viewUid]=[];var opt,cldo=ds._cachedLinkedColumnOptions[viewUid];_.each(lds.columns||[],function(c){c.canBeLinkSource()&&(opt={value:String(c.fieldName),text:c.name,dataType:c.dataTypeName},cldo.push(opt))}),ds._cachedLinkedColumnOptions[viewUid].length<=0?alert("Dataset "+viewUid+" does not have any columns."):($field.data("linkedFieldValues","_reset"),_.each($field.data("linkedGroup"),function(f){$(f).trigger("change")}),_.defer(function(){$field.val(curVal)}))}}),[]):(ds._cachedLinkedColumnOptions[localKeyColumnId]=ds._cachedLinkedColumnOptions[viewUid],ds._cachedLinkedColumnOptions[viewUid])},getLinkSourceDataType:function(col,linkSrcColId,keyColId){var localKeyColId=col&&col.format?col.format.linkedKey:keyColId,ds=blist.dataset,keyCol=ds.columnForID(localKeyColId);if(void 0==keyCol)return null;var viewUid=keyCol.format.linkedDataset,remoteColumns=ds._cachedLinkedColumnOptions[viewUid];if(null==remoteColumns)return null;for(var n=remoteColumns.length-1;n>=0;n--)if(remoteColumns[n].value==linkSrcColId){var dt=remoteColumns[n].dataType;return{value:dt,text:blist.datatypes[dt].title}}return null},hasDatasetLinkColumn:function(){return(!this||!this.parentId)&&_.any(this.columns,function(c){return"dataset_link"==c.dataTypeName})},getFullSnapshotUrl:function(name){return name=this._getThumbNameOrDefault(name),$.isBlank(this._getCroppedThumbnailMeta(name))?null:this.getSnapshotNamed(name)},getSnapshotNamed:function(name){return"/api/views/"+this.id+"/snapshots/"+escape(name)},getCroppedSnapshotUrl:function(name){name=this._getThumbNameOrDefault(name);var meta=this._getCroppedThumbnailMeta(name);return $.isBlank(meta)?null:this.getSnapshotNamed(meta.filename)},requestSnapshot:function(name,callback){this._updateSnapshot("snapshot",name,callback)},cropSnapshot:function(name,callback){this._updateSnapshot("cropExisting",name,callback)},makeUnpublishedCopy:function(successCallback,pendingCallback,errorCallback){var ds=this;blist.configuration.derivedViewPublication||ds.isDefault()?ds.makeRequest({url:"/api/views/"+ds.id+"/publication.json",params:{method:"copy"},type:"POST",pending:function(){ds.copyPending=!0,_.isFunction(pendingCallback)&&pendingCallback()},error:errorCallback,success:function(r){delete ds.copyPending,ds._unpublishedView=createDatasetFromView(r),_.isFunction(successCallback)&&successCallback(ds._unpublishedView)}}):ds.getParentDataset(function(parDS){ds._startRequest(),parDS.makeUnpublishedCopy(function(){ds._finishRequest(),_.isFunction(successCallback)&&successCallback.apply(ds,arguments)},pendingCallback,errorCallback)})},publish:function(successCallback,errorCallback){this.makeRequest({url:"/api/views/"+this.id+"/publication.json",type:"POST",error:errorCallback,success:function(r){var pubDS=createDatasetFromView(r);_.isFunction(successCallback)&&successCallback(pubDS)}})},getPublishedDataset:function(callback){var ds=this;$.isBlank(ds._publishedViews)?ds._loadPublicationViews(function(){callback(_.detect(ds._publishedViews,function(v){return v.isDefault()}))}):callback(_.detect(ds._publishedViews,function(v){return v.isDefault()}))},getUnpublishedDataset:function(callback){var ds=this;$.isBlank(ds._publishedViews)?ds._loadPublicationViews(function(){callback(ds._unpublishedView)}):callback(ds._unpublishedView)},getUnpublishedView:function(callback){var ds=this;$.isBlank(ds._unpublishedView)&&$.isBlank(ds.noUnpublishedViewAvailable)?ds.makeRequest({url:"/views/{0}.json".format(this.publishedViewUid),params:{method:"getPublicationGroup",stage:"unpublished"},success:function(pv){ds._unpublishedView=createDatasetFromView(pv),callback(ds._unpublishedView)},error:function(xhr){"permission_denied"==JSON.parse(xhr.responseText).code&&(ds.noUnpublishedViewAvailable=!0),callback(ds._unpublishedView)}}):callback(ds._unpublishedView)},isPublicationStageChangeAvailable:function(isPublished,resultCallback){var ds=this,controlsGridStatusKey="controls.grid.{0}".format(isPublished?"published":"unpublished");if(ds.newBackend)"geo"===ds.viewType?resultCallback(!0,""):ds.makeRequest({url:"/api/views/{0}/replication.json".format(ds.id),success:function(replicationStatus){var computationUpToDate=_.get(replicationStatus,"asynchronous_computation_up_to_date",!0);resultCallback(computationUpToDate,$.t("{0}.asynchronous_computation_pending".format(controlsGridStatusKey)))},error:function(){resultCallback(!1,$.t("{0}.unknown_publication_stage_change_available_error".format(controlsGridStatusKey)))}});else{if(ds.columnsForType("location").length<1)return void resultCallback(!0);ds.makeRequest({url:"/api/geocoding/{0}.json".format(ds.id),params:{method:"pending"},success:function(results){resultCallback(results.view<1,$.t("{0}.geocodes_pending".format(controlsGridStatusKey)))},error:function(){resultCallback(!1,$.t("{0}.unknown_publication_stage_change_available_error".format(controlsGridStatusKey)))}})}},getOpenRevision:function(callback){var ds=this;$.isBlank(ds._openRevision)||void 0===ds.knownByDsmapi||null===ds.knownByDsmapi?ds.makeRequest({url:"/api/publishing/v1/revision/{0}".format(this.id),params:{},success:function(revisions){revisions&&0!==revisions.length?(ds.knownByDsmapi=!0,ds._openRevision=_(revisions).filter({resource:{creation_source:"browser"}}).reject("resource.closed_at").first(),callback(ds._openRevision)):ds.knownByDsmapi=!1},error:function(xhr){console.error("Error getting revisions for view",xhr),callback(ds._openRevision)}}):callback(ds._openRevision)},makeBrowserRevision:function(successCallback,errorCallback){var ds=this,onSuccess=function(openedRevision){ds._openRevision=openedRevision,_.isFunction(successCallback)&&successCallback(ds._openRevision)};ds.makeRequest({url:"/api/publishing/v1/revision/"+ds.id,params:{action:{type:"replace"},creation_source:"browser"},type:"POST",error:errorCallback,success:function(r){"tabular"===ds.viewType?ds.makeRequest({url:"/api/publishing/v1/revision/"+ds.id+"/"+r.resource.revision_seq+"/source",params:{source_type:{type:"view"}},type:"POST",error:errorCallback,success:function(){onSuccess(r)}}):onSuccess(r)}})},getBackups:function(callback){var ds=this;if(ds.newBackend){ds.makeRequest({url:"/api/views/{0}/backups".format(ds.id),type:"GET",success:function(timestamps){var rv=_.map(timestamps,function(timestamp){var snapshotId=_.get(timestamp,"id",timestamp),snapshotTimestamp=_.get(timestamp,"viewLastModifiedAt",timestamp);return{downloadLinks:{csv:"/api/views/{0}/backups/{1}".format(ds.id,snapshotId)},moment:moment(snapshotTimestamp)}});callback(rv)}})}},makeBackup:function(successCallback){this.newBackend&&(_.isFunction(successCallback)||(successCallback=function(){}),this.makeRequest({url:"/api/views/{0}/backups".format(this.id),type:"POST",success:function(){successCallback()}}))},deleteBackup:function(backupURI,successCallback){this.newBackend&&(_.isFunction(successCallback)||(successCallback=function(){}),this.makeRequest({url:backupURI,type:"DELETE",success:function(){successCallback()}}))},getSnapshotDatasets:function(callback){var ds=this;$.isBlank(ds._snapshotViews)?ds._loadPublicationViews(function(){callback(_.filter(ds._snapshotViews,function(v){return v.isDefault()}))}):callback(_.filter(ds._snapshotViews,function(v){return v.isDefault()}))},getOperationStatuses:function(callback){this.makeRequest({url:"/views/"+this.id,params:{method:"operationStatuses"},success:callback})},cleanFilters:function(excludeTemporary){var filters,ds=this;if($.isBlank((ds.query||{}).filterCondition)||(filters=$.extend(!0,{},ds.query.filterCondition)),!$.isBlank((ds.query||{}).namedFilters)){var newFilters=[];_.each(ds.query.namedFilters,function(nf){_.isEmpty(nf)||excludeTemporary&&nf.temporary||($.isBlank(nf.displayTypes)||_.include(nf.displayTypes,ds.displayType))&&(delete(nf=$.extend(!0,{},nf)).temporary,delete nf.displayTypes,newFilters.push(nf))}),newFilters.length>0&&($.isBlank(filters)&&1==newFilters.length?filters=_.first(newFilters):($.isBlank(filters)?filters={children:[],type:"operator",value:"AND"}:"operator"==filters.type&&"AND"==filters.value||(filters={type:"operator",value:"AND",children:[filters]}),filters.children=(filters.children||[]).concat(newFilters)))}return filters},cleanJsonFilters:function(excludeTemporary){var ds=this,filters={};if(_.each(["where","having"],function(k){$.subKeyDefined(ds,"metadata.jsonQuery."+k)&&(filters[k]=$.extend(!0,{},ds.metadata.jsonQuery[k]))}),$.subKeyDefined(ds,"metadata.jsonQuery.namedFilters")){var newFilters={where:[],having:[]};_.each(ds.metadata.jsonQuery.namedFilters,function(nf){excludeTemporary&&nf.temporary||($.isBlank(nf.displayTypes)||_.include(nf.displayTypes,ds.displayType))&&(delete(nf=$.extend(!0,{},nf)).temporary,delete nf.displayTypes,newFilters.where.push(nf.where),newFilters.having.push(nf.having))}),_.each(["where","having"],function(k){newFilters[k]=_.compact(newFilters[k]),newFilters[k].length>0&&(_.isEmpty(filters[k])&&1==newFilters[k].length?filters[k]=_.first(newFilters[k]):(_.isEmpty(filters[k])?filters[k]={children:[],operator:"AND"}:"AND"!=filters[k].operator&&(filters[k]={operator:"AND",children:[filters[k]]}),filters[k].children=(filters[k].children||[]).concat(newFilters[k])))})}return filters},cleanCopy:function(allowedKeys){var dsCopy=this._super(allowedKeys);return $.isBlank(dsCopy.query)||(dsCopy.query.filterCondition=this.cleanFilters(),delete dsCopy.query.namedFilters),$.subKeyDefined(dsCopy,"metadata.jsonQuery")&&($.extend(dsCopy.metadata.jsonQuery,this.cleanJsonFilters()),delete dsCopy.metadata.jsonQuery.namedFilters),_.isEmpty(_.get(dsCopy,"searchString",null))&&delete dsCopy.searchString,dsCopy},cleanCopyIncludingRenderTypeName:function(){var dsCopy=this._super();return $.isBlank(dsCopy.query)||(dsCopy.query.filterCondition=this.cleanFilters(!0),delete dsCopy.query.namedFilters),$.subKeyDefined(dsCopy,"metadata.jsonQuery")&&($.extend(dsCopy.metadata.jsonQuery,this.cleanJsonFilters()),delete dsCopy.metadata.jsonQuery.namedFilters),dsCopy.columns=this.realColumns.map(function(column){return column.cleanCopyIncludingRenderTypeName()}),_.has(dsCopy,"name")||(_.has(this,"name")?dsCopy.name=this.name:dsCopy.name=$.t("screens.ds.bar.create_view_name_prefix")+" "+this.id),dsCopy},changeOwner:function(userId,successCallback,errorCallback){this.makeRequest({url:"/views/"+this.id+"?method=plagiarize&userId="+userId,type:"PUT",success:successCallback,error:errorCallback})},getShareTypes:function(){var stypes=["Contributor","Owner"];return"form"!=this.type&&stypes.unshift("Viewer"),stypes},preferredImage:function(size){var ds=this;if($.isBlank(size)&&(size="thumb"),!$.isBlank(ds.iconUrl))return"/assets/"+escape(ds.iconUrl)+"?s=thumb";if($.deepGet(ds,"metadata","thumbnail","page","filename")){var result="";return ds.isFederated()&&(result+="//"+this.domainCName),result+="/api/views/"+ds.id+"/snapshots/page?size=thumb"}return null},preferredImageType:function(){return $.isBlank(this.iconUrl)?$.subKeyDefined(this,"metadata.thumbnail.page.filename")?"thumbnail":"":"customImage"},_checkValidity:function(){return $.isBlank(this.message)},_markTemporary:function(minorChange){var oldMinor=this.minorChange;this.minorChange=this.minorChange&&(minorChange||!1),this.temporary&&oldMinor===this.minorChange||(this.temporary=!0,this.trigger("set_temporary"),(blist.debug||{}).temporary&&(console||{}).trace&&(console.groupCollapsed("markingTemporary"),console.trace(),console.groupEnd()))},_clearTemporary:function(){this.temporary&&(this.temporary=!1,this.minorChange=!0,this.trigger("clear_temporary"))},_determineUseSODA2:function(){var ds=this;ds.newBackend||blist.configuration.useSoda2?ds._useSODA2=!0:ds._useSODA2=!1;var sodaVersion=$.urlParam(window.location.href,"soda");"1"===sodaVersion&&(ds._useSODA2=!1),"2"===sodaVersion&&(ds._useSODA2=!0)},_adjustProperties:function(){var adt,ds=this;if(ds.originalViewId=ds.id,ds._determineUseSODA2(),ds.type=function(ds){var type=ds.displayType||"table";"blobby"==ds.viewType?type="blob":"assetinventory"==ds.displayType?type="table":"href"==ds.viewType?type="href":"api"==ds.displayType?type="api":_.include(["table","fatrow","page"],type)&&_.include(ds.flags||[],"default")?type="blist":_.include(VIZ_TYPES,type)?type="chart":_.include(MAP_TYPES,type)?type="map":"calendar"==type||(!$.isBlank(ds.query)&&!$.isBlank(ds.query.groupBys)&&ds.query.groupBys.length>0||(ds.message||"").indexOf("roll up")>=0?type="grouped":_.include(["table","fatrow","page"],type)&&!_.include(ds.flags||[],"default")&&(type="filter"));return type}(ds),ds.isUnpublished()?ds.styleClass="Unpublished":"blist"==ds.type&&ds.isSnapshot()?ds.styleClass="Snapshotted":ds.styleClass=ds.type.capitalize(),$.isBlank(ds.displayType)&&(ds.displayType={tabular:"table",blobby:"blob",href:"href"}[ds.viewType||"tabular"]),ds.displayName=function(ds){switch(ds.type){case"blist":return ds.isPublished()?$.t("core.view_types.dataset"):$.t("core.view_types.working_copy");default:return $.t("core.view_types."+ds.type)}}(ds),ds.searchString=ds.searchString||void 0,$.isBlank(ds.message)||"filter"!=ds.type||delete ds.message,!ds._addedProperties){var types=[ds.type];$.subKeyDefined(ds,"metadata.availableDisplayTypes")&&(types=_.without(ds.metadata.availableDisplayTypes,ds.type)).push(ds.type),_.each(types,function(t){Dataset.addProperties(ds,Dataset.modules[t]||{},$.extend({},ds))}),ds._addedProperties=!0}(ds.displayFormat=ds.displayFormat||{},ds.metadata=ds.metadata||{},_.isFunction(ds._convertLegacy)&&ds._convertLegacy(),$.subKeyDefined(ds,"metadata.availableDisplayTypes"))||(_.include(["blob","href","form","api"],ds.type)?adt=[ds.type]:(adt=["table","fatrow","page"],$.isBlank(ds.displayType)||_.include(["blist","filter","grouped"],ds.type)||adt.unshift(ds.displayType)),ds.metadata.availableDisplayTypes=adt);$.subKeyDefined(ds,"metadata.renderTypeConfig.visible")||(ds.metadata=$.extend(!0,{renderTypeConfig:{visible:{}}},ds.metadata),ds.metadata.renderTypeConfig.visible[ds.displayType]=!0),$.subKeyDefined(ds,"metadata.renderTypeConfig.active")&&!_.any(ds.metadata.renderTypeConfig.active,function(t){return"self"==t.id})&&(ds.metadata.renderTypeConfig.active[_.first(_.keys(ds.metadata.renderTypeConfig.visible))]={id:"self"}),ds.url=ds._generateUrl(),ds.fullUrl=ds._generateUrl(!0),ds.shortUrl=ds._generateShortUrl(!0),ds.apiUrl=ds._generateApiUrl(),ds.domainUrl=ds._generateBaseUrl(ds.domainCName)},_activateRowSet:function(newRS){var ds=this;if(newRS!=ds._activeRowSet){$.isBlank(ds._activeRowSet)||(ds._activeRowSet.deactivate(),_.each(["row_change","row_count_change","metadata_update"],function(evName){ds._activeRowSet.unbind(evName,null,ds)})),ds._activeRowSet=newRS,ds._availableRowSets=ds._availableRowSets||{};var k=ds._activeRowSet.getKey();ds._availableRowSets[k]!=ds._activeRowSet&&(ds._availableRowSets[k]=ds._activeRowSet),$.isBlank(ds._activeRowSet)||(_.each(["row_change","row_count_change"],function(evName){ds._activeRowSet.bind(evName,function(){ds.trigger(evName,arguments)},ds)}),ds._activeRowSet.bind("metadata_update",function(){ds._update.apply(ds,arguments)}),ds._activeRowSet.activate())}},_getChildView:function(uid,callback,isBatch){if(!this.childViews)throw"No such child view";if(this._childViews||(this._childViews={}),this._childViews[uid])callback(this._childViews[uid]);else{var self=this,handleChild=function(child){self._childViews[uid]=child,child!=self&&(child.unbind(null,null,self),child.bind("displaytype_change",function(){self.trigger("displaytype_change")},self)),callback(child)};"self"==uid?handleChild(self):Dataset.lookupFromViewId(uid,handleChild,void 0,isBatch)}},_childViewsForType:function(type){return"map"!=type&&(!!_.include(["table","fatrow","page"],type)&&this.childViews)},_update:function(newDS,forceFull,updateColOrder,masterUpdate){var ds=this;newDS.id=ds.id,newDS.flags=_.without(newDS.flags||[],"unsaved"),_.include(ds.flags||[],"default")&&!_.include(newDS.flags||[],"default")&&(newDS.flags=newDS.flags||[],newDS.flags.push("default"),_.include(ds.flags||[],"restorable")&&newDS.flags.push("restorable")),_.include(ds.flags||[],"shared")&&(newDS.flags=newDS.flags||[],newDS.flags.push("shared"));var oldQueryString=_.get(ds,"queryString",null),newQueryString=_.get(newDS,"queryString",null);_.isEmpty(newQueryString)&&(newQueryString=null);var needsDTChange,oldQuery=ds._getQueryGrouping(),oldDispFmt=$.extend(!0,{},ds.displayFormat),oldDispType=ds.displayType,oldRTConfig=$.extend(!0,{},ds.metadata.renderTypeConfig),oldCondFmt=ds.metadata.conditionalFormatting;forceFull&&_.each(ds._validKeys,function(v,k){"columns"!=k&&delete ds[k]}),_.each(newDS,function(v,k){"columns"!=k&&ds._validKeys[k]&&(ds[k]=v)}),ds._adjustProperties(),$.isBlank(newDS.columns)||ds.updateColumns(newDS.columns,forceFull,updateColOrder,masterUpdate),ds._syncQueries(oldQuery.oldJsonQuery,oldQuery.oldQuery,oldQuery.oldGroupings,oldQuery.oldGroupAggs),_.isEqual(oldRTConfig.visible,ds.metadata.renderTypeConfig.visible)&&_.isEqual(oldRTConfig.active,ds.metadata.renderTypeConfig.active)?oldDispType!=ds.displayType&&($.isBlank(ds.displayType)||_.include(ds.metadata.availableDisplayTypes,ds.displayType)||ds.metadata.availableDisplayTypes.unshift(ds.displayType),ds.metadata.renderTypeConfig.visible={},ds.metadata.renderTypeConfig.visible[ds.displayType]=!0,needsDTChange=!0):(_.each(ds.metadata.renderTypeConfig.visible,function(v,type){v&&!_.include(ds.metadata.availableDisplayTypes,type)&&ds.metadata.availableDisplayTypes.unshift(type)}),_.isEmpty(ds.metadata.renderTypeConfig.visible)&&(ds.metadata.renderTypeConfig.visible[ds.displayType]=!0),ds.displayType=_.detect(ds.metadata.availableDisplayTypes,function(adt){return ds.metadata.renderTypeConfig.visible[adt]}),needsDTChange=!0);var needQueryChange=!_.isEqual(oldRTConfig.visible,ds.metadata.renderTypeConfig.visible)&&_.any(ds.query.namedFilters||[],function(nf){return _.any(nf.displayTypes||[],function(nd){return oldRTConfig.visible[nd]||ds.metadata.renderTypeConfig.visible[nd]})}),cleanFC=ds.cleanJsonFilters(),jsonQ=$.extend({},ds.metadata.jsonQuery,{where:cleanFC.where,having:cleanFC.having,namedFilters:null}),newKey=RowSet.getQueryKey(jsonQ);if(needQueryChange||$.subKeyDefined(ds,"_activeRowSet._key")&&ds._activeRowSet._key!=newKey){ds.aggregatesChanged();var filterChanged=needQueryChange||ds._activeRowSet._key!=newKey;if(filterChanged)if($.isBlank(ds._availableRowSets[newKey])){var parRS=_.detect(_.sortBy(ds._availableRowSets,function(rs,key){return-(rs._isComplete?1e6:1)*(key?key.length:1)}),function(rs){return rs.canDerive(jsonQ)});ds._activateRowSet(new RowSet(ds,jsonQ,{orderBys:(ds.query||{}).orderBys,filterCondition:ds.cleanFilters(),groupBys:(ds.query||{}).groupBys,groupFuncs:ds._getGroupedFunctions()},parRS))}else ds._activateRowSet(ds._availableRowSets[newKey]);else ds._invalidateAll(filterChanged);ds.trigger("query_change")}else _.isEqual(oldCondFmt,ds.metadata.conditionalFormatting)||($.isBlank(ds._availableRowSets)||$.isBlank(ds._activeRowSet)||(_.each(ds._availableRowSets,function(rs){rs.formattingChanged()}),ds.trigger("row_change",[_.values(ds._activeRowSet._rows)])),ds.trigger("conditionalformatting_change"));needsDTChange&&ds.trigger("displaytype_change"),_.isEqual(oldDispFmt,ds.displayFormat)||ds.trigger("displayformat_change"),masterUpdate?(ds._clearTemporary(),ds._origObj=ds.cleanCopy()):_.isEqual(ds._origObj,ds.cleanCopy())&&ds._clearTemporary(),_.isNull(newQueryString)||_.isEqual(oldQueryString,newQueryString)||ds.trigger("query_string_change");var oldValid=ds.valid;ds.valid=ds._checkValidity(),!oldValid&&ds.valid&&ds.trigger("valid")},_syncQueries:function(oldJsonQuery,oldQuery,oldGroupings,oldGroupAggs){var ds=this;ds.query=ds.query||{},ds.metadata.jsonQuery=ds.metadata.jsonQuery||{};var jsonQueryChanged=!_.isEqual($.deepCompact(oldJsonQuery),$.deepCompact(ds.metadata.jsonQuery)),hasOldJsonQuery=!_.isUndefined(oldJsonQuery),hasNewJsonQuery=!_.isEmpty(ds.metadata.jsonQuery),hasNoQuery=_.isEmpty(ds.query);if(hasOldJsonQuery&&jsonQueryChanged||hasNewJsonQuery&&hasNoQuery)ds.query.filterCondition=blist.filter.generateSODA1(ds.metadata.jsonQuery.where,ds.metadata.jsonQuery.having,ds.metadata.defaultFilters),ds.query.namedFilters=ds.query.namedFilters||{},_.each(ds.metadata.jsonQuery.namedFilters,function(nf,id){ds.query.namedFilters[id]=$.extend(blist.filter.generateSODA1(nf.where,nf.having),{temporary:nf.temporary,displayTypes:nf.displayTypes})}),ds.query.orderBys=_.compact(_.map(ds.metadata.jsonQuery.order,function(ob){var c=ds.columnForIdentifier(ob.columnFieldName);return $.isBlank(c)?null:{expression:{columnId:c.id,type:"column"},ascending:ob.ascending}})),ds.query.groupBys=_.compact(_.map(ds.metadata.jsonQuery.group,function(g){var c=ds.columnForIdentifier(g.columnFieldName);return $.isBlank(c)?null:(c.format.group_function=blist.datatypes.groupFunctionFromSoda2(g.groupFunction),{columnId:c.id,type:"column"})})),ds.searchString=ds.metadata.jsonQuery.search,_.isEmpty(ds.metadata.jsonQuery.group)||(ds.metadata.jsonQuery.select=ds.metadata.jsonQuery.select||[],_.each(ds.metadata.jsonQuery.group.slice(0).reverse(),function(g){_.any(ds.metadata.jsonQuery.select,function(s){return s.columnFieldName==g.columnFieldName})||ds.metadata.jsonQuery.select.unshift({columnFieldName:g.columnFieldName})})),_.each(ds.metadata.jsonQuery.select,function(s){var c=ds.columnForIdentifier(s.columnFieldName);$.isBlank(c)||$.isBlank(s.aggregate)||(c.format.grouping_aggregate=blist.datatypes.aggregateFromSoda2(s.aggregate))});else{if(!_.isUndefined(oldQuery)&&!_.isEqual($.deepCompact(oldQuery),$.deepCompact(ds.query))||_.isEmpty(ds.metadata.jsonQuery)&&!_.isEmpty(ds.query)){ds.metadata.jsonQuery.group=Dataset.translateGroupBys(ds.query.groupBys,ds,ds._getGroupedFunctions());var tfc=Dataset.translateFilterCondition(ds.query.filterCondition,ds);ds.metadata.jsonQuery.where=tfc.where,ds.metadata.jsonQuery.having=tfc.having;var tfcDefaults=$.deepCompact(tfc.defaults);$.isPresent(tfcDefaults)&&!$.isEmptyObject(tfcDefaults)&&(ds.metadata.defaultFilters=tfc.defaults),ds.metadata.jsonQuery.namedFilters=ds.metadata.jsonQuery.namedFilters||{},_.each(ds.query.namedFilters,function(nf,id){var tnf=Dataset.translateFilterCondition(nf,ds);ds.metadata.jsonQuery.namedFilters[id]=$.extend({},{where:tnf.where,having:tnf.having,temporary:nf.temporary,displayTypes:nf.displayTypes})}),ds.metadata.jsonQuery.order=_.compact(_.map(ds.query.orderBys,function(ob){var c=ds.columnForIdentifier(ob.expression.columnId);return $.isBlank(c)?null:{columnFieldName:c.fieldName,ascending:ob.ascending}}))}ds.metadata.jsonQuery.search=ds.searchString,_.isEmpty(ds.metadata.jsonQuery.group)?delete ds.metadata.jsonQuery.select:ds.metadata.jsonQuery.select=_.compact(_.map(ds.metadata.jsonQuery.group,function(g){return{columnFieldName:g.columnFieldName}}).concat(_.map(ds.realColumns,function(c){return $.subKeyDefined(c,"format.grouping_aggregate")?{columnFieldName:c.fieldName,aggregate:blist.datatypes.soda2Aggregate(c.format.grouping_aggregate)}:null})))}_.each(["namedFilters","filterCondition","orderBys","groupBys"],function(k){_.isEmpty(ds.query[k])&&delete ds.query[k]}),_.each(["namedFilters","group","where","having","search","order","select"],function(k){_.isEmpty(ds.metadata.jsonQuery[k])&&delete ds.metadata.jsonQuery[k]}),ds._updateGroupings(oldGroupings,oldGroupAggs),_.each(ds.realColumns||[],function(c){delete c.sortAscending}),_.each(ds.metadata.jsonQuery.order||[],function(ob){var c=ds.columnForIdentifier(ob.columnFieldName);$.isBlank(c)||(c.sortAscending=ob.ascending)})},_getQueryGrouping:function(){var q={};return q.oldGroupings=(this.query||{}).groupBys,q.oldGroupAggs={},(q.oldGroupings||[]).length>0&&_.each(this.realColumns,function(c){$.isPresent(c.format.grouping_aggregate)&&(q.oldGroupAggs[c.id]=c.format.grouping_aggregate)}),q.oldQuery=this.query||{},q.oldJsonQuery=$.extend(!0,{},this.metadata.jsonQuery),q},_updateGroupings:function(oldGroupings,oldGroupAggs){var ds=this;if(!$.isBlank((ds.query||{}).groupBys)||!$.isBlank(oldGroupings)){var isNewOrder=$.isBlank(oldGroupings);isNewOrder&&(ds._origColOrder=_.pluck(ds.visibleColumns,"id"));var colsChanged=!1,curGrouped={};_.each(ds.realColumns,function(c){c.format.drill_down&&(curGrouped[c.id]=!0),delete c.format.drill_down});var newColOrder=[];_.each(ds.query.groupBys||[],function(g){var col=ds.columnForID(g.columnId);$.isBlank(col)||($.isBlank(col.format.grouping_aggregate)&&(curGrouped[col.id]||(col.width+=30,colsChanged=!0),col.format.drill_down="true"),col.hidden&&!_.any(oldGroupings||[],function(og){return og.columnId==col.id})&&(col.update({flags:_.without(col.flags,"hidden")}),colsChanged=!0),newColOrder.push(col.id))});var newGroupAggs={},columnsWithGroupAggregate=_.filter(ds.realColumns,function(c){return!$.isBlank(c.format.grouping_aggregate)});_.each(columnsWithGroupAggregate,function(c){!c.hidden||$.isBlank(oldGroupAggs)||oldGroupAggs[c.id]||c.update({flags:_.without(c.flags,"hidden")}),newGroupAggs[c.id]=c.format.grouping_aggregate,newColOrder.push(c.id)}),$.isBlank(oldGroupAggs)&&(oldGroupAggs=newGroupAggs),_.isEmpty(ds.query.groupBys)?$.isBlank(ds._origColOrder)||ds.setVisibleColumns(ds._origColOrder,null,!0):(_.each(ds.realColumns,function(c){var i=_.indexOf(newColOrder,c.id);if(i<0&&!c.hidden){var f=c.flags||[];f.push("hidden"),c.update({flags:f}),colsChanged=!0}isNewOrder&&(i<0&&(i=c.position+newColOrder.length),c.position=i+1)}),ds.updateColumns()),!colsChanged&&_.isEqual(oldGroupAggs,newGroupAggs)||ds.trigger("columns_changed"),_.isEqual(oldGroupAggs,newGroupAggs)||ds._invalidateAll(!1,!0)}},_getGroupedFunctions:function(){var gf={};return _.each(this.realColumns,function(c){$.isBlank(c.format.group_function)||(gf[c.fieldName]=c.format.group_function)}),gf},_adjustVisibleColumns:function(visColIds){var ds=this;return ds.isGrouped()&&(visColIds=_.filter(visColIds,function(cId){var c=ds.columnForID(cId);return!$.isBlank(c.format.grouping_aggregate)||_.any(ds.query.groupBys,function(g){return g.columnId==c.id})})),visColIds},makeRequest:function(req){req.headers=$.extend(req.headers,{"X-Socrata-Federation":"Honey Badger"}),req.inline&&(req.url="/views/INLINE/rows.json",req.type="POST",req.data=req.data||JSON.stringify(this.cleanCopy())),delete req.inline,this.isAnonymous()&&(req.anonymous=!0),this._super(req)},_updateLinkedColumns:function(keyCol,row,newRow){if("dataset_link"==keyCol.dataTypeName)for(var n=this.columns.length-1;n>=0;n--){var col=this.columns[n];if(col.isLinked()){var uname=col.underscoreName(this);row.data[col.lookup]=newRow[uname]}}},_rowData:function(row,savingLookups,parCol){var ds=this,data={};_.each(savingLookups,function(cL){data[cL]=row.data[cL]});var fieldMeta=(ds.metaColumnForName("meta")||{}).lookup||ds._useSODA2?":meta":"meta";return data[fieldMeta]=row.metadata.meta,_.each(row.invalid,function(isI,cId){if(isI){var c=$.isBlank(parCol)?ds.columnForID(cId):parCol.childColumnForID(cId);data[fieldMeta]=data[fieldMeta]||{},data[fieldMeta].invalidCells=data[fieldMeta].invalidCells||{},data[fieldMeta].invalidCells[c.fieldName]=data[cId],data[cId]=null}}),$.isBlank(data[fieldMeta])||(data[fieldMeta]=JSON.stringify(data[fieldMeta])),ds._useSODA2&&(data[":id"]=row.id),data},_addRow:function(newRow,idx){var ds=this;_.each(ds._availableRowSets,function(rs){rs.addRow(newRow,rs==ds._activeRowSet?idx:null)})},_updateRow:function(row,oldID){_.each(this._availableRowSets,function(rs){rs.updateRow(row,oldID)})},_removeRow:function(row){_.each(this._availableRowSets,function(rs){rs.removeRow(row)})},_invalidateAll:function(){var ds=this;delete ds._availableRowSets;var cleanFC=ds.cleanJsonFilters();ds._activateRowSet(new RowSet(ds,$.extend({},ds.metadata.jsonQuery,{where:cleanFC.where,having:cleanFC.having,namedFilters:null}),{orderBys:(ds.query||{}).orderBys,filterCondition:ds.cleanFilters(),groupBys:(ds.query||{}).groupBys,groupFuncs:ds._getGroupedFunctions()}))},_captureSodaServerHeaders:function(xhr){if(xhr&&_.isFunction(xhr.getResponseHeader)){var dataOutOfDate=xhr.getResponseHeader("X-SODA2-Data-Out-Of-Date"),truthLastModified=xhr.getResponseHeader("X-SODA2-Truth-Last-Modified"),secondaryLastModified=xhr.getResponseHeader("X-SODA2-Secondary-Last-Modified")||xhr.getResponseHeader("Last-Modified");this.newBackend&&("true"===dataOutOfDate&&truthLastModified&&secondaryLastModified?(this._dataOutOfDate=dataOutOfDate,this._truthLastModified=truthLastModified,this._secondaryLastModified=secondaryLastModified,this.trigger("dataset_last_modified",[{age:moment(this._secondaryLastModified).from(this._truthLastModified,!0)}])):"false"===dataOutOfDate&&truthLastModified&&secondaryLastModified&&(this._secondaryLastModified=secondaryLastModified,this.trigger("dataset_last_modified",[{lastModified:moment(this._secondaryLastModified).format(blist.configuration.shortDateFormat)}])))}},_serverCreateRow:function(req,isBatch){var ds=this,url=ds._useSODA2?"/api/id/"+ds.id:"/views/"+ds.id+"/rows";$.isBlank(req.parentRow)||(url+="/"+req.parentRow.id+"/columns/"+req.parentColumn.id+"/subrows"),url+=".json";var rd=req.rowData;ds._useSODA2&&delete(rd=$.extend(!0,{},rd))[":id"],ds.makeRequest({url:url,isSODA:ds._useSODA2,type:"POST",data:JSON.stringify(rd),batch:isBatch,success:function(rr){var oldID=req.row.id;ds._useSODA2?req.row.id=req.row.metadata.id=req.row.data[":id"]=rr[":id"]:(_.each(rr,function(v,k){if(k.startsWith("_")){var adjName=k.slice(1),c=$.isBlank(req.parentColumn)?ds.columnForID(adjName):req.parentColumn.childColumnForID(adjName),l=$.isBlank(c)?adjName:c.lookup;req.row.data[l]=v,req.row.metadata[l]=v}}),req.row.id=req.row.metadata.id),req.row.underlying&&(req.row.noMatch=!0,req.row.underlying=null);var oldKey=oldID,newKey=req.row.id;if($.isBlank(req.parentRow)||(oldKey+=":"+req.parentRow.id+":"+req.parentColumn.id,newKey+=":"+req.parentRow.id+":"+req.parentColumn.id),ds._pendingRowEdits[newKey]=ds._pendingRowEdits[oldKey],delete ds._pendingRowEdits[oldKey],ds._pendingRowDeletes[newKey]=ds._pendingRowDeletes[oldKey],delete ds._pendingRowDeletes[oldKey],ds._useSODA2&&(_.each(ds._pendingRowEdits[newKey],function(pre){pre.rowData[":id"]=req.row.id}),_.each(ds._pendingRowDeletes[newKey],function(pre){pre.rowId=req.row.id})),$.isBlank(req.parentRow)){var updateKeys=function(pendingItems){_.each(_.keys(pendingItems),function(k){var nk=k.replace(":"+oldKey+":",":"+newKey+":");nk!=k&&(pendingItems[nk]=pendingItems[k],delete pendingItems[k])})};updateKeys(ds._pendingRowEdits),updateKeys(ds._pendingRowDeletes)}_.each($.isBlank(req.parentColumn)?ds.realColumns:req.parentColumn.realChildColumns,function(c){delete req.row.changed[c.lookup]}),$.isBlank(req.parentRow)?ds._updateRow(req.row,oldID):ds._updateRow(req.parentRow),ds.trigger("row_change",[[{id:oldID},req.parentRow||req.row]]),ds._processPending(req.row.id,(req.parentRow||{}).id,(req.parentColumn||{}).id),ds.aggregatesChanged(),_.isFunction(req.success)&&req.success(req.row)},error:function(){_.each($.isBlank(req.parentColumn)?ds.realColumns:req.parentColumn.realChildColumns,function(c){req.row.error[c.lookup]=!0}),ds._updateRow(req.parentRow||req.row),ds.trigger("row_change",[[req.parentRow||req.row]]),_.isFunction(req.error)&&req.error()},complete:function(){if((ds._pendingRowCreates||[]).length>0){for(;ds._pendingRowCreates.length>0;)ds._serverCreateRow(ds._pendingRowCreates.shift(),!0);ServerModel.sendBatch()}else delete ds._pendingRowCreates}})},_serverSaveRow:function(r,isBatch){var ds=this,url=ds._useSODA2?"/api/id/"+ds.id:"/views/"+ds.id+"/rows";$.isBlank(r.parentRow)||(url+="/"+r.parentRow.id+"/columns/"+r.parentColumn.id+"/subrows"),url+=(ds._useSODA2?"":"/"+r.row.metadata.uuid)+".json",ds.makeRequest({url:url,type:ds._useSODA2?"POST":"PUT",data:JSON.stringify(r.rowData),isSODA:ds._useSODA2,batch:isBatch,success:function(result){_.each(r.columnsSaving,function(cL){delete r.row.changed[cL]}),_.each(r.columnsSaving,function(cL){var col=$.isBlank(r.parentColumn)?ds.columnForIdentifier(cL):r.parentColumn.childColumnForIdentifier(cL);ds._updateLinkedColumns(col,r.row,result)}),result._underlying||(r.row.noMatch=null);var oldRowId=void 0;ds._useSODA2&&result[":id"]&&(oldRowId=r.row.id,r.row.id=result[":id"]),ds._updateRow(r.parentRow||r.row,oldRowId),ds.trigger("row_change",[[r.parentRow||r.row]]),ds.aggregatesChanged(),_.isFunction(r.success)&&r.success(r.row)},error:function(){_.each(r.columnsSaving,function(cL){r.row.error[cL]=!0}),ds._updateRow(r.parentRow||r.row),ds.trigger("row_change",[[r.parentRow||r.row]]),_.isFunction(r.error)&&r.error()},complete:function(){ds._processPending(r.row.id,(r.parentRow||{}).id,(r.parentColumn||{}).id)}}),ds._aggregatesStale=!0,_.each(r.columnsSaving,function(cL){($.isBlank(r.parentColumn)?ds.columnForIdentifier(cL):r.parentColumn.childColumnForIdentifier(cL)).invalidateData()})},_serverRemoveRow:function(rowId,parRowId,parColId,isBatch){var ds=this,url=ds._useSODA2?"/api/id/"+ds.id:"/views/"+ds.id+"/rows/";$.isBlank(parRowId)||(url+=parRowId+"/columns/"+parColId+"/subrows/"),ds._useSODA2||(url+=rowId+".json");var rowData={":deleted":!0},idColName=":id";ds.rowsNeedPK&&(idColName=ds.rowIdentifierColumn.lookup),rowData[idColName]=rowId,ds.newBackend&&(rowData=[rowData]),ds.makeRequest({batch:isBatch,url:url,type:ds._useSODA2?"POST":"DELETE",isSODA:ds._useSODA2,data:JSON.stringify(rowData),success:function(){ds.aggregatesChanged()}})},_processPending:function(rowId,parRowId,parColId){var ds=this,key=rowId;if($.isBlank(parRowId)||(key+=":"+parRowId+":"+parColId),ds._pendingRowEdits[key]&&ds._pendingRowEdits[key].length>0){for(;ds._pendingRowEdits[key].length>0;)ds._serverSaveRow(ds._pendingRowEdits[key].shift(),!0);ServerModel.sendBatch()}else if(delete ds._pendingRowEdits[key],ds._pendingRowDeletes[key]){var pd=ds._pendingRowDeletes[key];ds._serverRemoveRow(pd.rowId,pd.parRowId,pd.parColId),delete ds._pendingRowDeletes[key]}},_generateUrl:function(includeDomain){var urlParts,ds=this,base="";return!includeDomain&&$.isBlank(ds.domainCName)||(base=ds._generateBaseUrl(ds.domainCName)),urlParts="story"===ds.displayType?["stories/s",ds.id]:_.isUndefined(ds.name)?["d",ds.id]:[$.urlSafe(ds.category||"dataset"),$.urlSafe(ds.name),ds.id],base+$.path("/"+urlParts.join("/"))},_generateShortUrl:function(includeDomain){var ds=this,base="";return!includeDomain&&$.isBlank(ds.domainCName)||(base=ds._generateBaseUrl(ds.domainCName,!0)),"story"===ds.displayType?base+$.path("/stories/s/"+ds.id):base+$.path("/d/"+ds.id)},_generateApiUrl:function(){return this._generateBaseUrl()+"/api/views/"+this.id},_viewRemoved:function(view){var ds=this;$.isBlank(ds._relatedViews)||(ds._relatedViews=_.without(ds._relatedViews,view)),$.isBlank(ds._relViewCount)||ds._relViewCount--,$.isBlank(ds._parent)||ds._parent.id!=view.id||delete ds._parent},_loadRelatedViews:function(callback){callback=callback||_.noop;var ds=this,coreViewsPromise=this._loadRelatedCoreViews(),dataLensPromise=this._getRelatedDataLenses();$.whenever(coreViewsPromise,dataLensPromise).done(function(coreResult,dataLensResult){var coreViews=coreResult?coreResult[0]:[],dataLensViews=dataLensResult||[];ds._relatedViews=ds._processRelatedViews(_.uniq([].concat(coreViews,dataLensViews),"id")),callback()})},_processRelatedViews:function(views){var ds=this;views=_.map(views,function(v){if(v.id==ds.id&&(v=ds),v instanceof Dataset)return v;var nv=createDatasetFromView(v);return nv.bind("removed",function(){ds._viewRemoved(this)}),$.isBlank(ds.accessType)||nv.setAccessType(ds.accessType),nv});var parDS=_.detect(views,function(v){return _.include(v.flags||[],"default")});return $.isBlank(parDS)||(ds._parent=parDS,views=_.without(views,parDS)),views},_loadRelatedCoreViews:function(){return this.makeRequestWithPromise({url:"/views.json",pageCache:!0,type:"GET",data:{method:"getByTableId",tableId:this.tableId}})},_getRelatedDataLenses:function(){var ds=this;return this.getNewBackendId().pipe(_.bind(ds._fetchViewJson,ds)).pipe(function(result){return ds._lookUpDataLensesByTableId(result.tableId)}).pipe(_.bind(ds._onlyDataLenses,ds))},_fetchViewJson:function(nbeId){return this.makeRequestWithPromise({url:"/views/{0}.json".format(nbeId),pageCache:!0,type:"GET"})},_lookUpDataLensesByTableId:function(nbeTableId){if($.isBlank(nbeTableId))throw new Error("nbeTableId is blank");return this.makeRequestWithPromise({url:"/views.json",pageCache:!0,type:"GET",data:{method:"getByTableId",tableId:nbeTableId}})},_onlyDataLenses:function(views){var dataLens=_.filter(views,function(view){return"data_lens"===view.displayType||"visualization"===view.displayType});return $.when(dataLens)},_loadPublicationViews:function(callback){var ds=this;ds.makeRequest({url:"/api/views/"+ds.id+".json",pageCache:!0,type:"GET",params:{method:"getPublicationGroup"},success:function(views){views=_.map(views,function(v){if(v instanceof Dataset)return v;var nv=createDatasetFromView(v);return $.isBlank(ds.accessType)||nv.setAccessType(ds.accessType),nv}),ds._publishedViews=_.filter(views,function(v){return v.isPublished()}),ds._snapshotViews=_.filter(views,function(v){return v.isSnapshot()}),ds._unpublishedView=_.detect(views,function(v){return v.isUnpublished()}),_.isFunction(callback)&&callback()}})},_setupPolaroidImageCapturing:function(timeout){this.bind("request_finish",_.debounce(function(){console.log("Render complete."),window.callPhantom("snapshotReady")},timeout||5e3))},_getThumbNameOrDefault:function(name){return name||"page"},_getCroppedThumbnailMeta:function(name){return((this.metadata||{}).thumbnail||{})[name]},_updateSnapshot:function(method,name,callback){var ds=this;ds.makeRequest({success:function(response){ds._updateThumbnailCallback(response,callback)},error:callback,type:"POST",url:"/views/"+ds.id+"/snapshots?method="+method+"&name="+ds._getThumbNameOrDefault(name)})},_updateThumbnailCallback:function(response,callback){(response.metadata||{}).thumbnail&&(this.metadata.thumbnail=response.metadata.thumbnail),callback(response)},_cleanUnsaveable:function(md){var adjMD=md;return this.isPublished()&&this.isDefault()&&(delete(adjMD=$.extend(!0,{},md)).columns,!$.isBlank(adjMD.query)&&_.isEmpty(adjMD.query)||($.subKeyDefined(adjMD,"query.orderBys")?adjMD.query={orderBys:adjMD.query.orderBys}:delete adjMD.query)),adjMD},_validKeys:{attribution:!0,attributionLink:!0,category:!0,columns:!0,description:!0,disabledFeatureFlags:!0,displayFormat:!0,displayType:!0,flags:!0,hideFromCatalog:!0,hideFromDataJson:!0,iconUrl:!0,id:!0,licenseId:!0,message:!0,metadata:!0,moderationStatus:!0,name:!0,originalViewId:!0,privateMetadata:!0,publicationAppendEnabled:!0,query:!0,queryString:!0,resourceName:!0,rowIdentifierColumnId:!0,searchString:!0,tags:!0,termsAndConditions:!0}});Dataset.modules={};var cachedLinkedDatasetOptions={};Dataset.getLinkedDatasetOptions=function(linkedDatasetUid,col,$field,curVal,useRdfKeyAsDefault){var viewUid=linkedDatasetUid;return $.isBlank(viewUid)||!viewUid.match(blist.util.patterns.UID)?[]:null==cachedLinkedDatasetOptions[viewUid]?($.Tache.Get({url:"/api/views/"+viewUid+".json",error:function(req){alert(JSON.parse(req.responseText).message)},success:function(linkedDataset){var lds=createDatasetFromView(linkedDataset);cachedLinkedDatasetOptions[viewUid]=[];var opt,cldo=cachedLinkedDatasetOptions[viewUid],rdfSubject=linkedDataset&&linkedDataset.metadata&&linkedDataset.metadata.rdfSubject?linkedDataset.metadata.rdfSubject:void 0;_.each(lds.columns||[],function(c){c.canBeDatasetLink()&&(opt={value:String(c.fieldName),text:c.name},useRdfKeyAsDefault&&opt.value===rdfSubject&&(opt.selected=!0),cldo.push(opt))}),cachedLinkedDatasetOptions[viewUid].length<=0?alert($.t("controls.grid.no_columns",{uid:viewUid})):($field.data("linkedFieldValues","_reset"),_.each($field.data("linkedGroup"),function(f){$(f).trigger("change")}),_.defer(function(){$field.val(curVal)}))}}),[]):cachedLinkedDatasetOptions[viewUid]},Dataset.getLinkedDatasetOptionsDefault=function(linkedDatasetUid,col,$field,curVal){return Dataset.getLinkedDatasetOptions(linkedDatasetUid,col,$field,curVal,!0)},Dataset.getLinkedDatasetOptionsNoDefault=function(linkedDatasetUid,col,$field,curVal){return Dataset.getLinkedDatasetOptions(linkedDatasetUid,col,$field,curVal,!1)},Dataset.createFromMapLayerUrl=function(url,successCallback,errorCallback){$.ajax({url:"/api/layers.json?method=createMapLayerDataset&url="+escape(url),type:"POST",contentType:"application/json",dataType:"json",success:function(view){_.isFunction(successCallback)&&successCallback(createDatasetFromView(view))},error:errorCallback})},Dataset.lookupFromResourceName=function(resourceName,successCallback,errorCallback,isBatch,isAnonymous){Dataset._create(!1,resourceName,successCallback,errorCallback,isBatch,isAnonymous,!0)},Dataset.createFromResourceName=function(resourceName,successCallback,errorCallback,isBatch,isAnonymous){Dataset._create(!0,resourceName,successCallback,errorCallback,isBatch,isAnonymous,!0)},Dataset.lookupFromViewId=function(id,successCallback,errorCallback,isBatch,isAnonymous){Dataset._create(!1,id,successCallback,errorCallback,isBatch,isAnonymous)},Dataset.createFromViewId=function(id,successCallback,errorCallback,isBatch,isAnonymous){Dataset._create(!0,id,successCallback,errorCallback,isBatch,isAnonymous)},Dataset.getRecentDatasets=function(fetchResources,successCallback,errorCallback){"undefined"==typeof localStorage&&successCallback([]);var allRecents=_getRecentsFromStorage(),ourRecents=allRecents["anon-mous"]||[];$.isBlank(blist.currentUserId)||(ourRecents=ourRecents.concat(allRecents[blist.currentUserId]||[]));var ids=_.pluck(_cleanedMostRecent(ourRecents),"id");if(!0===fetchResources){var results=[];ServerModel.startBatch(),_.each(ids,function(id){Dataset.createFromViewId(id,function(ds){results[ids.indexOf(id)]=ds},null,!0)}),ServerModel.sendBatch(function(){successCallback(_.compact(results))},errorCallback)}else successCallback(ids)},Dataset.saveRecentDataset=function(ds){if("undefined"!=typeof localStorage){var allRecents=_getRecentsFromStorage(),userId=blist.currentUserId||"anon-mous",ourBucket=allRecents[userId]||[];ourBucket.push({id:ds.id,at:(new Date).getTime()}),ourBucket=_cleanedMostRecent(ourBucket),allRecents[userId]=ourBucket,localStorage.setItem("socrataRecentDS",JSON.stringify(allRecents))}};var _getRecentsFromStorage=function(){return JSON.parse(localStorage.getItem("socrataRecentDS")||"{}")},_cleanedMostRecent=function(mostRecents){var sorted=_.sortBy(mostRecents,function(x){return-1*x.at});return _.uniq(sorted,!0,function(x){return x.id}).slice(0,10)};Dataset._create=function(clone,id,successCallback,errorCallback,isBatch,isAnonymous,isResourceName){var cachedView=clone?blist.viewCache[id]:blist.sharedDatasetCache[id]||blist.viewCache[id];if(isAnonymous=!!isAnonymous,_.isUndefined(cachedView))$.socrataServer.makeRequest({url:isResourceName?"/api/views.json":"/api/views/"+id+".json",headers:{"X-Socrata-Federation":"Honey Badger"},params:isResourceName?{method:"getByResourceName",name:id}:{},success:function(view){var dsToReturn=null;_.isUndefined(blist.viewCache[view.id])&&(blist.viewCache[view.id]=view),_.isUndefined(blist.sharedDatasetCache[view.id])&&(blist.sharedDatasetCache[view.id]=createDatasetFromView(view)),!$.isBlank(view.resourceName)&&_.isUndefined(blist.viewCache[view.resourceName])&&(blist.viewCache[view.resourceName]=blist.viewCache[view.id]),!$.isBlank(view.resourceName)&&_.isUndefined(blist.sharedDatasetCache[view.resourceName])&&(blist.sharedDatasetCache[view.resourceName]=blist.sharedDatasetCache[view.id]),_.isFunction(successCallback)&&(dsToReturn=clone||blist.sharedDatasetCache[view.id].isAnonymous()!=isAnonymous?createDatasetFromView(view):blist.sharedDatasetCache[view.id],isAnonymous&&dsToReturn.isAnonymous(isAnonymous),successCallback(dsToReturn))},batch:isBatch,anonymous:isAnonymous,pageCache:!isBatch,error:errorCallback});else if(!1===cachedView&&_.isFunction(errorCallback))errorCallback({responseText:JSON.stringify({code:"permission_denied",message:$.t("controls.grid.permission_denied")})});else if(!1!==cachedView&&_.isFunction(successCallback)){var ds;ds=cachedView instanceof Dataset?clone||cachedView.isAnonymous()!=isAnonymous?cachedView.clone():cachedView:createDatasetFromView(cachedView),isAnonymous&&ds.isAnonymous(isAnonymous),successCallback(ds)}},Dataset.search=function(params,successCallback,errorCallback,isAnonymous){$.socrataServer.makeRequest({pageCache:!0,url:"/api/search/views.json",params:params,anonymous:isAnonymous,success:function(results){_.isFunction(successCallback)&&successCallback({count:results.count,views:_.map(results.results,function(v){var ds=createDatasetFromView(v.view);return ds.rowResults=v.rows,ds.rowResultCount=v.totalRows,isAnonymous&&ds.isAnonymous(isAnonymous),ds})})},error:errorCallback})};var VIZ_TYPES=["chart","annotatedtimeline","imagesparkline","areachart","barchart","columnchart","linechart","piechart"],MAP_TYPES=["map","geomap","intensitymap"];function cleanViewForSave(ds,allowedKeys){var dsCopy=ds.cleanCopy(allowedKeys);if(ds.oldColumns&&(dsCopy.columns=ds.oldColumns),dsCopy=ds._cleanUnsaveable(dsCopy),$.isBlank(dsCopy.query)||(dsCopy.query.filterCondition=ds.cleanFilters(!0)),$.subKeyDefined(dsCopy,"metadata.jsonQuery")){var jsonQuery=ds.cleanJsonFilters(!0);$.extend(dsCopy.metadata.jsonQuery,jsonQuery),dsCopy.metadata.jsonQuery.where=jsonQuery.where,dsCopy.metadata.jsonQuery.having=jsonQuery.having}return dsCopy}function cleanViewForCreate(ds){var dsCopy=ds.cleanCopy();if(_.isUndefined(dsCopy.metadata)||(delete dsCopy.metadata.facets,delete dsCopy.metadata.filterCondition),delete dsCopy.resourceName,delete dsCopy.rowIdentifierColumnId,$.isBlank(dsCopy.query)||(dsCopy.query.filterCondition=ds.cleanFilters(!0)),$.subKeyDefined(dsCopy,"metadata.jsonQuery")){var jsonQuery=ds.cleanJsonFilters(!0);$.extend(dsCopy.metadata.jsonQuery,jsonQuery),dsCopy.metadata.jsonQuery.where=jsonQuery.where,dsCopy.metadata.jsonQuery.having=jsonQuery.having}return"assetinventory"==dsCopy.displayType&&delete dsCopy.displayType,_.get(window,"socrata.featureFlags.force_use_of_modifying_lens_id_in_grouped_child_view",!1)&&function(originalDataset,newDataset){var filterCondition,operators,assignNewFiltersForJsonQuery=function(dataset,filters){1===filters.length?_.set(dataset,"metadata.jsonQuery.where",filters[0]):filters.length>1?_.set(dataset,"metadata.jsonQuery.where.children",filters):_.set(dataset,"metadata.jsonQuery.where",void 0)},originalDatasetGrouping=_.get(originalDataset,"query.groupBys",null),newDatasetGrouping=_.get(newDataset,"query.groupBys",null),groupingAddedToNewChildView=_.isNull(originalDatasetGrouping)&&!_.isNull(newDatasetGrouping),shouldModifyQueryFilterCondition=!_.isUndefined(_.get(originalDataset,"query.filterCondition"))&&!_.isUndefined(_.get(newDataset,"query.filterCondition")),shouldModifyJsonQueryWhere=!_.isUndefined(_.get(originalDataset,"metadata.jsonQuery.where"))&&!_.isUndefined(_.get(newDataset,"metadata.jsonQuery.where"));if(!groupingAddedToNewChildView)return newDataset;if(shouldModifyQueryFilterCondition){var modifiedOriginalFilterCondition=blist.filter.generateSODA1(_.get(originalDataset,"metadata.jsonQuery.where"),_.get(originalDataset,"metadata.jsonQuery.having"),_.get(originalDataset,"metadata.defaultFilters")),newQueryFilterCondition=_.get(newDataset,"query.filterCondition");if(_.forIn(modifiedOriginalFilterCondition,function convertStringifiedNumberLiteralsToNumbers(val,key){"children"===key&&_.isArray(val)&&_.each(val,function(child){_.isObject(child)&&(child.hasOwnProperty("type")&&child.hasOwnProperty("value")&&"literal"===_.get(child,"type")&&String(Number(child.value))===child.value&&(child.value=Number(child.value)),_.forIn(child,convertStringifiedNumberLiteralsToNumbers))})}),_.get(newQueryFilterCondition,"children",[]).filter(function(newFilter){return"operator"!==_.get(newFilter,"type")}).length>0){var newFilterExistsInOldFilterCondition=!1;(filterCondition=modifiedOriginalFilterCondition,operators=[],_.isObject(filterCondition)&&"operator"===_.get(filterCondition,"type",null)&&operators.push(_.cloneDeep(filterCondition)),_.isObject(filterCondition)&&_.get(filterCondition,"children",[]).length>0&&function recursivelyExtractActualFilterConditionOperators(children){children.forEach(function(child){if(child.hasOwnProperty("children")){var atLeastOneOperatorGrandchild=_.include(_.compact(_.get(child,"children",[]).map(function(grandchild){return _.get(grandchild,"type")})),"operator");"operator"!==child.type||atLeastOneOperatorGrandchild?recursivelyExtractActualFilterConditionOperators(_.get(child,"children",[])):operators.push(_.cloneDeep(child))}})}(_.get(filterCondition,"children",[])),operators).forEach(function(oldFilter){_.isEqual(oldFilter,newQueryFilterCondition)&&(newFilterExistsInOldFilterCondition=!0)}),newFilterExistsInOldFilterCondition&&newDataset.hasOwnProperty("query")&&newDataset.query.hasOwnProperty("filterCondition")&&delete newDataset.query.filterCondition}else{var newFiltersForQuery=_.get(newQueryFilterCondition,"children",[]).filter(function(newFilter){return 0===_.get(modifiedOriginalFilterCondition,"children",[]).filter(function(oldFilter){return _.isEqual(newFilter,oldFilter)}).length});newFiltersForQuery.length>0?_.set(newDataset,"query.filterCondition.children",newFiltersForQuery):newDataset.hasOwnProperty("query")&&newDataset.query.hasOwnProperty("filterCondition")&&delete newDataset.query.filterCondition}}if(shouldModifyJsonQueryWhere){var originalJsonQueryWhere=_.get(originalDataset,"metadata.jsonQuery.where"),newJsonQueryWhere=_.get(newDataset,"metadata.jsonQuery.where");if(originalJsonQueryWhere.hasOwnProperty("children")||newJsonQueryWhere.hasOwnProperty("children"))if(originalJsonQueryWhere.hasOwnProperty("children")&&newJsonQueryWhere.hasOwnProperty("children"))assignNewFiltersForJsonQuery(newDataset,_.get(newJsonQueryWhere,"children",[]).filter(function(newFilter){return 0===_.get(originalJsonQueryWhere,"children",[]).filter(function(oldFilter){return _.isEqual(newFilter,oldFilter)}).length}));else if(originalJsonQueryWhere.hasOwnProperty("children")){var singleNewFilterExistsInOriginalJsonQueryWhere=!1;_.get(originalJsonQueryWhere,"children",[]).forEach(function(oldFilter){_.isEqual(oldFilter,newJsonQueryWhere)&&(singleNewFilterExistsInOriginalJsonQueryWhere=!0)}),singleNewFilterExistsInOriginalJsonQueryWhere&&_.set(newDataset,"metadata.jsonQuery.where",void 0)}else newJsonQueryWhere.hasOwnProperty("children")&&assignNewFiltersForJsonQuery(newDataset,_.get(newJsonQueryWhere,"children",[]).filter(function(newFilter){return!_.isEqual(originalJsonQueryWhere,newFilter)}));else _.isEqual(originalJsonQueryWhere,newJsonQueryWhere)?newDataset.hasOwnProperty("metadata")&&newDataset.metadata.hasOwnProperty("jsonQuery")&&newDataset.metadata.jsonQuery.hasOwnProperty("where")&&delete newDataset.metadata.jsonQuery.where:_.set(newDataset,"metadata.jsonQuery.where",newJsonQueryWhere)}}(ds._origObj,dsCopy),dsCopy}Dataset.translateSubFilter=function(fc,ds,simplify,isHaving){if($.isPresent(fc)&&_.isString(fc.soql))return fc;if($.isBlank(fc)||simplify&&("operator"!=fc.type||!_.isArray(fc.children)||0==fc.children.length))return null;var col,filterQ={operator:fc.value};if($.isBlank(fc.metadata)||(filterQ.metadata=fc.metadata),"AND"==filterQ.operator||"OR"==filterQ.operator){if(filterQ.children=_.compact(_.map(fc.children,function(c){return Dataset.translateSubFilter(c,ds,simplify,isHaving)})),simplify){if(0==filterQ.children.length)return null;if(1==filterQ.children.length){var cf=filterQ.children[0];cf.metadata=$.extend(filterQ.metadata,cf.metadata),filterQ=cf}}}else _.each(fc.children,function(c){if("column"==c.type)$.isBlank(ds)||(col=ds.columnForIdentifier(c.columnFieldName||c.columnId)),$.isBlank(c.columnFieldName)?$.isBlank(col)||(filterQ.columnFieldName=col.fieldName):filterQ.columnFieldName=c.columnFieldName,isHaving&&$.subKeyDefined(col,"format.grouping_aggregate")&&ds._useSODA2&&(filterQ.columnFieldName=blist.datatypes.soda2Aggregate(col.format.grouping_aggregate)+"_"+filterQ.columnFieldName),$.isBlank(c.value)||"url"!=c.value&&c.value==(col||{}).dataTypeName||(filterQ.subColumn=c.value);else if("literal"==c.type){var v=c.value;$.isBlank(filterQ.value)?filterQ.value=v:(filterQ.value=$.makeArray(filterQ.value),filterQ.value.push(v))}});return filterQ},Dataset.translateFilterCondition=function(fc,ds,simplify){if($.isBlank(simplify)&&(simplify=!0),fc=$.extend(!0,{},fc),!_.isEmpty((ds.metadata.jsonQuery||{}).group)){var splitDefault,splitHaving,splitWhere=fc;if(!$.isBlank(fc)&&"operator"==fc.type&&_.isArray(fc.children)&&fc.children.length>0){var havingCols=_.compact(_.map(ds.query.groupBys,function(gb){return ds.columnForIdentifier(gb.columnId)}).concat(_.filter(ds.realColumns,function(c){return $.subKeyDefined(c,"format.grouping_aggregate")}))),isHaving=function isHaving(cond){return"column"==cond.type?_.any(havingCols,function(c){return c.fieldName==cond.columnFieldName||c.id==cond.columnId}):!!_.isEmpty(cond.children)||_.all(cond.children,function(cCond){return isHaving(cCond)})};if("AND"==(fc=blist.filter.collapseChildren(fc)).value){var children=_.groupBy(fc.children,function(cond){return _.isEmpty(cond.children)?"defaults":isHaving(cond)?"having":"where"});_.isEmpty(children.having)||(splitHaving={type:"operator",value:"AND",children:children.having},fc.children=_.difference(fc.children,children.having)),_.isEmpty(children.defaults)||(splitDefault={type:"operator",value:"AND",children:children.defaults},fc.children=_.difference(fc.children,children.defaults))}else isHaving(fc)&&(splitHaving=fc,splitWhere=null)}return{where:Dataset.translateSubFilter(splitWhere,ds,simplify,!1),having:Dataset.translateSubFilter(splitHaving,ds,simplify,!0),defaults:Dataset.translateSubFilter(splitDefault,ds,!1,!1)}}var defaults=_.isEmpty(fc)?null:_.filter(fc,function(cond){return _.isEmpty(cond.children)});return{where:Dataset.translateSubFilter(fc,ds,simplify,!1),defaults:Dataset.translateSubFilter(defaults,ds,!1,!1)}},Dataset.translateGroupBys=function(gb,ds,groupFuncs){return _.isEmpty(gb)?null:_.sortBy(_.compact(_.map(gb,function(g){var c=ds.columnForIdentifier(g.columnId);return $.isBlank(c)?null:{columnFieldName:c.fieldName,groupFunction:blist.datatypes.soda2GroupFunction($.isBlank(groupFuncs)?c.format.group_function:groupFuncs[c.fieldName],c)}})),"columnFieldName")},Dataset.aggregateForColumn=function(column,jsonQuery){return(_.detect(jsonQuery.select,function(select){return select.aggregate&&select.columnFieldName==column})||{}).aggregate},Dataset.translateColumnToQueryBase=function(c,dataset){var isStr=_.isString(c);if(isStr&&(c=dataset.columnForIdentifier(c)),$.isBlank(c))return null;var qbc=dataset._queryBase.columnForIdentifier(c.fieldName)||dataset._queryBase.columnForIdentifier(c.tableColumnId);return $.isBlank(qbc)?null:isStr?qbc.fieldName:qbc},Dataset.translateFilterColumnsToBase=function(filter,dataset){var newF=$.extend({},filter);return!_.isEmpty(newF.children)&&(newF.children=_.compact(_.map(newF.children,function(fc){return Dataset.translateFilterColumnsToBase(fc,dataset)})),_.isEmpty(newF.children))?null:!$.isBlank(newF.columnFieldName)&&(newF.columnFieldName=Dataset.translateColumnToQueryBase(newF.columnFieldName,dataset),$.isBlank(newF.columnFieldName))?null:newF},Dataset.getNumberOfDaysRestorable=function(){return parseInt($.ajax({url:"/views.json?method=numberOfDaysRestorable",async:!1}).responseText)},blist.inBrowser?window.Dataset=Dataset:module.exports=Dataset}()},1704:function(module,exports,__webpack_require__){"use strict";!function(){var RowSet=ServerModel.extend({_init:function(ds,jsonQuery,query,parRS,initRows){this._super(),this._dataset=ds,this.registerEvent(["row_change","row_count_change","metadata_update"]),this._rows={},this._rowIDLookup={},this._rowsLoading={},this._pendingRowReqs=[],this._parent=parRS,this._query=query||{},this._jsonQuery=jsonQuery||{},this._loadedCount=0,this._isComplete=!1,this._matchesExpr={where:blist.filter.matchesExpression(this._jsonQuery.where,this._dataset),having:blist.filter.matchesExpression(this._jsonQuery.having,this._dataset)},_.isEmpty(initRows)||(this._addRows(initRows.rows,initRows.start),$.isBlank(initRows.total)||(this._totalCount=initRows.total,delete this._potentialBuckets)),this.formattingChanged();var rs=this;this._dataset.bind("columns_changed",function(changeType,lookupMap){switch(changeType){case"lookupChange":rs.lookupsChanged(lookupMap);break;case"visibility":delete rs._rowBuckets}})},getKey:function(){return $.isBlank(this._key)&&(this._key=RowSet.getQueryKey(this._jsonQuery)),this._key},rowForID:function(id){return this._rowIDLookup[parseInt(id)||id]},rowForIndex:function(index){return this._rows[index]},rowIndex:function(id,successCallback){if($.isBlank(this.rowForID(id))){this._dataset._useSODA2?successCallback(0):this.makeRequest({inline:!0,params:{method:"getByIds",indexesOnly:!0,ids:id},success:function(data){successCallback(data[id])}})}else successCallback(this.rowForID(id).index)},childRowForID:function(id,parRow,parCol){var cell=parRow.data[parCol.lookup];return _.detect(cell||{},function(sr){return sr.id===id})},getTotalRows:function(successCallback,errorCallback){$.isBlank(this._totalCount)?this.getRows(0,1,successCallback,errorCallback):_.isFunction(successCallback)&&successCallback()},totalRows:function(){return this._totalCount},potentialBuckets:function(){return _.isUndefined(this._potentialBuckets)&&(this._potentialBuckets=_.range(0,this._totalCount||1,this._dataset.bucketSize)),this._potentialBuckets},getRowBucket:function(index){var rs=this,bucketSize=rs._dataset.bucketSize;if(!_.isFunction(rs._dataset.usingBuckets)||!rs._dataset.usingBuckets())return{start:0,finish:rs._totalCount};if(!_.isNumber(rs._totalCount))return{start:0,finish:bucketSize};if(index<=0)return{start:0,finish:bucketSize};var bucketStart=_.findLast(rs.potentialBuckets(),function(start){return start<=index});return{start:bucketStart,finish:bucketStart+bucketSize}},bucketIndex:function(bucketStart){if(_.isNumber(this._totalCount))return _.indexOf(this.potentialBuckets(),bucketStart)},totalBuckets:function(){if(_.isNumber(this._totalCount))return this.potentialBuckets().length},getRows:function(startOrIds,len,successCallback,errorCallback,sortOrderForRequest){var ids,start,rs=this;if("datasets"!==rs._dataset.resourceName&&!rs._isComplete&&(rs._parent||{})._isComplete&&rs._jsonQuery.search===rs._parent._jsonQuery.search&&_.isEmpty(rs._jsonQuery.group)&&_.isEmpty(rs._parent._jsonQuery.group)){var newRows=_.map(_.filter(rs._parent._rows,function(rowItem){return rs._doesBelong(rowItem)}),function(rowItem){return $.extend({},rowItem)});rs._totalCount=newRows.length,delete rs._potentialBuckets;var sortVals=_.map(newRows,function(newRow){return{sorts:[newRow.id],row:newRow}});_.each((rs._jsonQuery.order||[]).slice().reverse(),function(ob){var col=rs._dataset.columnForIdentifier(ob.columnFieldName);$.isBlank(col)||_.each(sortVals,function(sv){var v=sv.row.data[col.lookup];$.isBlank(v)?v=null:_.isFunction(col.renderType.matchValue)&&(v=col.renderType.matchValue(v,col)),sv.sorts.unshift(v)})});var sorts=(rs._jsonQuery.order||[]).slice();sorts.push({ascending:!0}),newRows=_.map(sortVals.sort(function(left,right){for(var a=left.sorts,b=right.sorts,sortIndex=0;sortIndex<a.length&&a[sortIndex]===b[sortIndex];)sortIndex++;return $.isBlank(a[sortIndex])?1:$.isBlank(b[sortIndex])?-1:sortIndex===a.length?0:(a[sortIndex]<b[sortIndex]?-1:1)*(sorts[sortIndex].ascending?1:-1)}),"row"),rs._addRows(newRows,0,!0)}if(_.isNumber(startOrIds)&&_.isNumber(len))start=startOrIds;else{if(!_.isArray(startOrIds))return void(_.isFunction(errorCallback)&&errorCallback({message:"Missing start and length or ids"}));ids=startOrIds}var curReq,pendReq,reqs=[],finish=start+len-1,loaded=[],pendingRemoved=[],now=(new Date).getTime(),doLoaded=function(){(loaded.length>0||0===rs._totalCount)&&(_.isFunction(successCallback)&&successCallback(loaded),loaded=[])};if(len&&!$.isBlank(start))if(rs._dataset.newBackend){var bucketSize=rs._dataset.bucketSize,bucket={start:Math.floor(finish/bucketSize)*bucketSize,finish:Math.ceil(finish/bucketSize)*bucketSize-1};if(_.isUndefined(rs._rowBuckets)&&(rs._rowBuckets=[]),!_.contains(rs._rowBuckets,bucket.start)&&bucket.start<bucket.finish)reqs.push(bucket),rs._rowBuckets.push(bucket.start),rs._rowBuckets.sort();else for(start===finish&&(curReq={start:start,finish:start});start<=finish;)rs._rows[start]&&loaded.push(rs._rows[start]),start++}else for(;start<=finish&&($.isBlank(rs._totalCount)||start<rs._totalCount);){var r=rs._rows[start];!$.isBlank(r)&&r.pending&&now>r.expires&&(delete rs._rows[r.index],delete rs._rowIDLookup[r.id],pendingRemoved.push(r),r=null),$.isBlank(r)?(doLoaded(),rs._rowsLoading[start]?($.isBlank(curReq)||(reqs.push(curReq),curReq=null),$.isBlank(pendReq)?pendReq={start:start,length:1,successCallback:successCallback,errorCallback:errorCallback}:pendReq.length++):($.isBlank(pendReq)||(rs._pendingRowReqs.push(pendReq),pendReq=null),$.isBlank(curReq)?curReq={start:start,finish:start}:start-curReq.start+1>100?(reqs.push(curReq),curReq={start:start}):curReq.finish=start)):($.isBlank(curReq)||(reqs.push(curReq),curReq=null),$.isBlank(pendReq)||(rs._pendingRowReqs.push(pendReq),pendReq=null),loaded.push(r)),start++}else{ids=_.reject(ids||[],function(id){var row=rs._rowIDLookup[id];if(row)return loaded.push(row)});for(var i=0;i<ids.length;i+=100)reqs.push({ids:ids.slice(i,i+100)})}if(doLoaded(),pendingRemoved.length>0&&rs.trigger("row_change",[pendingRemoved,!0]),$.isBlank(curReq)||(_.isUndefined(curReq.finish)&&(curReq.finish=curReq.start),reqs.push(curReq),curReq=null),$.isBlank(pendReq)||(rs._pendingRowReqs.push(pendReq),pendReq=null),reqs.length>0){sortOrderForRequest&&_.each(reqs,function(req){req.sortOrderForRequest=sortOrderForRequest});var loadAllRows=function(){$.isBlank(rs._totalCount)?_.isFunction(errorCallback)&&errorCallback({cancelled:!0}):_.each(reqs,function(req){var reqLen,requestOptions={sortOrderForRequest:req.sortOrderForRequest};if(req.finish&&!$.isBlank(req.start)){if(req.start>=rs._totalCount)return;req.finish>=rs._totalCount&&(req.finish=rs._totalCount-1),reqLen=req.finish-req.start+1}rs._loadRows(req.ids||req.start,reqLen,requestOptions,successCallback,errorCallback)})};if($.isBlank(rs._totalCount)||rs._rerequestMeta){var initReqLen,initReq=reqs.shift();$.isBlank(initReq.finish)||$.isBlank(initReq.start)||(initReqLen=initReq.finish-initReq.start+1);var options={includeMeta:!0,sortOrderForRequest:initReq.sortOrderForRequest};rs._loadRows(initReq.ids||initReq.start,initReqLen,options,function(rows){_.isFunction(successCallback)&&successCallback(rows),loadAllRows()},errorCallback),delete rs._rerequestMeta}else loadAllRows()}},getAllRows:function(successCallback,errorCallback){var rs=this;rs.getTotalRows(function(){var loadedRows=0;rs.getRows(0,rs._totalCount,function(rows){(loadedRows+=rows.length)>=rs._totalCount&&rs.getRows(0,rs._totalCount,successCallback,errorCallback)},errorCallback)},errorCallback)},loadedRows:function(){return this._rows},primaryKeyExists:function(candidatePrimaryKey){var ds=this._dataset,primaryKeyColumnID=(ds.rowIdentifierColumn||{}).lookup||":id",row=_.detect(this._rows,function(r){var unchanged=!r.changed[primaryKeyColumnID],alreadyHasPrimaryKey=r.data[primaryKeyColumnID]===candidatePrimaryKey;return unchanged&&alreadyHasPrimaryKey});if(row)return $.when(row);var deferred=$.Deferred(),params={$where:primaryKeyColumnID+'="'+candidatePrimaryKey+'"'},url="/api/id/"+ds.id+".json?"+$.toParam(params);return $.getJSON(url).done(function(rows){Array.isArray(rows)?deferred.resolve(rows[0]):deferred.reject()}).fail(deferred.reject),deferred.promise()},getFileIds:function(){var blobColumnLookups=_(this._dataset.realColumns).filter(function(col){return"blob"===col.renderTypeName}).map("lookup").value();return _(this._rows).map(function(row){return _.map(blobColumnLookups,function(lookup){return _.get(row,"data."+lookup)})}).flatten().compact().uniq().value()},mapFileIdsToRows:function(){var rs=this,blobColumnLookups=_(rs._dataset.realColumns).filter(function(col){return"blob"===col.renderTypeName}).map("lookup").value();_.isUndefined(rs._fileIdToRowMapping)&&(rs._fileIdToRowMapping={}),_.each(rs._rows,function(row){_.each(blobColumnLookups,function(lookup){var fileId=_.get(row,"data."+lookup);fileId&&(rs._fileIdToRowMapping[fileId]={row:row,lookup:lookup})})})},applyFileDataToRow:function(fileData){var mapping=_.get(this,"_fileIdToRowMapping."+fileData.id),row=_.get(mapping,"row"),lookupPath="fileData."+_.get(mapping,"lookup"),rowHasSameIdAsFileData=_.get(row,lookupPath+".id")===fileData.id;return!_.isUndefined(mapping)&&!rowHasSameIdAsFileData&&_.set(mapping.row,lookupPath,fileData)},addRow:function(newRow,idx){if(this._doesBelong(newRow)){var row=$.extend({},newRow);row.index=$.isBlank(idx)?this._totalCount:idx,this._setRowFormatting(row),$.addItemsToObject(this._rows,row,row.index),this._rowIDLookup[row.id]=row,delete this._aggCache,this._loadedCount++,this._totalCount++,this.trigger("row_count_change")}},updateRow:function(row,oldID){var curRow=this._rowIDLookup[$.isBlank(oldID)?row.id:oldID];curRow&&($.extend(curRow,row,{index:curRow.index}),this._setRowFormatting(curRow),delete this._aggCache,$.isBlank(oldID)||oldID===curRow.id||(this._rowIDLookup[curRow.id]=curRow,delete this._rowIDLookup[oldID]),this._doesBelong(curRow)||this.removeRow(curRow))},removeRow:function(origRow){var row=this.rowForID(origRow.id);$.isBlank(row)||($.removeItemsFromObject(this._rows,row.index,1),delete this._rowIDLookup[row.id],delete this._aggCache,this._loadedCount--,this._totalCount--)},markRow:function(markType,value,origRow){var row=this.rowForID((origRow||{}).id);$.isBlank(row)||(row.sessionMeta||{})[markType]===value||(row.sessionMeta=row.sessionMeta||{},row.sessionMeta[markType]=value)},reload:function(successCallback,errorCallback){var rs=this;delete rs._totalCount,delete rs._potentialBuckets,delete rs._rows,delete rs._rowIDLookup,delete rs._aggCache,rs._loadRows(0,1,{includeMeta:!0,fullLoad:!0},successCallback,errorCallback)},getAggregates:function(callback,customAggs){var rs=this,aggs=[],callResults=function(){callback(aggs)},gotAggs=function(recAggs){rs._aggCache=rs._aggCache||{},_.each(recAggs,function(agg){rs._aggCache[agg.columnIdent]=rs._aggCache[agg.columnIdent]||{},rs._aggCache[agg.columnIdent][agg.name]=agg.value,aggs.push(agg)})};rs._aggCache=rs._aggCache||{};var args={params:{method:"getAggregates"},inline:!0},needReq=!1,soda2Aggs=[];if($.isBlank(customAggs)){var checkAgg=function(c){$.subKeyDefined(c,"format.aggregate")&&($.subKeyDefined(rs._aggCache,c.fieldName+"."+c.format.aggregate)?aggs.push({columnIdent:c.fieldName,name:c.format.aggregate,value:rs._aggCache[c.fieldName][c.format.aggregate]}):rs._isComplete?gotAggs([{columnIdent:c.fieldName,name:c.format.aggregate,value:rs._calculateAggregate(c.fieldName,c.format.aggregate)}]):rs._dataset._useSODA2?soda2Aggs.push({method:blist.datatypes.soda2Aggregate(c.format.aggregate),column:c.fieldName}):needReq=!0)};_.each(rs._dataset.realColumns,function(c){checkAgg(c),_.each(c.realChildColumns,function(cc){checkAgg(cc)})}),rs._dataset._useSODA2||(needReq?(aggs=[],args.success=function(recAggs){gotAggs(recAggs),gotAggs(_.map(recAggs,function(ra){return{columnIdent:ra.fieldName,name:ra.name,value:ra.value}})),callResults()},rs.makeRequest(args)):callResults())}else{var ilViews=[];_.each(customAggs,function(aggList,cId){var curCol=rs._dataset.columnForIdentifier(cId);$.isBlank(curCol)||_.each($.makeArray(aggList),function(a,i){if($.subKeyDefined(rs._aggCache,curCol.fieldName+"."+a))aggs.push({columnIdent:curCol.fieldName,name:a,value:rs._aggCache[curCol.fieldName][a]});else if(rs._isComplete)gotAggs([{columnIdent:curCol.fieldName,name:a,value:rs._calculateAggregate(curCol.fieldName,a)}]);else{if(rs._dataset._useSODA2)soda2Aggs.push({method:blist.datatypes.soda2Aggregate(a),column:curCol.fieldName});else needReq=!0,$.isBlank(ilViews[i])&&(ilViews[i]=rs._dataset.cleanCopy()),_.detect(ilViews[i].columns,function(c){return c.fieldName===curCol.fieldName}).format.aggregate=a}})}),rs._dataset._useSODA2||(needReq?(args.success=function(resAggs){gotAggs(_.map(resAggs,function(ra){return{columnIdent:ra.fieldName,name:ra.name,value:ra.value}}))},_.each(ilViews,function(v){if(!$.isBlank(v)){var req=$.extend({},args,{data:v,batch:!0});rs.makeRequest(req)}}),ServerModel.sendBatch(callResults)):callResults())}if(soda2Aggs.length>0){var sel=_.map(soda2Aggs,function(a){return a.method+"("+a.column+")"}).join(",");rs.makeRequest({params:{$select:sel},success:function(resp){gotAggs(_.map(resp[0],function(v,k){var i=k.indexOf("_");return{columnIdent:k.slice(i+1),name:blist.datatypes.aggregateFromSoda2(k.slice(0,i)),value:v}})),callResults()}})}else rs._dataset._useSODA2&&callResults()},activate:function(){var rs=this;rs._isActive=!0,rs.trigger("row_change",[_.values(rs._rows),!0]),_.defer(function(){rs.trigger("row_count_change")})},deactivate:function(){this._isActive=!1;var pending=this._pendingRowReqs;this._pendingRowReqs=[],_.each(pending,function(p){_.isFunction(p.errorCallback)&&p.errorCallback({cancelled:!0})}),delete this._curMetaReq,delete this._curMetaReqMeta,this.trigger("row_change",[_.values(this._rows),!0])},invalidate:function(rowCountChanged,columnsChanged){var invRows=_.values(this._rows);this._rows={},this._rowsLoading={};var pending=this._pendingRowReqs;this._pendingRowReqs=[],_.each(pending,function(p){_.isFunction(p.errorCallback)&&p.errorCallback({cancelled:!0})}),delete this._curMetaReq,delete this._curMetaReqMeta,this._rowIDLookup={},this._loadedCount=0,this._isComplete=!1,delete this._aggCache,rowCountChanged&&delete this._totalCount,columnsChanged&&(this._columnsInvalid=!0),_.each(this._dataset.columns||[],function(c){c.invalidateData()}),this.trigger("row_change",[invRows,!0])},invalidateMeta:function(){this._rerequestMeta=!0},formattingChanged:function(condFmt){var rs=this,format=condFmt||$.subKeyDefined(rs,"_dataset.metadata.conditionalFormatting")&&rs._dataset.metadata.conditionalFormatting;_.isArray(format)?rs._condFmt=_.map(format,function(c){return $.extend({},c,{matches:blist.filter.matchesExpression(c.condition,rs._dataset)})}):rs._condFmt=null,_.each(rs._rows,function(r){rs._setRowFormatting(r)})},lookupsChanged:function(lookupMap){_.each(this._rows,function(row){_.each(lookupMap,function(newLookup,oldLookup){_.each(["data","changed","error","invalid"],function(subdatum){row[subdatum][newLookup]=row[subdatum][oldLookup]})})})},canDerive:function(otherQ){return canDeriveExpr(addParents(this._jsonQuery.where,!0),addParents(otherQ.where,!0))&&canDeriveExpr(addParents(this._jsonQuery.having,!0),addParents(otherQ.having,!0))&&_.isEqual(this._jsonQuery.group,otherQ.group)},makeRequest:function(args){args.headers=$.extend(args.headers,{"X-Socrata-Federation":"Honey Badger"});var rs=this;if(!0===$.deepGet(rs,"_dataset","metadata","inDatasetSearch")&&(args.params.$$query_timeout_seconds=$.deepGet(blist,"configuration","inDatasetSearchQueryTimeoutSeconds")||30),rs._dataset._useSODA2)rs._makeSODA2Request(args);else{var d;if(args.inline)d=$.isBlank(args.data)?rs._dataset.cleanCopy():_.isString(args.data)?JSON.parse(args.data):args.data,_.isEmpty(rs._query)||(d.query=d.query||{},d.query.orderBys=rs._query.orderBys,d.query.groupBys=rs._query.groupBys,d.query.filterCondition=rs._query.filterCondition),$.subKeyDefined(d,"metadata.jsonQuery.select")&&_.each(d.metadata.jsonQuery.select,function(s){var col=_.detect(d.columns,function(c){s.columnFieldName,c.fieldName});$.isBlank(col)||(col instanceof Column&&(col=col.cleanCopy()),$.isBlank(s.aggregate)||(col.format=col.format||{},col.format.grouping_aggregate=blist.datatypes.aggregateFromSoda2(s.aggregate)))}),args.data=JSON.stringify(d);rs._dataset.makeRequest(args)}},_generateQueryParams:function(args){var rs=this;if(_.isUndefined(args)&&(args={}),$.isBlank(this._dataset._queryBase))throw new Error("Please ensure that <Dataset>.getQueryBase() is called before attempting to call <RowSet>._generateQueryParams().");var params=args.params||{},baseQuery=rs._dataset._queryBase.metadata.jsonQuery,hasGroups=!_.isEmpty(rs._jsonQuery.group),hasBaseQueryGroups=!_.isEmpty(baseQuery.group),baseQueryIsQuery=rs._dataset.id===rs._dataset._queryBase.id,adjSearchString=rs._jsonQuery.search===baseQuery.search?"":rs._jsonQuery.search;if($.isBlank(adjSearchString)||(params.$search=adjSearchString),!_.isEmpty(rs._jsonQuery.where)&&(!hasBaseQueryGroups||baseQueryIsQuery&&hasBaseQueryGroups)){var soqlWhere="",where=blist.filter.generateSOQLWhere(rs._jsonQuery.where,rs._dataset),baseWhere=blist.filter.generateSOQLWhere(baseQuery.where,rs._dataset._queryBase),hasWhere=!_.isEmpty(where),hasBaseWhere=!_.isEmpty(baseWhere);hasWhere&&hasBaseWhere?soqlWhere=where+" and "+baseWhere:hasBaseWhere?soqlWhere=baseWhere:hasWhere&&(soqlWhere=where),$.isPresent(rs._jsonQuery.where.soql)&&(soqlWhere.length>0&&(soqlWhere+=" and "),soqlWhere+=rs._jsonQuery.where.soql),params.$where=$.isBlank(params.$where)?soqlWhere:params.$where+" and "+soqlWhere}if(!_.isEmpty(rs._jsonQuery.having)){var soqlHaving="",having=blist.filter.generateSOQLWhere(rs._jsonQuery.having,rs._dataset),baseHaving=blist.filter.generateSOQLWhere(baseQuery.having,rs._dataset._queryBase),hasHaving=!_.isEmpty(having),hasBaseHaving=!_.isEmpty(baseHaving);hasHaving&&hasBaseHaving?soqlHaving=having+" and "+baseHaving:hasBaseHaving?soqlHaving=baseHaving:hasHaving&&(soqlHaving=having),params.$having=$.isBlank(params.$having)?soqlHaving:params.$having+" and "+soqlHaving}if(hasGroups&&!hasBaseQueryGroups||hasGroups&&hasBaseQueryGroups&&baseQueryIsQuery){var soqlGroup=[],groupSelect=[];_.each(rs._jsonQuery.group,function(gb){var qbCF=Dataset.translateColumnToQueryBase(gb.columnFieldName,rs._dataset);if(!$.isBlank(qbCF))if($.isBlank(gb.groupFunction))soqlGroup.push(qbCF),groupSelect.push(qbCF);else{var k=qbCF+"__"+gb.groupFunction;soqlGroup.push(k),groupSelect.push(gb.groupFunction+"("+qbCF+") as "+k)}}),soqlGroup=_.uniq(soqlGroup).join(","),params.$group=$.isBlank(params.$group)?soqlGroup:params.$group+","+soqlGroup,groupSelect=_.uniq(groupSelect.concat(_.compact(_.map(rs._jsonQuery.select,function(s){if(!$.isBlank(s.aggregate)){var qbCF=Dataset.translateColumnToQueryBase(s.columnFieldName,rs._dataset);return $.isBlank(qbCF)?null:rs._soqlFnCall(s.aggregate,qbCF)}return null})))).join(",");var sel=(params.$select||"").replace(/:\*,\*/,"");params.$select=$.isBlank(sel)?groupSelect:sel+","+groupSelect}if(!_.isEmpty(rs._jsonQuery.order)){var selectCols=_.reject((params.$select||"").split(","),_.isEmpty).map($.trim),selectingAllCols=_.isEmpty(selectCols)||_.include(selectCols,"*");params.$order=_.compact(_.map(rs._jsonQuery.order,function(ob){var orderByColumn=rs._dataset.columnForIdentifier(ob.columnFieldName);if($.isBlank(orderByColumn))return null;var qbC=Dataset.translateColumnToQueryBase(orderByColumn,rs._dataset);if($.isBlank(qbC))return null;var aggregateFn=Dataset.aggregateForColumn(qbC.fieldName,rs._jsonQuery),aggregateFieldName=qbC.fieldNameForRollup(aggregateFn),aggregateFieldNameWithAlias=rs._soqlFnCall(aggregateFn,qbC.fieldName);return selectingAllCols||_.include(selectCols,ob.columnFieldName)||_.include(selectCols,aggregateFieldNameWithAlias)?aggregateFieldName+(ob.ascending?"":" desc"):null})).join(",")}if("reversed"===args.sortOrderForRequest){var orderBys=params.$order.split(",");params.$order=orderBys.map(function(orderBy){return _.endsWith(orderBy," desc")?orderBy.split(" ")[0]:orderBy+" desc"}).join(",")}return params},_makeSODA2Request:function(args){var rs=this;if($.isBlank(rs._dataset._queryBase))rs._dataset.getQueryBase(function(){rs._makeSODA2Request(args)});else{var viewId=this._dataset.nbe_view_id||this._dataset._queryBase.id;args.isSODA=!0,args.url=args.url||"/api/id/{0}.json".format(viewId),args.params=this._generateQueryParams(args),rs._dataset.makeRequest(args)}},clone:function(){return new RowSet(this._dataset,this._jsonQuery,this._query,this._parent)},_soqlFnCall:function(fn,field){return fn+"("+field+") as "+fn+"_"+field},_loadRows:function(startOrIds,len,options,successCallback,errorCallback){var start,rs=this,includeMeta=(options=options||{}).includeMeta,fullLoad=options.fullLoad,sortOrderForRequest=options.sortOrderForRequest,params=rs._dataset.newBackend?{$select:":*,*"}:rs._dataset._useSODA2?{$$exclude_system_fields:!1}:{method:"getByIds",asHashes:!0};if(_.isNumber(startOrIds)&&_.isNumber(len))start=startOrIds,$.extend(params,rs._dataset._useSODA2?{$offset:start,$limit:len}:{start:start,length:len}),"reversed"===sortOrderForRequest&&_.isNumber(rs._totalCount)&&(params.$offset=rs._totalCount-(start+len));else{if(!_.isArray(startOrIds))return void(_.isFunction(errorCallback)&&errorCallback({message:"Missing start and length, or ids"}));rs._dataset._useSODA2?params.$where="any_of(:id,"+startOrIds.join(",")+")":params.ids=startOrIds}var reqData=rs._dataset.cleanCopy();_.isEmpty(rs._query)||(reqData.query=reqData.query||{},reqData.query.orderBys=rs._query.orderBys,reqData.query.groupBys=rs._query.groupBys,reqData.query.filterCondition=rs._query.filterCondition),(fullLoad||(includeMeta||$.isBlank(rs._totalCount)||rs._columnsInvalid)&&!_.isEqual(reqData,rs._curMetaReqMeta))&&!rs._dataset._useSODA2&&(params.meta=!0),$.isBlank(rs._totalCount)&&rs._dataset._useSODA2&&(params.$$row_count="approximate");var reqId=_.uniqueId();if(len&&!$.isBlank(start))for(var i=0;i<len;i++)rs._rowsLoading[i+start]=!0;_.isEmpty(rs._jsonQuery.order)&&_.isEmpty(rs._jsonQuery.group)&&(params.$order=":id"),params.$offset&&(params.$offset=Math.max(0,params.$offset)),$.browser.safari&&!rs._dataset._useSODA2&&(params.safariCacheBust=Math.random().toString().slice(2));var req={success:function(result,___,xhr){if("reversed"===sortOrderForRequest&&result.reverse(),len&&!$.isBlank(start))for(var rowIndex=0;rowIndex<len;rowIndex++)delete rs._rowsLoading[rowIndex+start];var rows,oldCount=rs._totalCount;if($.isBlank(result.meta)){if(rs._dataset._useSODA2){var rowCount=JSON.parse(xhr.getResponseHeader("X-SODA2-Row-Count")||"null");_.isNumber(rowCount)&&(rs._totalCount=rowCount,delete rs._potentialBuckets);var fields=JSON.parse(xhr.getResponseHeader("X-SODA2-Fields")),types=JSON.parse(xhr.getResponseHeader("X-SODA2-Types")||"[]")||[],newCols=_.map(fields,function(field,index){var col=rs._dataset.findColumnForServerName(field);return $.isBlank(col)?field.startsWith(":")?col={id:-1,name:field.slice(1),fieldName:field,dataTypeName:"meta_data",renderTypeName:"meta_data"}:$.debug("!!!!!!!!!!!! Unknown column: "+field):blist.datatypes[types[index]]&&(col.dataTypeName=types[index],col.renderTypeName=types[index]),col}),hasSystemIDColumn=_.any(newCols,function(c){return c&&":id"===c.fieldName}),hasIDColumn=!$.isBlank(rs._dataset.metaColumnForName("id"));hasSystemIDColumn||hasIDColumn||newCols.push({id:-1,name:"id",fieldName:":id",dataTypeName:"meta_data",renderTypeName:"meta_data"}),newCols=_.compact(newCols),rs.trigger("metadata_update",[{columns:newCols},!1,!0])}else if($.isBlank(rs._totalCount))return void(_.isFunction(errorCallback)&&_.defer(function(){errorCallback({cancelled:!0})}))}else{if(rs._curMetaReq!==reqId)return void(_.isFunction(errorCallback)&&_.defer(function(){errorCallback({cancelled:!0})}));var metaToUpdate;delete rs._curMetaReq,delete rs._curMetaReqMeta,rs._totalCount=result.meta.totalRows,delete rs._potentialBuckets,delete rs._columnsInvalid,rs._dataset._useSODA2?(metaToUpdate={columns:result.meta.view.columns},rs._dataset.isGrouped()&&(metaToUpdate.columns=_.reject(metaToUpdate.columns,function(c){if($.subKeyDefined(c,"format.grouping_aggregate"))return!0;var indexOfGroupingCol=c.fieldName.indexOf("__"),realC=rs._dataset.columnForFieldName(c.fieldName.slice(0,indexOfGroupingCol));return!$.isBlank(realC)&&realC.format.group_function===blist.datatypes.groupFunctionFromSoda2(c.fieldName.slice(indexOfGroupingCol+2))}))):metaToUpdate=result.meta.view,fullLoad||rs._dataset._useSODA2||(metaToUpdate.query.filterCondition=rs._dataset.query.filterCondition,$.isBlank(rs._dataset.query.namedFilters)||(metaToUpdate.query.namedFilters=rs._dataset.query.namedFilters),metaToUpdate.metadata=rs._dataset.metadata),rs.trigger("metadata_update",[metaToUpdate,!rs._dataset._useSODA2,!rs._dataset._useSODA2])}if(result.pending&&len&&!$.isBlank(start)){rows=[];for(var oldRows=[],expires=(new Date).getTime()+3e4,idx=0;idx<len;idx++){var newRow={invalid:{},error:{},changed:{},index:idx+start,pending:!0,expires:expires,id:"pending_"+_.uniqueId()};if(!$.isBlank(rs._rows[newRow.index])){var oldRow=rs._rows[newRow.index];oldRows.push(oldRow),delete rs._rowIDLookup[oldRow.id]}rs._rows[newRow.index]=newRow,rs._rowIDLookup[newRow.id]=newRow,rows.push(newRow)}oldRows.length>0&&rs.trigger("row_change",[oldRows,!0])}else rows=rs._addRows(result.data||result,start);if(oldCount!==rs._totalCount&&rs.trigger("row_count_change"),rs._isActive){_.isFunction(successCallback)&&successCallback(rows);var pending=rs._pendingRowReqs;rs._pendingRowReqs=[],_.each(pending,function(p){rs.getRows(p.start,p.length,p.successCallback,p.errorCallback)}),rs._dataset.hasBlobColumns()&&rs._dataset.resyncFileDataForFileIds()}else _.isFunction(errorCallback)&&_.defer(function(){errorCallback({cancelled:!0})})},params:params,inline:!rs._dataset._useSODA2&&!fullLoad,type:rs._dataset._useSODA2||fullLoad?"GET":"POST"};!rs._dataset._useSODA2&&fullLoad&&(req.url="/views/"+rs._dataset.id+"/rows.json"),params.meta&&(rs._curMetaReq=reqId,rs._curMetaReqMeta=reqData),rs._dataset._useSODA2&&$.parseParams().$$store&&(req.params.$$store=$.parseParams().$$store),req.sortOrderForRequest=sortOrderForRequest,rs.makeRequest(req)},_addRows:function(newRows,start,skipTranslate){var rs=this,adjRows=[],oldRows=[],hasIndex=!$.isBlank(start);return _.each(newRows,function(r,i){var ind,oldRow,newRow=skipTranslate?r:RowSet.translateRow(r,rs._dataset,rs);hasIndex&&(ind=start+i),hasIndex?$.isBlank(rs._rows[ind])||!$.isBlank(newRow)&&newRow.id===rs._rows[ind].id||(oldRow=rs._rows[ind],oldRows.push(oldRow),delete rs._rows[ind],delete rs._rowIDLookup[oldRow.id],rs._loadedCount--):(oldRow=rs._rowIDLookup[newRow.id],$.isBlank(oldRow)||(oldRows.push(oldRow),delete rs._rowIDLookup[oldRow.id],rs._loadedCount--)),$.isBlank(newRow)||(hasIndex&&(newRow.index=ind,rs._rows[newRow.index]=newRow),rs._rowIDLookup[newRow.id]=newRow,rs._loadedCount++,adjRows.push(newRow))}),rs._isComplete=rs._totalCount===rs._loadedCount,oldRows.length>0&&rs.trigger("row_change",[oldRows,!0]),adjRows},_doesBelong:function(row){return(!!this._dataset.isGrouped()||this._matchesExpr.where(row))&&this._matchesExpr.having(row)},_calculateAggregate:function(cId,aggName){var col=this._dataset.columnForIdentifier(cId);if($.isBlank(col))return null;var agg=_.detect(col.renderType.aggregates,function(a){return blist.datatypes.aggregateFromSoda2(a.value)===aggName});if($.isBlank(agg))return null;var rows;return agg.calculate((rows=this._rows,_.reduce(rows,function(memo,row){return!0!==row.invalid[col.lookup]&&memo.push(row.data[col.lookup]),memo},[])))},_setRowFormatting:function(row){if(row.color=row.icon=null,!_.isArray(this._condFmt))return null;var relevantCondition=_.detect(this._condFmt,function(c){return c.matches(row)})||{};relevantCondition.color&&(row.color=relevantCondition.color),relevantCondition.icon&&(row.icon=relevantCondition.icon)}});function addParents(fc,safe){return safe&&(fc=$.extend(!0,{},fc)),_.each(fc.children,function(c){c._parent=fc,addParents(c)}),fc}function canDeriveExpr(baseFC,otherFC){if(_.isEmpty(baseFC))return!0;if(_.isEmpty(otherFC))return!1;var curLeaves=[];!function processLeaves(expr){_.isArray(expr.children)?_.each(expr.children,processLeaves):($.isBlank(expr._key)&&(expr._key=blist.filter.getFilterKey(expr)),curLeaves.push(expr))}(baseFC);var leftoverLeaves=[],parDeriveCache={};if(function processOther(expr){if(_.isArray(expr.children)){var leftoverChildren=_.filter(expr.children,processOther);if(leftoverChildren.length===expr.children.length)return!0;if(leftoverChildren.length>0)return leftoverLeaves=leftoverLeaves.concat(leftoverChildren),!1}var matchExpr;return $.isBlank(expr._key)&&(expr._key=blist.filter.getFilterKey(expr)),curLeaves=_.reject(curLeaves,function(cl){if(cl._key===expr._key){var k,parMatch=cl._parent===baseFC&&expr._parent===otherFC&&baseFC.operator===otherFC.operator||$.isBlank(cl._parent)&&$.isBlank(expr._parent)||$.isBlank(cl._parent)&&"and"===expr._parent.operator.toLowerCase()||$.isBlank(expr._parent)&&"or"===cl._parent.operator.toLowerCase();if(!parMatch){if($.isBlank(cl._parent)||$.isBlank(expr._parent)||cl._parent.operator!==expr._parent.operator)return!1;$.isBlank(cl._parent._key)&&(cl._parent._key=blist.filter.getFilterKey(cl._parent)),$.isBlank(expr._parent._key)&&(expr._parent._key=blist.filter.getFilterKey(expr._parent)),k=cl._parent._key+"::"+expr._parent._key,$.isBlank(parDeriveCache[k])&&(parDeriveCache[k]=canDeriveExpr(cl._parent,expr._parent))}if(parMatch||parDeriveCache[k])return matchExpr=cl,!0}return!1}),$.isBlank(matchExpr)}(otherFC))return!1;return curLeaves=function reduceNodes(nodes){for(var result=[],madeChange=!1;nodes.length>0;){var n=nodes[0];if($.isBlank(n._parent))result.push(nodes.shift());else{var p=n._parent,found=[];nodes=_.reject(nodes,function(nn){return nn._parent===p&&(found.push(nn),!0)}),found.length===p.children.length?(result.push(p),madeChange=!0):result=result.concat(found)}}return madeChange?reduceNodes(result):result}(curLeaves),_.all(curLeaves,function(cl){return!$.isBlank(cl._parent)&&"or"===cl._parent.operator.toLowerCase()})&&_.all(leftoverLeaves,function(ll){return $.isBlank(ll._parent)||"and"===ll._parent.operator.toLowerCase()})}RowSet.translateRow=function(r,dataset,rowSet,parCol,skipMissingCols){var adjVals={invalid:{},changed:{},error:{},sessionMeta:{},data:{},metadata:{}};if(_.any(r,function(val,id){var newVal=val,c=dataset.findColumnForServerName(id,parCol);return $.isBlank(c)?!skipMissingCols:(c.isMeta&&"meta"===c.name&&_.isString(newVal)&&(newVal=JSON.parse(newVal||"null")),$.isPlainObject(newVal)&&_.all(newVal,function(v){return $.isBlank(v)||_.isBoolean(v)})&&(newVal=null),dataset._useSODA2&&$.subKeyDefined(c,"renderType.fromSoQLValue")&&(newVal=c.renderType.fromSoQLValue(newVal,c)),("checkbox"===c.renderTypeName&&!1===newVal||"stars"===c.renderTypeName&&0===newVal)&&(newVal=null),"geospatial"===c.renderTypeName&&r[dataset._useSODA2?":id":"sid"]&&(newVal=$.extend({},newVal,{row_id:r[dataset._useSODA2?":id":"sid"]})),_.isUndefined(newVal)||(adjVals.data[c.lookup]=newVal,c.isMeta&&(adjVals.metadata[c.lookup.startsWith(":")?c.lookup.slice(1):c.lookup]=newVal)),!1)}))return null;if($.isBlank(adjVals.metadata.id)){adjVals.metadata.id="jsrowid-"+_.uniqueId();var metaColumn=dataset.metaColumnForName("id");$.isBlank(metaColumn)||(adjVals.data[metaColumn.lookup]=adjVals.metadata.id)}return adjVals.id=adjVals.metadata.id,_.each((adjVals.metadata.meta||{}).invalidCells||{},function(v,cId){if(!$.isBlank(v)){var childColumn=$.isBlank(parCol)?dataset.columnForIdentifier(cId):parCol.childColumnForIdentifier(cId);!$.isBlank(childColumn)&&$.isBlank(adjVals.data[childColumn.lookup])&&(adjVals.invalid[childColumn.lookup]=!0,adjVals.data[childColumn.lookup]=v)}}),delete(adjVals.metadata.meta||{}).invalidCells,_.each((dataset._commentLocations||{})[adjVals.id]||{},function(v,tcId){var column=dataset.columnForTCID(tcId);$.isBlank(column)||(adjVals.annotations=adjVals.annotations||{},adjVals.annotations[column.lookup]="comments")}),$.isBlank(rowSet)||(rowSet._setRowFormatting(adjVals),$.subKeyDefined(dataset,"highlights."+adjVals.id)&&rowSet.markRow("highlight",!0,adjVals)),adjVals},RowSet.getQueryKey=function(query){return function(ob){if(_.isEmpty(ob))return"";return"("+_.map(ob,function(o){return o.columnFieldName+":"+o.ascending}).join("|")+")"}(query.order)+"/"+function(gb){if(_.isEmpty(gb))return"";return"("+_.map(_.sortBy(gb,"columnFieldName"),function(g){return g.columnFieldName+":"+g.groupFunction}).join("|")+")"}(query.group)+"/"+blist.filter.getFilterKey(query.where)+"/"+blist.filter.getFilterKey(query.having)+"/"+function(selects){if(_.isEmpty(selects))return"";return"("+_.map(_.sortBy(selects,"columnFieldName"),function(s){return s.columnFieldName+":"+s.aggregate}).join("|")+")"}(query.select)+"/"+query.search},blist.inBrowser?window.RowSet=RowSet:module.exports=RowSet}()},1705:function(module,exports,__webpack_require__){"use strict";var Column;(Column=ServerModel.extend({_init:function(c,parent){this._super(),$.extend(this,c),this.setParent(parent),this.aggregates=this.aggregates||{},$.extend(this._cloneExclude,{_ntInit:!0})},baseUrl:function(){return"geospatial"==this.renderTypeName?"/api/views/"+this.view.id+"/geometry/":"/views/"+this.view.id+"/files/"},getSummary:function(successCallback,limit){var col=this,canCallback=_.isFunction(successCallback);limit=limit||100;if($.isBlank(col._summary)||limit>col._summaryLimit)if(col.view._useSODA2){var aggregateAlias="count_{0}".format(col.fieldName),soql={$select:[col.fieldName,"count({0}) as {1}".format(col.fieldName,aggregateAlias)].join(","),$group:col.fieldName,$order:"{0} desc".format(aggregateAlias),$limit:limit};col.view.makeRequest({url:"/resource/{0}.json".format(col.view.id),params:soql,isSODA:!0,success:function(resp){col._summary={},col._summaryLimit=limit,col._summary[col.renderTypeName]={subColumnType:col.renderTypeName,topFrequencies:_.map(resp,function(item){return{count:parseInt(item[aggregateAlias],10),value:item[col.fieldName]}})},canCallback&&successCallback(col._summary)}})}else col.view.makeRequest({inline:!0,params:{method:"getSummary",columnId:col.id,limit:limit},success:function(resp){col._summary={},col._summaryLimit=limit,_.each(resp.columnSummaries||[],function(s){(s.topFrequencies||[]).length>0&&(col._summary[s.subColumnType]=s)}),canCallback&&successCallback(col._summary)}});else canCallback&&successCallback(col._summary)},invalidateData:function(){delete this._summary,delete this._summaryLimit},canUpdate:function(){return!this.view.isSnapshot()&&this.view.hasRight(blist.rights.view.UPDATE_COLUMN)},save:function(successCallback,errorCallback){var col=this;return col.canUpdate()?(this.makeRequest({url:"/views/"+this.view.id+"/columns/"+this.id+".json",type:"PUT",data:JSON.stringify(this.cleanCopy()),success:function(newCol){col.update(newCol,!0),$.isBlank(col.parentColumn)?col.view.updateColumns():col.parentColumn.updateChildColumns(),_.isFunction(successCallback)&&successCallback(col)},error:errorCallback}),!0):($.isBlank(col.parentColumn)?col.view.updateColumns():col.parentColumn.updateChildColumns(),col.view._markTemporary(),!1)},show:function(successCallback,errorCallback,isBatch){return this.setVisible(!0,successCallback,errorCallback,isBatch)},hide:function(successCallback,errorCallback,isBatch,skipReq){return this.setVisible(!1,successCallback,errorCallback,isBatch,skipReq)},setVisible:function(isVisible,successCallback,errorCallback,isBatch,skipReq){var col=this;return col.hidden===isVisible&&(col.hidden=!isVisible,isVisible?col.flags=_.without(col.flags||[],"hidden"):(col.flags=col.flags||[],col.flags.push("hidden")),isBatch||($.isBlank(col.parentColumn)?col.view.updateColumns():col.parentColumn.updateChildColumns()),col.canUpdate()&&!skipReq?this.makeRequest({url:"/views/"+this.view.id+"/columns/"+this.id+".json",type:"PUT",data:JSON.stringify({hidden:!isVisible}),batch:isBatch,success:successCallback,error:errorCallback}):col.view._markTemporary(),!0)},update:function(newCol,forceFull,updateColOrder){var col=this;newCol.id=col.id;var oldWidth=col.width,oldAgg=col.format.aggregate;forceFull&&_.each(col._validKeys,function(v,k){"childColumns"!=k&&delete col[k]}),_.each(newCol,function(v,k){"childColumns"!=k&&col._validKeys[k]&&(col[k]=v)}),$.isBlank(newCol.renderTypeName)||(col.renderTypeName=newCol.renderTypeName),$.isBlank(newCol.subColumnTypes)||(col.subColumnTypes=newCol.subColumnTypes),this.updateChildColumns(newCol.childColumns,forceFull,updateColOrder),$.isBlank(newCol.dropDown)||(col.dropDown=newCol.dropDown),this._setUpColumn(),oldWidth!==col.width&&col.view.trigger("column_resized",[col]),$.subKeyDefined(newCol,"updatedAggregate.value")?(col.aggregates[newCol.updatedAggregate.name]=parseFloat(newCol.updatedAggregate.value),col.view.aggregatesChanged(!0)):oldAgg!==col.format.aggregate&&col.view.aggregatesChanged()},setParent:function(parent){parent instanceof Column?(this.parentColumn=parent,this.view=parent.view):this.view=parent,this._setUpColumn(),this.updateChildColumns()},filter:function(value,subColumnType,operator){if($.isBlank(value))this.clearFilter();else{var md=$.extend(!0,{},this.view.metadata),query=md.jsonQuery;this._clearFilterData(query);var colItem={columnFieldName:this.fieldName};!$.isBlank(subColumnType)&&_.isString(subColumnType)&&(this.view._useSODA2?colItem.subColumn=subColumnType.toLowerCase():colItem.subColumn=subColumnType.toUpperCase()),"location"==this.renderTypeName&&!$.isBlank(subColumnType)&&$.isPlainObject(value)&&(value=JSON.stringify(value));var filterItem=$.extend({operator:operator||"EQUALS",value:value},colItem);query.namedFilters=query.namedFilters||{},query.namedFilters["col"+this.id]={where:filterItem},this.currentFilter={value:value,viewFilter:filterItem},this.view.update({metadata:md})}},clearFilter:function(){var md=$.extend(!0,{},this.view.metadata);this._clearFilterData(md.jsonQuery),this.view.update({metadata:md})},remove:function(successCallback,errorCallback,isBatch){var col=this;col.makeRequest({url:"/views/"+col.view.id+"/columns/"+col.id+".json",type:"DELETE",batch:isBatch,success:function(){$.isBlank(col.parentColumn)?col.view.clearColumn(col):col.parentColumn.clearChildColumn(col),isBatch||($.isBlank(col.parentColumn)?col.view.updateColumns():col.parentColumn.updateChildColumns()),_.isFunction(successCallback)&&successCallback(col)},error:errorCallback})},convert:function(newType,successCallback,errorCallback){var col=this;this.makeRequest({url:"/views/"+this.view.id+"/columns/"+this.id+".json",params:{method:"convert",type:newType},type:"POST",success:function(newCol){col.id=newCol.id,col.tableColumnId=newCol.tableColumnId,col.update(newCol,!0),col.invalidateData(),$.isBlank(col.parentColumn)?col.view.updateColumns():col.parentColumn.updateChildColumns(),col.view.reload(!0),_.isFunction(successCallback)&&successCallback(col)},error:errorCallback})},cleanCopy:function(){var col=this._super();return _.include(["dataset_link"],col.dataTypeName)&&delete col.dropDownList,col},cleanCopyIncludingRenderTypeName:function(){var col=this._super();return _.include(["dataset_link"],col.dataTypeName)&&delete col.dropDownList,col},_setUpColumn:function(){var col=this;this.format=this.format||{},this.metadata=this.metadata||{},$.isBlank(this.dropDown)||(this.dropDownList=this.dropDown),delete this.dropDown,this.hidden=_.include(this.flags||[],"hidden"),this.dataType=blist.datatypes[this.dataTypeName]||{},this.renderType=blist.datatypes[this.renderTypeName]||{},this.isMeta="meta_data"==this.dataTypeName,$.isBlank(col.view)||(col.lookup=col.view._useSODA2?col.fieldName:col.isMeta?col.name:col.id,!col.view._useSODA2&&col.isMeta&&"sid"==col.name?col.lookup="id":!col.view._useSODA2&&col.isMeta&&"id"==col.name&&(col.lookup="uuid")),this.minWidth=50,this.width=Math.max(this.minWidth,this.width||100),$.isBlank(this.format.grouping_aggregate)||$.isBlank(this.format.drill_down)||(delete this.format.drill_down,this.width-=30),!$.isBlank(this.currentFilter)&&void 0!==this.view&&void 0!==this.view.metadata&&$.isBlank(((this.view.metadata.jsonQuery||{}).namedFilters||{})["col"+this.id])&&delete this.currentFilter},updateChildColumns:function(){},isLinked:function(){return this.format&&null!=this.format.linkedKey},underscoreName:function(ds){for(var otherCol,uname=Column.sanitizeName(this.name),n=0;n<ds.columns.length;n++)if((otherCol=ds.columns[n]).id!=this.id&&uname==Column.sanitizeName(otherCol.name)){uname+="_"+this.position;break}return uname},_clearFilterData:function(query){$.isBlank(this.currentFilter)||(delete query.namedFilters["col"+this.id],delete this.currentFilter)},canBeDatasetLink:function(){return"text"==this.dataTypeName&&((!this.format||1!=this.format.drill_down)&&!this.hidden)},canBeLinkSource:function(){return!_.include(["dataset_link","drop_down_list"],this.dataTypeName)&&(!this.hidden&&!(this.dataTypeName.indexOf("obsolete")>=0))},fieldNameForRollup:function(rollup){return rollup?rollup+"("+this.fieldName+")":this.fieldName},isText:function(){switch(this.dataTypeName){case"text":case"html":return!0;default:return!1}},_validKeys:{childColumns:!0,dataTypeName:!0,defaultValues:!0,description:!0,dropDownList:!0,fieldName:!0,flags:!0,format:!0,id:!0,metadata:!0,name:!0,position:!0,tableColumnId:!0,width:!0}})).isNbePointColumn=function(dataset,column){return _.get(dataset,"newBackend")&&"point"===_.get(column,"dataTypeName")},Column.sanitizeName=function(colName){return colName.toLowerCase().replace(/^[^A-z]+/gi,"_").replace(/[^A-z0-9]+/gi,"_").replace(/^xml/gi,"_").replace(/_+/gi,"_")},Column.closestViewFormat=function(realCol,funcOrLocalCol){var groupFunc=_.isString(funcOrLocalCol)||$.isBlank(funcOrLocalCol)?funcOrLocalCol:funcOrLocalCol.format.group_function;if(groupFunc!=realCol.format.group_function){var vt=realCol.renderType.viewTypes;if(_.isFunction(vt)&&(vt=vt(groupFunc,!0)),!_.any(vt,function(v){return v.value==realCol.format.view}))return $.isBlank(realCol.format.view)?_.first(vt).value:_.first(_.sortBy(_.map(vt,function(v){return{value:v.value,distance:v.value.startsWith(realCol.format.view)?1/realCol.format.view.length:realCol.format.view.startsWith(v.value)?1/v.value.length:realCol.format.view.heuristicDistance(v.value)}}),"distance")).value}return null},blist.inBrowser?window.Column=Column:module.exports=Column},1706:function(module,exports,__webpack_require__){"use strict";var ColumnContainer;ColumnContainer=function(colName,selfUrl,urlBase){var _columnIDLookup={},_columnTCIDLookup={},_columnFieldNameLookup={},_metaColumnLookup={},capName=colName.capitalize(),colSet=colName+"s",capSet=colSet.capitalize(),oldCapSet="old"+capSet,forID=function(item,id){return item[colName+"ForID"](id)},update=function(item,nc,ff,uo){return item["update"+capSet](nc,ff,uo)},realSet=function(item){return item["real"+capSet]},visibleSet=function(item){return item["visible"+capSet]},props={};return props[colName+"ForID"]=function(id){return _columnIDLookup[parseInt(id)||id]},props[colName+"ForTCID"]=function(tcId){return _columnTCIDLookup[parseInt(tcId)]},props[colName+"ForFieldName"]=function(fName){return _columnFieldNameLookup[fName.toString()]},props[colName+"ForIdentifier"]=function(ident){return $.isBlank(ident)?null:_.isNumber(ident)||(ident||"").match(/^\d+$/)?forID(this,ident)||(id=ident,this[colName+"ForTCID"](id)):function(item,id){return item[colName+"ForFieldName"](id)}(this,ident)||forID(this,ident);var id},props["meta"+capName+"ForName"]=function(name){return _metaColumnLookup[name.toString()]},props["clear"+capName]=function(col){$.isBlank(this._super)||this._super(col),this[colSet]=_.without(this[colSet],col),delete _columnIDLookup[col.id],delete _columnIDLookup[col.lookup],delete _columnTCIDLookup[col.tableColumnId],delete _columnFieldNameLookup[col.fieldName],this.newBackend&&_.each(this.loadedRows(),function(row){delete row.data[col.lookup]}),col.isMeta&&delete _metaColumnLookup[col.name],update(this)},props[colSet+"ForType"]=function(type,includeHidden){var cols=includeHidden?realSet(this):visibleSet(this);return $.isBlank(type)||(cols=_.select(cols,function(c){return _.include($.makeArray(type),c.renderTypeName)})),cols},props["add"+capName]=function(column,successCallback,errorCallback,customParams){if(!$.isBlank(this._super)&&this._super(arguments))return!0;var cont=this,req={url:urlBase+".json",type:"POST",success:function(newCol){cont[colSet].push(newCol),update(cont),cont.trigger("columns_changed",["added"]),_.isFunction(successCallback)&&successCallback(forID(cont,newCol.id))},error:errorCallback};if(!$.isBlank(column)){var cleanColumn=new Column(column,cont).cleanCopy();Column.isNbePointColumn(blist.dataset,column)&&_.has(column,"computationStrategy")&&(cleanColumn.computationStrategy=column.computationStrategy),req.data=JSON.stringify(cleanColumn)}$.isBlank(customParams)||(req.params=customParams),this.makeRequest(req)},props["remove"+capSet]=function(columnIds,successCallback,errorCallback){var cont=this;_.each($.makeArray(columnIds),function(cId){forID(cont,cId).remove(null,errorCallback,!0)});ServerModel.sendBatch(function(){update(cont),_.isFunction(successCallback)&&successCallback()})},props["setVisible"+capSet]=function(visColIds,callback,skipRequest){var cont=this;if(_.isEqual(visColIds,_.pluck(visibleSet(cont),"id")))_.isFunction(callback)&&callback();else{$.isBlank(cont["_adjustVisible"+capSet])||(visColIds=cont["_adjustVisible"+capSet](visColIds));var prevPos=-1,needsReorder=_.any(visColIds,function(colId){var col=forID(cont,colId);return col.position<=prevPos||(prevPos=col.position,!1)}),didHideShow=!1,vizCols=[];_.each(visColIds,function(colId,i){var col=forID(cont,colId);if(!$.isBlank(col)){didHideShow=col.show(null,null,!0)||didHideShow,needsReorder&&col.update({position:i+1});var cc=col.cleanCopy();$.isBlank(cc.childColumns)||(cc.childColumns=_.reject(cc.childColumns,function(ccc){return _.include(ccc.flags||[],"hidden")})),vizCols.push(cc)}}),_.each(realSet(cont),function(c){$.isBlank(_.detect(vizCols,function(vc){return vc.id==c.id}))&&(didHideShow=c.hide(null,null,!0)||didHideShow)}),update(cont,vizCols,!1,needsReorder);var columnsChanged=function(){!needsReorder&&didHideShow&&_.defer(function(){(cont.view||cont).trigger("columns_changed",["visibility"])})};if((cont.view||cont).canUpdate()&&!skipRequest){if(needsReorder){var item={};item[colSet]=vizCols,this.makeRequest({url:selfUrl,type:"PUT",data:JSON.stringify(item),batch:!0})}ServerModel.sendBatch(function(){_.isFunction(callback)&&callback(),columnsChanged()})}else(cont.view||cont)._markTemporary((cont.view||cont).isUnpublished()||(cont.view||cont).newBackend),_.isFunction(callback)&&callback(),columnsChanged()}},props.cleanCopy=function(allowedKeys){var item=this._super(allowedKeys);return _.isUndefined(item[colSet])||(item[colSet]=_.chain(item[colSet]).reject(function(c){return-1==c.id}).sortBy(function(c){return c.position}).value()),item},props.clone=function(){return this._cloneExclude["real"+capSet]=!0,this._cloneExclude["visible"+capSet]=!0,this._super.apply(this,arguments)},props.setAccessType=function(accessType){this._super(accessType),_.each(this[colSet]||[],function(c){c.setAccessType(accessType)})},props["update"+capSet]=function(newCols,forceFull,updateOrder,masterUpdate){if(!$.isBlank(this[colSet])||!$.isBlank(newCols)){var changeType,cont=this;if(!$.isBlank(newCols))if($.isBlank(cont[colSet]))cont[colSet]=newCols,changeType="fullSet";else{var colById={};_.each(newCols,function(nc,i){var item,id,c="meta_data"!=nc.dataTypeName?(item=cont,id=nc.fieldName||nc.id,item[colName+"ForIdentifier"](id)):_.detect(cont[colSet],function(mc){return"meta_data"==mc.dataTypeName&&mc.name==nc.name}),ci=_.indexOf(cont[colSet],c);$.isBlank(c)?(nc.id=-1,updateOrder?cont[colSet].splice(i,0,nc):cont[colSet].push(nc),changeType="added"):(updateOrder&&ci!=i&&(cont[colSet].splice(ci,1),cont[colSet].splice(i,0,c),changeType="moved"),c.update(nc,forceFull,updateOrder)),colById[nc.id]=!0}),masterUpdate&&(cont[colSet]=_.reject(cont[colSet],function(c){return!colById[c.id]&&(cont["clear"+capName](c),!0)}))}_columnIDLookup={},_columnTCIDLookup={},_columnFieldNameLookup={},_metaColumnLookup={},this[colSet]=_.map(this[colSet],function(c){if(c instanceof Column?$.isBlank(c.view)&&c.setParent(cont):c=new Column(c,cont),_columnIDLookup[c.id]=c,c.lookup!=c.id&&(_columnIDLookup[c.lookup]=c),_columnTCIDLookup[c.tableColumnId]=c,_columnFieldNameLookup[c.fieldName]=c,cont[oldCapSet]){var oldC=(columnSet=cont[oldCapSet],newColumn=c,_.any(["fieldName","name","description"],function(propertyTesting){return!!(oldColumn=_.detect(columnSet,function(oc){return oc[propertyTesting]===newColumn[propertyTesting]}))}),oldColumn);oldC&&(_columnIDLookup[oldC.id]=c,oldC.lookup!=c.id&&(_columnIDLookup[oldC.lookup]=c),_columnTCIDLookup[oldC.tableColumnId]=c,_columnFieldNameLookup[oldC.fieldName]=c)}var columnSet,newColumn,oldColumn;return c.isMeta&&(_metaColumnLookup[c.name]=c),$.isBlank(cont.accessType)||c.setAccessType(cont.accessType),c}),this["real"+capSet]=_.reject(this[colSet],function(c){return c.isMeta}),this["visible"+capSet]=_.chain(realSet(this)).reject(function(c){return c.hidden}).sortBy(function(c){return c.position}).value(),_.any(this[colSet],function(c){return c.renderType.soda1Only})&&((cont.view||cont)._useSODA2=!1),$.isBlank(changeType)||_.defer(function(){(cont.view||cont).trigger("columns_changed",[changeType])})}},props},blist&&blist.inBrowser?window.ColumnContainer=ColumnContainer:module.exports=ColumnContainer},1707:function(module,exports,__webpack_require__){"use strict";var Configuration;(Configuration=ServerModel.extend({_init:function(c){this._super(),$.extend(this,c),this._translateProperties()},_translateProperties:function(){var conf=this;$.isBlank(conf.rawProperties)&&!$.isBlank(conf.properties)&&(conf.rawProperties=conf.properties,conf.properties={},_.each(conf.rawProperties,function(prop){$.deepSet.apply($,[conf.properties,prop.value].concat(prop.name.split(".")))}))},_validKeys:{default:!0,domainCName:!0,id:!0,name:!0,properties:!0,type:!0}})).findByType=function(type,options,successCallback,errorCallback){var params=$.extend({merge:!0},options,{type:type});$.socrataServer.makeRequest({pageCache:!0,url:"/admin/configuration.json",params:params,success:function(result){_.isFunction(successCallback)&&successCallback(new Configuration(result))},error:errorCallback})},blist.inBrowser?window.Configuration=Configuration:module.exports=Configuration},1708:function(module,exports,__webpack_require__){"use strict";window.User=ServerModel.extend({_init:function(v){this._super(),$.extend(this,v)},isCurrentUser:function(){return this.id==blist.currentUserId},isMember:function(){return _.include(this.flags,"admin")||"roleName"in this},nameAndOrEmail:function(){var base="";return this.displayName&&(base=this.displayName),this.email&&(""==base?base=this.email:base+=" ("+this.email+")"),base},hasRight:function(right){return _.include(this.rights,right)},getDatasets:function(callback){var user=this;$.isBlank(user._datasets)?user.makeRequest({url:"/users/"+user.id+"/views.json",type:"GET",cache:!1,pageCache:!0,success:function(dss){user._datasets=_.map(dss,function(d){return createDatasetFromView(d)}),callback(user._datasets)}}):callback(user._datasets)},addEmailInterest:function(tag,info,callback){this.makeRequest({url:"/users/"+this.id+"/email_interests.json",data:JSON.stringify({eventTag:tag.toUpperCase(),extraInfo:info}),type:"POST",success:callback})},getEmailInterest:function(tag,info,callback){this.makeRequest({url:"/users/"+this.id+"/email_interests/"+tag.toUpperCase(),params:{extraInfo:info},type:"GET",cache:!1,pageCache:!0,success:callback})},removeEmailInterest:function(tag,info,callback){this.makeRequest({url:"/users/"+this.id+"/email_interests/"+tag.toUpperCase(),params:{extraInfo:info},type:"DELETE",pageCache:!1,success:callback})},getProfileImageUrl:function(size){return this["profileImageUrl"+(size=size.toLowerCase()).capitalize()]||"/images/"+size+"-profile.png"},getProfileUrl:function(){return $.path("/profile/"+$.urlSafe(this.displayName||"-")+"/"+this.id)}}),User.createFromUserId=function(id,successCallback,errorCallback){$.Tache.Get({url:"/api/users/"+id+".json",success:function(user){_.isFunction(successCallback)&&successCallback(new User(user))},error:errorCallback})}},1709:function(module,exports,__webpack_require__){"use strict";jQuery.analytics={trackEvent:function(category,action,label,value){return void 0!==category&&void 0!==action&&(void 0!==window._gaq&&void window._gaq.push(["_trackEvent",category,action,label,value]))}}},1710:function(module,exports,__webpack_require__){"use strict";$(function(){var getModal=function(selector){var $modal=$("#modals "+selector);return 0===$modal.length&&(($modal=$($("#templates").contents().text()).filter(selector)).appendTo("#modals"),$modal.jqm({trigger:!1})),$modal};window.alert=function(msg){getModal("#jqmAlert").jqmShow().find(".alertMessage").text(msg)},window.prettyConfirm=function(msg,yes,no){getModal("#jqmConfirm").jqmShow().find(".confirmMessage").text(msg).end().find(".button.yes").click(yes).end().find(".button.no").click(no).end()}})},1711:function(module,exports,__webpack_require__){"use strict";!function($){$.tag=function(attrs,keepAsString){if(!1===(attrs=tagParseConditionalElement(attrs)))return null;if(_.isArray(attrs)){var markup=_.map(attrs,function(tag){return $.tag(tag,!0)}).join("");return!0===keepAsString?markup:$(markup)}if(_.isString(attrs))return attrs;var result="<"+attrs.tagName.toLowerCase();return _.each(attrs,function(value,key){var newValue,k=key.toLowerCase();if("tagName"!=key&&"contents"!=key)if(!0!==value||"checked"!=k&&"selected"!=k&&"disabled"!=k&&"readonly"!=k&&"multiple"!=k&&"ismap"!=k&&"defer"!=k&&"declare"!=k&&"noresize"!=k&&"nowrap"!=k&&"noshade"!=k&&"compact"!=k){if(!1===value)return;if("style"==key)newValue=[],_.each(value,function(v,valueKey){var parsed=tagParseConditionalElement(v);!1!==parsed&&newValue.push(valueKey+":"+parsed)}),result+=tagAppend(key,newValue.join(";"));else if("data"==key)_.each(value,function(v,valueKey){result+=tagAppend("data-"+valueKey,v)});else if(_.isArray(value))newValue=[],_.each(value,function(elem){var parsed=tagParseConditionalElement(elem);!1!==parsed&&newValue.push(parsed)}),result+=tagAppend(key,newValue.join(" "));else if(_.isString(value))result+=tagAppend(key,value);else{var parsedElem=tagParseConditionalElement(value);!1!==parsedElem&&(result+=tagAppend(key,parsedElem))}}else result+=tagAppend(key,key)}),"input"==attrs.tagName||"img"==attrs.tagName||"link"==attrs.tagName||"meta"==attrs.tagName?result+="/>":$.isBlank(attrs.contents)?result+="></"+attrs.tagName+">":(result+=">",result+=tagRenderChildren(attrs.contents),result+="</"+attrs.tagName+">"),!0===keepAsString?result:$(result)};var tagAppend=function(key,value){return" "+key+'="'+value+'"'},tagParseConditionalElement=function(elem){return!$.isBlank(elem)&&(!$.isBlank(elem.tagName)||_.isUndefined(elem.value)&&$.isBlank(elem.onlyIf)?elem:!0===elem.onlyIf&&elem.value)},tagRenderChildren=function tagRenderChildren(children){return children=$.makeArray(children),_.reject(_.map(children,function(child){return $.isPlainObject(child)&&(child=$.tag(child,!0)),_.isArray(child)&&(child=tagRenderChildren(child)),child}),function(child){return $.isBlank(child)}).join("")};$.button=function(opts,keepAsText){return _.isString(opts)&&(opts={text:opts,href:"#"+$.urlSafe(opts)}),$.tag($.extend(opts.customAttrs,{tagName:"a",href:opts.href||"#",class:_.flatten(["button",opts.className,opts.iconClass]),contents:[{value:{tagName:"span",class:"icon"},onlyIf:!$.isBlank(opts.iconClass)},opts.text]}),keepAsText)}}(jQuery)},1712:function(module,exports,__webpack_require__){"use strict";var $;($=jQuery).caretTo=function(el,index){if(el.createTextRange){var range=el.createTextRange();range.move("character",index),range.select()}else null!=el.selectionStart&&(el.focus(),el.setSelectionRange(index,index))},$.fn.caretTo=function(index,offset){return this.queue(function(next){if(isNaN(index)){var i=$(this).val().indexOf(index);!0===offset?i+=index.length:offset&&(i+=offset),$.caretTo(this,i)}else $.caretTo(this,index);next()})},$.fn.caretToStart=function(){return this.caretTo(0)},$.fn.caretToEnd=function(){return this.queue(function(next){$.caretTo(this,$(this).val().length),next()})}},1713:function(module,exports,__webpack_require__){"use strict";window.Page=ServerModel.extend({_init:function(v){this._super(),$.extend(this,v)},update:function(newItems){$.subKeyDefined(newItems,"path")&&newItems.path!=this.path&&(this._pathDirty=!0,this._oldPath=this.path),$.extend(this,newItems)},save:function(successCallback,errorCallback){var page=this,realSave=function(){page.makeRequest({type:"PUT",success:function(resp){!function(resp){var flags={};page._pathDirty&&(flags.oldPath=page._oldPath),page.update(resp),page._pathDirty=!1,delete page._oldPath,_.isFunction(successCallback)&&successCallback(page,flags)}(resp)},error:errorCallback})};page._pathDirty?Page.checkUnique(page.path,realSave,function(){_.isFunction(errorCallback)&&errorCallback({duplicatePath:!0})}):realSave()},saveCopy:function(newProps,successCallback,errorCallback){var newPage=$.extend(this.cleanCopy(),newProps);_.each(["uid","version","createdAt","updatedAt"],function(p){delete newPage[p]}),this.makeRequest({type:"POST",data:JSON.stringify(newPage),success:function(resp){_.isFunction(successCallback)&&successCallback(new Page(resp))},error:errorCallback})},makeRequest:function(req){$.isBlank(req.url)&&("POST"==req.type?req.url="/api/pages.json":"PUT"==req.type&&(req.url="/api/pages/"+this.uid+".json"),req.data=req.data||JSON.stringify(this.cleanCopy())),this._super(req)},_validKeys:{uid:!0,path:!0,name:!0,format:!0,privateData:!0,status:!0,category:!0,grouping:!0,version:!0,permission:!0,content:!0,data:!0,metadata:!0,cacheInfo:!0}}),Page.createFromId=function(newId,successCallback,errorCallback){$.Tache.Get({url:"/api/pages/"+newId+".json",success:function(page){_.isArray(page)&&(page=_.first(page)),_.isFunction(successCallback)&&successCallback(new Page(page))},error:errorCallback})},Page.deleteById=function(newId,successCallback,errorCallback){$.isBlank(newId)?successCallback():$.socrataServer.makeRequest({type:"DELETE",url:"/api/pages/"+newId+".json",error:errorCallback,success:successCallback})},Page.checkUnique=function(path,successCallback,errorCallback){$.socrataServer.makeRequest({type:"GET",cache:!1,url:"/api/pages.json?method=isPathAvailable",params:{path:path},success:function(resp){resp?successCallback():errorCallback()}})},Page.uniquePath=function(title,prefix,successCallback){$.isBlank(title)&&(title="unnamed"),$.isBlank(prefix)&&(prefix="/"),prefix.startsWith("/")||(prefix="/"+prefix);var p=prefix+$.urlSafe(title),check=p,i=1;!function doCheck(){Page.checkUnique(check,function(){successCallback(check)},function(){check=p+"-"+i,i++,doCheck()})}()}},1714:function(module,exports,__webpack_require__){"use strict";blist.namespace.fetch("blist.events"),blist.events.MODAL_SHOWN="modalshown",blist.events.MODAL_HIDDEN="modalhidden",blist.events.DISPLAY_ROW="displayrow"},1715:function(module,exports,__webpack_require__){"use strict";var $;$=jQuery,blist.defaultColors=["#003366","#D95F02","#1B9E77","#e6ab02","#7570b3"],$.sanitizeColor=function(maybeHex){if(null!==maybeHex&&void 0!==maybeHex){if("string"==typeof maybeHex)return(maybeHex.match(/(#[0-9a-f]{6})/i)||[])[1];console.warn("Attempted to call sanitizeColor with non-string input")}},$.colorToObj=function(rgb){if(rgb.startsWith("#")||rgb.match(/^[a-fA-F0-9]{3,6}$/))return $.hexToRgb(rgb);var m=rgb.match(/rgb\((\d+),\s*(\d+),\s*(\d+)(,\s*\d+\.?\d+)?\)/);return{r:parseInt(m[1]),g:parseInt(m[2]),b:parseInt(m[3])}},$.hexToRgb=function(hex){return(hex=hex.replace("#","")).length<6&&(hex=hex.replace(/([0-9abcdef])/gi,"$1$1")),{r:(hex=parseInt(hex,16))>>16,g:(65280&hex)>>8,b:255&hex}},$.rgbToHex=function(rgb){var hex=[rgb.r.toString(16),rgb.g.toString(16),rgb.b.toString(16)];return $.each(hex,function(i){1==hex[i].length&&(hex[i]="0"+hex[i])}),hex.join("")},$.hsvToRgb=function(hsv){var r,g,b,hue=hsv.h,saturation=hsv.s,value=hsv.v;if(360==hue&&(hue=0),value/=100,0==(saturation/=100))r=value,b=value,g=value;else{var hTemp=hue/60,i=Math.floor(hTemp),f=hTemp-i,p=value*(1-saturation),q=value*(1-saturation*f),t=value*(1-saturation*(1-f));switch(i){case 0:r=value,g=t,b=p;break;case 1:r=q,g=value,b=p;break;case 2:r=p,g=value,b=t;break;case 3:r=p,g=q,b=value;break;case 4:r=t,g=p,b=value;break;case 5:r=value,g=p,b=q}}return{r:Math.round(255*r),g:Math.round(255*g),b:Math.round(255*b)}},$.rgbToHsv=function(rgb){var r=rgb.r/255,g=rgb.g/255,b=rgb.b/255,min=Math.min(r,b,g),max=Math.max(r,g,b),delta=max-min,h=null,s=0==max?0:delta/max;return 0==s?h=0:(h=r==max?60*(g-b)/delta:g==max?120+60*(b-r)/delta:240+60*(r-g)/delta)<0&&(h+=360),{h:h,s:Math.round(100*s),v:Math.round(100*max)}},$.hslToRgb=function(hsl){var r,g,b,hue=hsl.h,saturation=hsl.s,luminosity=hsl.l;for(saturation/=100,luminosity/=100;hue<0;)hue+=360;for(;hue>=360;)hue-=360;return hue<120?(r=(120-hue)/60,g=hue/60,b=0):hue<240?(r=0,g=(240-hue)/60,b=(hue-120)/60):(r=(hue-240)/60,g=0,b=(360-hue)/60),r=2*saturation*Math.min(r,1)+(1-saturation),g=2*saturation*Math.min(g,1)+(1-saturation),b=2*saturation*Math.min(b,1)+(1-saturation),luminosity<.5?(r*=luminosity,g*=luminosity,b*=luminosity):(r=(1-luminosity)*r+2*luminosity-1,g=(1-luminosity)*g+2*luminosity-1,b=(1-luminosity)*b+2*luminosity-1),{r:Math.round(255*r),g:Math.round(255*g),b:Math.round(255*b)}},$.rgbToHsl=function(rgb){var r=rgb.r/255,g=rgb.g/255,b=rgb.b/255,min=Math.min(r,b,g),max=Math.max(r,g,b),delta=max-min,h=0,s=0,l=(min+max)/2;return l>0&&l<1&&(s=delta/(l<.5?2*l:2-2*l)),delta>0&&(max==r&&max!=g&&(h+=(g-b)/delta),max==g&&max!=b&&(h+=2+(b-r)/delta),max==b&&max!=r&&(h+=4+(r-g)/delta),h*=60),{h:h,s:Math.round(100*s),l:Math.round(100*l)}},$.rgbTosRGB=function(rgb){return _.each(["r","g","b"],function(comp){rgb[comp]=rgb[comp]<=.03928?rgb[comp]/12.92:Math.pow((rgb[comp]+.055)/1.055,2.4)}),rgb},$.rotateHue=function(hsv,degrees){var h=hsv.h+degrees;return h+=360*Math.ceil(-h/360),hsv.h=h%360,hsv},$.rotateRgb=function(rgb,degrees){return $.hsvToRgb($.rotateHue($.rgbToHsv(rgb),degrees))},$.rotateHex=function(hex,degrees){return"#"+$.rgbToHex($.rotateRgb($.hexToRgb(hex),degrees))},$.colorContrast=function(){var colorsAsSRGB=_.map(_.map(arguments,$.hexToRgb),$.rgbTosRGB),L=_.map(colorsAsSRGB,function(sRGB){return.2126*sRGB.r+.7152*sRGB.g+.0722*sRGB.b});return Math.round((Math.max.apply(null,L)+.05)/(Math.min.apply(null,L)+.05)*10)/10},$.addColors=function(a,b){var rgbA=$.hexToRgb(a),rgbB=$.hexToRgb(b),addComponent=function(x,y){return Math.min(x+y,255)};return $.rgbToHex({r:addComponent(rgbA.r,rgbB.r),g:addComponent(rgbA.g,rgbB.g),b:addComponent(rgbA.b,rgbB.b)})},$.subtractColors=function(a,b){var rgbA=$.hexToRgb(a),rgbB=$.hexToRgb(b),subtractComponent=function(x,y){return Math.max(x-y,0)};return $.rgbToHex({r:subtractComponent(rgbA.r,rgbB.r),g:subtractComponent(rgbA.g,rgbB.g),b:subtractComponent(rgbA.b,rgbB.b)})},$.gradientString=function(stops){for(var results=[],i=0;i<stops.length;i++)stops[i]instanceof Array?(stops[i][0]=stops[i][0].replace(/#/,""),results.push(stops[i].join(":"))):(stops[i]=stops[i].replace(/#/,""),results.push(stops[i]));return results.join(",")},$.urlToImageBuilder=function(options,format,css){var result="/ui/box."+(void 0===format?"png":format)+"?",properties=[];for(var property in options)properties.push(property+"="+options[property]);return result+=properties.join("&"),!0===css?"url("+result+")":result},$.gradient=function(stops,colors,options){options=options||{maxValue:100},_.isArray(colors)||(colors=[colors]);for(var toColor=(colors=_.map(colors,function(color){return color.r||(color=$.hexToRgb(color)),$.rgbToHsv(color)}))[0],lowColor=colors.length>1?colors[1]:{h:toColor.h,s:toColor.s>50?0:100,v:toColor.v>50?0:options.maxValue},colorStep_h=(toColor.h-lowColor.h)/(stops-1),colorStep_s=(toColor.s-lowColor.s)/(stops-1),colorStep_v=(toColor.v-lowColor.v)/(stops-1),colorList=[],i=0;i<stops;i++)colorList[i]=$.hsvToRgb({h:toColor.h-i*colorStep_h,s:toColor.s-i*colorStep_s,v:toColor.v-i*colorStep_v});return colorList.reverse()},$.complementaryGradient=function(stops,color){var hsv=$.rgbToHsv($.hexToRgb(color)),complementHue=2*hsv.h+137;complementHue=complementHue<360?complementHue:Math.floor(hsv.h/2)-137;var lowStops=stops%2==0?stops/2+1:Math.ceil(stops/2),highStops=stops-lowStops+1,gradient=$.gradient(lowStops,$.hsvToRgb($.extend({},hsv,{h:complementHue}))).reverse();return gradient.pop(),gradient.concat($.gradient(highStops,color))},$.brighten=function(color,amount){return amount||(amount=10),color.r||(color=$.hexToRgb(color)),(color=$.rgbToHsv(color)).v+=amount,color.v>100&&(color.v=100),$.hsvToRgb(color)}},1716:function(module,exports,__webpack_require__){"use strict";var moment=__webpack_require__(5);moment.locale(blist.locale);var humaneUtilNS=blist.namespace.fetch("blist.util.humaneDate");_.each(["minute","hour","day","week","month","year"],function(duration){blist.util.humaneDate[duration.toUpperCase()]={duration:moment.duration(1,duration).as("milliseconds"),translation_key:"current_"+duration+"_future"}}),blist.util.humaneDate.getFromDate=function(dateObj,granularity){var date=moment(dateObj);if(!date.isValid())return $.t("core.forms.none");if(_.isUndefined(granularity))return date.fromNow();var now=moment(),absDiff=Math.abs(date.diff(now));return granularity.duration>=absDiff?$.t("core.date_time."+granularity.translation_key):date.fromNow()},blist.util.humaneDate.getFromISO=function(dateStr){var time=(""+dateStr).replace(/-/g,"/").replace(/[TZ]/g," ");return humaneUtilNS.getFromDate(new Date(time))},"undefined"!=typeof jQuery&&(jQuery.fn.humane_dates=function(){return this.each(function(){var date=moment(this.title);date.isValid()&&jQuery(this).text(date.fromNow())})})},1717:function(module,exports,__webpack_require__){"use strict";var blistUtilNS=blist.namespace.fetch("blist.util");blistUtilNS.toHumaneNumber=function(val,precision){var result,symbol=["K","M","B","T"],divider=Math.pow(1e3,symbol.length),absVal=Math.abs(val);val=parseFloat(val);for(var i=symbol.length-1;i>=0;i--){if(absVal>=divider)return result=(absVal/divider).toFixed(precision),val<0&&(result=-result),result+symbol[i];divider/=1e3}return val.toFixed(precision)},blistUtilNS.parseHumaneNumber=function(val){var adjVal,i,symbol=["K","M","B","T"];if($.isBlank(val))return val;var lastChar=val.charAt(val.length-1);for(lastChar=lastChar.valueOf().toUpperCase(),i=symbol.length-1;i>=0;i--)if(lastChar===symbol[i])return adjVal=val.slice(0,val.length-1),parseFloat(adjVal)?adjVal*Math.pow(1e3,i+1):val;return val}},1718:function(module,exports,__webpack_require__){"use strict";blist.translations={},_.isUndefined(window.blistTranslations)||_.each(window.blistTranslations,function(translation){$.extend(!0,blist.translations,translation())}),blist.locale=$("body").data("locale"),blist.defaultLocale=$("body").data("defaultlocale")},1719:function(module,exports,__webpack_require__){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};blist.namespace.fetch("blist.util"),blist.namespace.fetch("blist.util.patterns"),window.Sizzle=jQuery.find,String.prototype.startsWith=function(str){return 0==this.indexOf(str)},String.prototype.endsWith=function(str){return this.length>=str.length&&this.lastIndexOf(str)==this.length-str.length},String.prototype.format=function(){for(var txt=this,i=arguments.length;i--;)txt=txt.replace(new RegExp("\\{"+i+"\\}","gm"),arguments[i]);return txt},String.prototype.visualSize=function(fontSize){var $ruler=$("#ruler");return $ruler.length<1&&($("body").append('<span class="ruler" id="ruler"></span>'),$ruler=$("#ruler")),fontSize||(fontSize=""),$ruler.css("font-size",fontSize),$ruler.text(this+""),{width:$ruler.width(),height:$ruler.height()}},String.prototype.visualHeight=function(fontSize){return this.visualSize(fontSize).height},String.prototype.visualLength=function(fontSize){return this.visualSize(fontSize).width},String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.substring(1)},String.prototype.displayable=function(){return $.map(this.replace(/(\S)([A-Z])/g,"$1 $2").replace(/_/g," ").split(" "),$.capitalize).join(" ")},String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")},String.prototype.clean=function(){return this.replace(/\xa0/g," ")},String.prototype.camelize=function(){return _.map(this.split(/[\W_]/),function(item){return item.substring(0,1).toUpperCase()+item.substring(1)}).join("")},String.prototype.plainTextToHtml=function(){return("<p>"+this.replace(/\n/g,"</p><p>")+"</p>").replace(/<p><\/p>/g,"<p>&nbsp;</p>")},String.prototype.levenshtein=function(other){var l1=this.length,l2=other.length;if(0===Math.min(l1,l2))return Math.max(l1,l2);var i=0,j=0,d=[];for(i=0;i<=l1;i++)d[i]=[],d[i][0]=i;for(j=0;j<=l2;j++)d[0][j]=j;for(i=1;i<=l1;i++)for(j=1;j<=l2;j++)d[i][j]=Math.min(d[i-1][j]+1,d[i][j-1]+1,d[i-1][j-1]+(this.charAt(i-1)===other.charAt(j-1)?0:1));return d[l1][l2]},String.prototype.heuristicDistance=function(other){return $.isBlank(other)?NaN:this.replace(/^[a-z0-9]/gi,"").toLowerCase().levenshtein(other.replace(/^[a-z0-9]/gi,"").toLowerCase())},Function.prototype.curry=function(){var f=this,appliedArgs=Array.prototype.slice.call(arguments);return function(){return f.apply(this,appliedArgs.concat(Array.prototype.slice.call(arguments)))}},String.prototype.linkify=function(extra){return $.isBlank(this)?"":($.isBlank(extra)&&(extra=""),replacePattern1=/(\b(https?|ftp):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gim,replacePattern2=/(^|[^\/])(www\.[\S]+(\b|$))/gim,replacePattern3=/(\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,6})/gim,this.replace(replacePattern1,'<a href="$1" '+extra+">$1</a>").replace(replacePattern2,'$1<a href="http://$2" '+extra+">$2</a>").replace(replacePattern3,'<a href="mailto:$1">$1</a>'));var replacePattern1,replacePattern2,replacePattern3},function($){var jq;$.fn.addBack=$.fn.andSelf,$.hashHref=function(href){return href.slice(href.indexOf("#")+1)},$.urlParam=function(url,name,value){var regex=new RegExp("([\\?#&]"+name+"=)([^&#]*)");if(void 0!==value&&null!==value)return url.replace(regex,"$1"+value);var results=regex.exec(url);return results&&results[2]||0},$.hasParam=$.urlParam.curry(window.location.href),$.toParam=function(hash){return _.map(hash,function(v,k){return escape(k)+"="+escape(v)}).join("&")},$.escapeQuotes=function(text){return"string"!=typeof text?text:$.htmlEscape(text).replace(/'/,"&apos;")},$.unescapeQuotes=function(text){return"string"!=typeof text?text:$.htmlUnescape(text).replace(/&apos;/g,"'").replace(/&#39;/g,"'").replace(/&#x27;/g,"'")},$.htmlEscape=function(text){return"string"!=typeof text?text:text.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},$.htmlUnescape=function(text){return"string"!=typeof text?text:text.replace(/&quot;/g,'"').replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&amp;/g,"&")},$.unescapeObject=function(obj){if(null===obj||void 0===obj)return obj;if("string"==typeof obj)return $.htmlUnescape(obj);if("object"==(void 0===obj?"undefined":_typeof(obj))){var newObj=obj instanceof Array?[]:{};return $.each(obj,function(k,v){newObj[k]=$.unescapeObject(v)}),newObj}return obj},$.htmlStrip=function(text){try{return text.replace(/<[^>]*>/g,"")}catch(ex){return""}},$.urlSafe=function(text){var output=text.replace(/\s+/g,"-").replace(/[^a-zA-Z0-9_\-]/g,"-").replace(/\-+/g,"-");return output.length<1&&(output="-"),output.slice(0,50)},$.capitalize=function(text){return(text+="").charAt(0).toUpperCase()+text.substring(1)},$.live=function(selector,type,fn){var $obj=$([]);return $obj.context=document,$obj.selector=selector,$obj.live(type,fn),$obj},$.t=function(key,data){return $.tNull(key,data)||"(no translation available) - [key: "+key+"]"},$.tNull=function(key,data){if("nyan"==blist.locale)return"nyan";if(!$.subKeyDefined(blist.translations,key))return null;var result=$.deepGetStringField(blist.translations,key);return $.isPlainObject(result)&&_.has(data,"count")&&!(result=1==data.count?result.one:result.other)?null:(result=result.replace(/%{[^}]+}/g,function(dataKey){return(data||{})[dataKey.slice(2,-1)]||""}),key.endsWith("_html")?result:$.htmlStrip(result))},$.rootPath=function(){return blist.locale==blist.defaultLocale?"":"/"+blist.locale},$.path=function(path){return $.rootPath()+(path||"")},$.localize=function(obj){return $.isPlainObject(obj)?$.subKeyDefined(obj,blist.locale)?obj[blist.locale]:"":obj},$.deepCompact=function(obj){if(_.isArray(obj))return _.chain(obj).map(function(o){return $.deepCompact(o)}).reject(function(o){return $.isBlank(o)}).value();if(!$.isPlainObject(obj))return obj;var newObj={};return _.each(obj,function(v,k){$.isBlank(v)||(newObj[k]=$.deepCompact(v))}),newObj},$.compareValues=function(obj1,obj2){if(obj1===obj2)return!0;if(null===obj1||void 0===obj1)return null===obj2||void 0===obj2;if(null===obj2||void 0===obj2)return!1;if(!(obj1 instanceof Object&&obj2 instanceof Object))return!1;var compareKey=function(o1,o2,k){return!(!o1.hasOwnProperty(k)||!o2.hasOwnProperty(k))&&$.compareValues(o1[k],o2[k])};for(var v1 in obj1)if(!compareKey(obj1,obj2,v1))return!1;for(var v2 in obj2)if(!compareKey(obj2,obj1,v2))return!1;return!0},$.syncObjects=function(dest,src){$.extend(dest,src),_.each(dest,function(v,k){_.isUndefined(src[k])&&delete dest[k]})},$.flattenChildren=function(array,key){key=key||"children";return _.flatten(function recurse(arrayInner){return _.map(arrayInner,function(elem){return _.isUndefined(elem[key])?elem:[elem,recurse(elem[key])]})}(array))},$.unwrapHtml=function(html){return html.replace(/^\s*<[^<>]+>/i,"").replace(/<\/[^<>]+>\s*$/i,"")},$.getTemplate=function(template){var templateSelector="."+template,$jsAppendedTemplates=$("#js-appended-templates").children();return $jsAppendedTemplates.is(templateSelector)?$jsAppendedTemplates.filter(templateSelector):$($("#templates").html()).filter(templateSelector)},$.renderTemplate=function(template,data,directive,keepText){var $template=$.getTemplate(template);if($template.length<1)throw"No template found: "+template;if(_.isUndefined(data))return keepText?$template.html():$template.clone().children();var $templateCopy=$($template[0].cloneNode(!0));if($templateCopy.appendTo($("<div/>")),$.isBlank($templateCopy[0].parentNode))throw"templateCopy has no parent!";var rendered=$templateCopy.render(data,directive);return keepText?rendered.innerHTML:$(rendered).children()},$.compileTemplate=function(template,directive){var $templateCopy=$.getTemplate(template).clone();if($templateCopy.length<1)throw"No template found: "+template;$templateCopy.appendTo($("<div/>"));var compiledDirective=$templateCopy.compile(directive);return function(data){return $.unwrapHtml(compiledDirective(data))}},$.isBlank=function(obj){return _.isUndefined(obj)||_.isNull(obj)||""===obj},$.isPresent=function(obj){return!$.isBlank(obj)},$.arrayify=function(obj){return _.isArray(obj)?obj:[obj]},$.objectify=function(obj,key){if(!$.isPlainObject(obj)){var newObj={};return newObj[key]=obj,newObj}return obj},$.numericalSanitize=function(str){return(str||"").replace(/[^0-9\.\+\-]/,"")},$.arrayToObjKeys=function(arr,v){var obj={};return _.each($.makeArray(arr),function(k){obj[k]=v}),obj},$.addItemsToObject=function(obj,values,index){var numInserts=(values=$.makeArray(values)).length,tmp={};_.each(obj,function(r,i){(i=parseInt(i))>=index&&($.isBlank(r.index)||(r.index=i+numInserts),tmp[i+numInserts]=r,delete obj[i])}),$.extend(obj,tmp),_.each(values,function(v,i){i=parseInt(i),$.isBlank(v.index)||(v.index=index+i),obj[index+i]=v})},$.removeItemsFromObject=function(obj,index,numItems){for(var j=0;j<numItems;j++)delete obj[index+j];var tmp={};_.each(obj,function(r,i){(i=parseInt(i))>index&&($.isBlank(r.index)||(r.index=i-numItems),tmp[i-numItems]=r,delete obj[i])}),$.extend(obj,tmp)},$.keyValueToObject=function(key,value){var temp={};return temp[key]=value,temp},$.deepGet=function(){var idx=0,create=!1;!0===arguments[0]&&(idx++,create=!0);for(var obj=arguments[idx++];idx<arguments.length;idx++){var key=arguments[idx];if(_.isArray(obj)){var m=key.match(/^\[(\w*)=?(\w*)\]$/);if(!$.isBlank(m)){for(var result,arrayKey=m[1],arrayVal=m[2],checkVals=!$.isBlank(arrayKey)&&!$.isBlank(arrayVal),remArgs=$.makeArray(arguments).slice(idx+1),i=0;i<obj.length;i++){var arrayItem=obj[i];if((!checkVals||arrayItem[arrayKey]==arrayVal)&&(result=$.deepGet.apply($,_.compact([!!create||null,arrayItem]).concat(remArgs)),!create&&!$.isBlank(result)))break}return result}}if(_.isString(obj))try{obj=JSON.parse(obj)}catch(e){}if(null==obj[key]){if(!create)return;obj[key]={}}obj=_.isFunction(obj[key])?obj[key].apply(obj):obj[key]}return obj},$.deepSet=function(){for(var obj=arguments[0],value=arguments[1],i=2;i<arguments.length-1;i++){var key=arguments[i];_.isUndefined(obj[key])&&(obj[key]={}),obj=obj[key]}obj[_.last(arguments)]=value},$.deepGetStringField=function(obj,field){return $.deepGet.apply($,[obj].concat(field.split(".")))},$.deepPluck=function(obj,field){return _.map(obj,function(x){return $.deepGetStringField(x,field)})},$.subKeyDefined=function(obj,keystring){if($.isBlank(obj)||!_.isString(keystring))return!1;for(var objIter=obj,keys=keystring.split(".");keys.length>0;){if(objIter=objIter[keys[0]],$.isBlank(objIter))return!1;keys.shift()}return!0},$.isSubKeyEqual=function(obj1,obj2,keystring){if($.isBlank(obj1)||$.isBlank(obj2)||!_.isString(keystring))return _.isEqual(obj1,obj2);for(var objIter1=obj1,objIter2=obj2,keys=keystring.split(".");keys.length>0;){if(objIter1=objIter1[keys[0]],objIter2=objIter2[keys[0]],$.isBlank(objIter1)||$.isBlank(objIter2))return _.isEqual(objIter1,objIter2);keys.shift()}return _.isEqual(objIter1,objIter2)},$.safeId=function(id){return id.replace(/(\.|\:)/g,"\\$1")},$.arrayToSentence=function(arr,joinWord,separator,alwaysUseSep){return arr.length<3?arr.join((alwaysUseSep?separator:"")+" "+joinWord+" "):arr.slice(0,-1).join(separator+" ")+separator+" "+joinWord+" "+arr[arr.length-1]},$.wordify=function(num){var t=function(str){return $.t("core.numbers."+str)};return{0:t("num_zero"),1:t("num_one"),2:t("num_two"),3:t("three"),4:t("four"),5:t("five"),6:t("six"),7:t("seven"),8:t("eight"),9:t("nine")}[num.toString()]||num},$.commaify=function(value){var pos=(value+="").indexOf(".");for(-1==pos&&(pos=value.length),pos-=3;pos>0&&value.charAt(pos-1)>="0"&&value.charAt(pos-1)<="9";)value=value.substring(0,pos)+","+value.substring(pos),pos-=3;return value},$.humanify=function(humaneDecimals,fixedDecimals,value){var abs=Math.abs(value);return abs>=1e3?blist.util.toHumaneNumber(value,humaneDecimals):abs-Math.floor(abs)>0?value.toFixed(fixedDecimals):value},$.pluralize=function(number,word,pluralized){return _.isUndefined(pluralized)&&(pluralized=word.match(/[oiu]$/i)?word+"es":word.match(/y$/i)?word.substring(0,word.length-1)+"ies":word+"s"),number+" "+(1===number?word:pluralized)},$.addAppToken=function(url){return url+(-1==url.indexOf("?")?"?":"&")+"app_token="+blist.configuration.appToken},$.jsonIntToFloat=function(integer){return integer.toString().indexOf(".")<0?parseFloat(integer.toString()+".000001"):integer},$.clamp=function(number,bounds){return number<bounds[0]?bounds[0]:number>bounds[1]?bounds[1]:number},$.union=function(){return _.reduce(_.flatten(arguments),function(memo,item){return _.all(memo,function(val){return!_.isEqual(item,val)})&&memo.push(item),memo},[])},$.fn.tagName=function(){return this.get(0).tagName.toLowerCase()},$.fn.isInputType=function(inputType){return"input"==this.tagName()&&this.attr("type")==inputType},$.fn.renderWidth=function(){return this[0].clientWidth-(this.innerWidth()-this.width())},$.fn.renderHeight=function(){return this[0].clientHeight-(this.innerHeight()-this.height())},$.fn.lockScroll=function(lock){!0===lock?this.on("mousewheel.lockScroll DOMMouseScroll.lockScroll",function(event){var scrollTo=null;"mousewheel"==event.type?scrollTo=-.5*event.originalEvent.wheelDelta:"DOMMouseScroll"==event.type&&(scrollTo=20*event.originalEvent.detail),scrollTo&&($(this).scrollTop(scrollTo+$(this).scrollTop()),event.preventDefault())}):this.off("mousewheel.lockScroll DOMMouseScroll.lockScroll")},$.batchProcess=function(array,batchSize,eachItem,eachBatch,onComplete){if(_.isArray(array)){var thisBatch=(array=_.clone(array)).splice(0,batchSize),batchResult=_.map(thisBatch,eachItem);_.isFunction(eachBatch)&&eachBatch(batchResult),0===array.length?_.isFunction(onComplete)&&onComplete():setTimeout(function(){$.batchProcess(array,batchSize,eachItem,eachBatch,onComplete)},10)}},$.extract=function(obj,prop){var result={};return _.each(obj,function(value,key){result[key]=value[prop]}),result},$.assertThrowOnFail=!0,$.assert=function(condition,message){if(!condition&&(console.error("Assertion failed: "+message),$.assertThrowOnFail))throw message},$.parseParams=function(query){var e,re=/([^&=]+)=?([^&]*)/g,decode=function(str){return decodeURIComponent(str.replace(/\+/g," "))},params={};for(query||(query=window.location.search),"?"==query.substr(0,1)&&(query=query.substr(1));e=re.exec(query);){var k=decode(e[1]),v=decode(e[2]);void 0!==params[k]?($.isArray(params[k])||(params[k]=[params[k]]),params[k].push(v)):params[k]=v}return params},jQuery.fn.quickEach=(jq=jQuery([1]),function(c){var el,i=-1,len=this.length;try{for(;++i<len&&(el=jq[0]=this[i])&&!1!==c.call(jq,i,el););}catch(e){throw delete jq[0],e}return delete jq[0],this}),$.fn.hasChildren=function(){var elem=this.get(0);return null!=elem&&null!=elem.firstChild},$.fn.exists=function(){return 0!==this.length},$.thunk=function(val){return function(){return val}},$.whenever=function(){var args=Array.prototype.slice.call(arguments);return args=_.map(args,function(promise){var deferred=$.Deferred();return promise.done(function(){deferred.resolveWith(null,arguments)}).fail(function(){deferred.resolve(null)}),deferred.promise()}),$.when.apply($,args)},$.serialPromiser=function(ary){var result=$.Deferred(),promises=_.select($.makeArray(ary),_.isFunction);return function promiseIterator(promiseFactory,args){promiseFactory.apply(null,args).then(function(){promises.length>0?promiseIterator(promises.shift(),arguments):result.resolveWith(null,arguments)}).fail(function(){result.reject()})}(promises.shift()),result.promise()},blist.util.doAuthedAction=function(actionText,callback){blist.currentUserId?callback():window.location=$.path("/login")},blist.util.railsFlash=function(text,level){var existingFlash=$.cookies.get("js_flash"),flashObj=existingFlash?JSON.parse(existingFlash):{};flashObj[level||"notice"]=text,$.cookies.set("js_flash",JSON.stringify(flashObj))},blist.util.patterns.UID=/^\w{4}-\w{4}$/,blist.util.patterns.mobileBrowser=/iPhone|iPod|Android/i,blist.util.patterns.customUrl=/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,blist.util.patterns.customHttpMaybeSUrl=/^https?:\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,blist.util.patterns.core={emailValidator:/^[A-Z0-9._%+-]+@(?:[A-Z0-9-]+\.)+[A-Z]{2,4}$/i,urlValidator:/^(mailto\:|(news|(ht|f)tp(s?))\:\/\/)?[a-zA-Z0-9\-\.]+\.([a-zA-Z]{2,}|[0-9]+)(\:\d+)?(\/?\S*)?$/i},blist.util.isMobile=function(){return blist.util.patterns.mobileBrowser.test(navigator.userAgent)},blist.isMobile=blist.util.isMobile(),blist.util.loadCaptcha=function(id){window.onRecaptchaLoaded=function(){window.grecaptcha.render(id,{sitekey:blist.configuration.RECAPTCHA_2_SITE_KEY})},$("#"+id).hasClass("placeholder")&&blist.util.assetLoading.loadAssets({javascripts:["https://www.google.com/recaptcha/api.js?onload=onRecaptchaLoaded&render=explicit"]})},blist.util.recursivePluck=function(pluckee,searchKey){var pluckedArray=[];for(var key in pluckee)if(_.isPlainObject(pluckee[key])||_.isArray(pluckee[key])){var plucked=blist.util.recursivePluck(pluckee[key],searchKey);_.isArray(plucked)?pluckedArray=pluckedArray.concat(plucked):pluckedArray.push(plucked)}return _.isUndefined(pluckee[searchKey])||pluckedArray.push(pluckee[searchKey]),pluckedArray},blist.util.enforceLodashFunctions=function(){if(window._!==window.socrataLodash&&(window.console&&"function"==typeof window.console.info&&console.info("Lodash collision detected. Expected version: {0}. Actual version: {1}.".format(window.socrataLodash.VERSION,window._.VERSION)),window.collidedWithLodash=_.noConflict(),window._=window.socrataLodash,/nys(doh)?-staging|data.ny.gov/.test(window.location.hostname))){["template","first","keys","each","extend","debounce","pluck","reject","findWhere"].forEach(function(func){window._[func]=window.collidedWithLodash[func]})}}}(jQuery)},1720:function(module,exports,__webpack_require__){"use strict";!function($){$.fn.loadingSpinner=function(options){var loadingSpinner=$(this[0]).data("loadingSpinner");return loadingSpinner||(loadingSpinner=new LoadingSpinnerObj(options,this[0])),loadingSpinner};var LoadingSpinnerObj=function LoadingSpinnerObj(options,dom){this.settings=$.extend({},LoadingSpinnerObj.defaults,options),this.currentDom=dom,this.init()};$.extend(LoadingSpinnerObj,{defaults:{minimal:!1,model:null,metric:null,overlay:!1,showInitially:!1},prototype:{init:function(){this.$dom().data("loadingSpinner",this),this.setMetric(this.settings.metric),this.showHide(this.settings.showInitially),this.setModel(this.settings.model)},setModel:function(newModel){var spObj=this;$.isBlank(spObj._model)||spObj._model.unbind(null,null,spObj),$.isBlank(newModel)||(newModel.bind("request_start",function(){spObj.showHide(!0)},spObj),newModel.bind("request_status",function(){spObj.setMessage.apply(spObj,arguments)},spObj),newModel.bind("request_finish",function(){spObj.showHide(!1)},spObj),spObj._model=newModel)},$dom:function(){return this._$dom||(this._$dom=$(this.currentDom)),this._$dom},$content:function(){if($.isBlank(this._$content)&&(this._$content=$.tag({tagName:"div",class:"loadingSpinnerContainer"}),this._$content.append($.tag({tagName:"div",class:["loadingSpinner",{value:"minimal",onlyIf:this.settings.minimal}]})),this._$content.append($.tag({tagName:"div",class:"loadingMessage"})),this._$content.append($.tag({tagName:"div",class:["loadingCountdown","hide"],contents:["Checking",{tagName:"span",class:"secondsSection",contents:[" in ",{tagName:"span",class:"seconds"}," seconds"]},"..."]})),this.$dom().append(this._$content),this.settings.overlay)){var $o=$.tag({tagName:"div",class:"loadingOverlay"});this.$dom().append($o),this._$content=this._$content.add($o)}return this._$content},setMetric:function(metric){this.metric&&!metric&&$.metrics.stopwatch("domain-intern","js-spinner-"+this.metric+"-time","clear"),this.metric=metric},showHide:function(doShow){if(this.$content().toggleClass("hide",!doShow),doShow||(this.$content().find(".loadingMessage, .loadingCountdown").addClass("hide"),clearCountdown(this)),!$.isBlank(this.metric)){var fullMetric="js-spinner-"+this.metric+"-time",stopwatch=$.metrics.stopwatches["domain-intern/"+fullMetric];doShow?$.metrics.stopwatch("domain-intern",fullMetric,"start"):stopwatch&&stopwatch.started&&$.metrics.stopwatch("domain-intern",fullMetric,"end")}},setMessage:function(message,countdown){var spObj=this;if($.isBlank(message)||spObj.$content().find(".loadingMessage").removeClass("hide").html(message.plainTextToHtml()),!$.isBlank(countdown)){var $sec=spObj.$content().find(".loadingCountdown").removeClass("hide").find(".secondsSection").removeClass("hide").find(".seconds").text(countdown);clearCountdown(spObj),spObj._countdownTimer=setInterval(function(){countdown--,$sec.text(countdown),countdown<1&&(clearCountdown(spObj),spObj.$content().find(".secondsSection").addClass("hide"))},1e3)}}}});var clearCountdown=function(spObj){$.isBlank(spObj._countdownTimer)||(clearInterval(spObj._countdownTimer),delete spObj._countdownTimer)}}(jQuery)},1721:function(module,exports,__webpack_require__){"use strict";var $,controlRegistry;$=jQuery,controlRegistry={},$.fn.isControlClass=function(name){return!!($(this[0]).data("controlClass")||{})[name]},$.Control={extend:function(name,childModel,defaults,parentName,virtual){$.isBlank(parentName)&&(parentName="Control");var parentModel=controlRegistry[parentName];if($.isBlank(parentModel))throw"Unrecognized parent "+parentName+" for "+name;var NewModel=parentModel.model.extend(childModel),df=$.extend(!0,{},parentModel.defaults,defaults);return controlRegistry[name]={defaults:df,model:NewModel,name:parentModel.name+"."+name},virtual||($.fn[name]=function(options){var $t=$(this[0]),obj=$t.data(name);if($.isBlank(obj)){obj=new NewModel(options,this[0],controlRegistry[name]),$t.data(name,obj);var cc=$t.data("controlClass")||{};_.each(controlRegistry[name].name.split("."),function(n){cc[n]=!0}),$t.data("controlClass",cc)}return obj}),NewModel},registerMixin:function(name,model,defaults,parentName,dependsOn){$.isBlank(parentName)&&(parentName="Control");var parentModel=controlRegistry[parentName];if($.isBlank(parentModel))throw"Unrecognized parent "+parentName+" for mixin "+name;parentModel.mixins=parentModel.mixins||{},parentModel.mixins[name]={model:model,defaults:defaults,dependsOn:dependsOn}}},controlRegistry.Control={defaults:{},model:Class.extend({_init:function(options,dom,modelHash){var df=$.extend(!0,{},modelHash.defaults),obj=this,addedMixins={};_.each(obj._getMixins(options)||[],function addMixin(mn){if(!addedMixins[mn]&&$.subKeyDefined(modelHash.mixins,mn)){var mix=modelHash.mixins[mn];_.each($.makeArray(mix.dependsOn),addMixin),modelHash.model.addProperties(obj,mix.model,$.extend({},obj)),addedMixins[mn]=!0,$.extend(!0,df,mix.defaults)}}),obj.settings=$.extend(df,options),obj.currentDom=dom,obj._initMixins()},_getMixins:function(){return[]},_initMixins:function(){},$dom:function(){return this._$dom||(this._$dom=$(this.currentDom)),this._$dom}}),name:"Control"}},1722:function(module,exports){module=void 0;(function(){!function(){var initializing=!1,fnTest=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/,Class=function(){};Class.extend=function(prop){var _super=this.prototype;initializing=!0;var prototype=new this;initializing=!1;var addProperties=function(obj,newProps,_s){for(var name in newProps)obj[name]="function"==typeof newProps[name]&&"function"==typeof _s[name]&&fnTest.test(newProps[name])?function(name,fn){return function(){var tmp=this._super,_newSuper=_s[name];this._super=_newSuper==pureVirtual?void 0:_newSuper;var ret=fn.apply(this,arguments);return this._super=tmp,ret}}(name,newProps[name]):newProps[name]},pureVirtual=function(){throw console.error("Pure virtual call"),new Error("Pure virtual call")};function Class(){this.Class=Class,!initializing&&this._init&&this._init.apply(this,arguments)}return addProperties(prototype,prop,_super),Class.prototype=prototype,Class.constructor=Class,Class.extend=arguments.callee,Class.addProperties=addProperties,Class.pureVirtual=pureVirtual,Class},"undefined"!=typeof blist?this.Class=Class:module.exports=Class}()}).call(window)},1723:function(module,exports,__webpack_require__){"use strict";!function($){$.device=$.device||{};var device=_.get($,"ua.device.model","").toLowerCase();$.device.ipad="ipad"===device,$.device.iphone=_.includes(["ipod","iphone"],device),$.device.android="android"===_.get($,"ua.os.name","").toLowerCase(),$.device.mobile="mobile"===_.get($,"ua.device.type","").toLowerCase()}(jQuery),$(function(){var browserName=_.get($,"ua.browser.name","").toLowerCase();$.browser.chrome="chrome"===browserName,$.browser.safari="safari"===browserName,$.browser.msie="ie"===browserName,$.browser.edge="edge"===browserName,$.browser.mozilla="firefox"===browserName,$.browser.version=_.get($,"ua.browser.version"),$.browser.majorVersion=parseInt(_.get($,"ua.browser.major"))})},1724:function(module,exports){var define=void 0;module=void 0,exports=void 0;(function(){!function(e,t){"use strict";var s="function",o="undefined",u="object",l="model",c="name",h="type",p="vendor",d="version",v="architecture",m="console",g="mobile",y="tablet",b="smarttv",w="wearable",S={extend:function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:t},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},x={rgx:function(){for(var e,r,i,a,f,l,c,n=0,h=arguments;n<h.length&&!l;){var p=h[n],d=h[n+1];if(typeof e===o)for(a in e={},d)d.hasOwnProperty(a)&&(typeof(f=d[a])===u?e[f[0]]=t:e[f]=t);for(r=i=0;r<p.length&&!l;)if(l=p[r++].exec(this.getUA()))for(a=0;a<d.length;a++)c=l[++i],typeof(f=d[a])===u&&f.length>0?2==f.length?typeof f[1]==s?e[f[0]]=f[1].call(this,c):e[f[0]]=f[1]:3==f.length?typeof f[1]!==s||f[1].exec&&f[1].test?e[f[0]]=c?c.replace(f[1],f[2]):t:e[f[0]]=c?f[1].call(this,c,f[2]):t:4==f.length&&(e[f[0]]=c?f[3].call(this,c.replace(f[1],f[2])):t):e[f]=c||t;n+=2}return e},str:function(e,n){for(var r in n)if(typeof n[r]===u&&n[r].length>0){for(var s=0;s<n[r].length;s++)if(S.has(n[r][s],e))return"?"===r?t:r}else if(S.has(n[r],e))return"?"===r?t:r;return e}},T={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},N={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[c,d],[/(opios)[\/\s]+([\w\.]+)/i],[[c,"Opera Mini"],d],[/\s(opr)\/([\w\.]+)/i],[[c,"Opera"],d],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs)\/([\w\.-]+)/i],[c,d],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[c,"IE"],d],[/(edge)\/((\d+)?[\w\.]+)/i],[c,d],[/(yabrowser)\/([\w\.]+)/i],[[c,"Yandex"],d],[/(comodo_dragon)\/([\w\.]+)/i],[[c,/_/g," "],d],[/(micromessenger)\/([\w\.]+)/i],[[c,"WeChat"],d],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[d,[c,"MIUI Browser"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[c,/(.+)/,"$1 WebView"],d],[/android.+samsungbrowser\/([\w\.]+)/i,/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[d,[c,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(qqbrowser)[\/\s]?([\w\.]+)/i],[c,d],[/(uc\s?browser)[\/\s]?([\w\.]+)/i,/ucweb.+(ucbrowser)[\/\s]?([\w\.]+)/i,/juc.+(ucweb)[\/\s]?([\w\.]+)/i],[[c,"UCBrowser"],d],[/(dolfin)\/([\w\.]+)/i],[[c,"Dolphin"],d],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[c,"Chrome"],d],[/;fbav\/([\w\.]+);/i],[d,[c,"Facebook"]],[/fxios\/([\w\.-]+)/i],[d,[c,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[d,[c,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[d,c],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[c,[d,x.str,T.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[c,d],[/(navigator|netscape)\/([\w\.-]+)/i],[[c,"Netscape"],d],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[c,d]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[v,"amd64"]],[/(ia32(?=;))/i],[[v,S.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[v,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[v,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[v,/ower/,"",S.lowerize]],[/(sun4\w)[;\)]/i],[[v,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[v,S.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[l,p,[h,y]],[/applecoremedia\/[\w\.]+ \((ipad)/],[l,[p,"Apple"],[h,y]],[/(apple\s{0,1}tv)/i],[[l,"Apple TV"],[p,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[p,l,[h,y]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[l,[p,"Amazon"],[h,y]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[l,x.str,T.device.amazon.model],[p,"Amazon"],[h,g]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[l,p,[h,g]],[/\((ip[honed|\s\w*]+);/i],[l,[p,"Apple"],[h,g]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[p,l,[h,g]],[/\(bb10;\s(\w+)/i],[l,[p,"BlackBerry"],[h,g]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[l,[p,"Asus"],[h,y]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[p,"Sony"],[l,"Xperia Tablet"],[h,y]],[/(?:sony)?(?:(?:(?:c|d)\d{4})|(?:so[-l].+))\sbuild\//i],[[p,"Sony"],[l,"Xperia Phone"],[h,g]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[p,l,[h,m]],[/android.+;\s(shield)\sbuild/i],[l,[p,"Nvidia"],[h,m]],[/(playstation\s[34portablevi]+)/i],[l,[p,"Sony"],[h,m]],[/(sprint\s(\w+))/i],[[p,x.str,T.device.sprint.vendor],[l,x.str,T.device.sprint.model],[h,g]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[p,l,[h,y]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[p,[l,/_/g," "],[h,g]],[/(nexus\s9)/i],[l,[p,"HTC"],[h,y]],[/(nexus\s6p)/i],[l,[p,"Huawei"],[h,g]],[/(microsoft);\s(lumia[\s\w]+)/i],[p,l,[h,g]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[l,[p,"Microsoft"],[h,m]],[/(kin\.[onetw]{3})/i],[[l,/\./g," "],[p,"Microsoft"],[h,g]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[l,[p,"Motorola"],[h,g]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[l,[p,"Motorola"],[h,y]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[p,S.trim],[l,S.trim],[h,b]],[/hbbtv.+maple;(\d+)/i],[[l,/^/,"SmartTV"],[p,"Samsung"],[h,b]],[/\(dtv[\);].+(aquos)/i],[l,[p,"Sharp"],[h,b]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[p,"Samsung"],l,[h,y]],[/smart-tv.+(samsung)/i],[p,[h,b],l],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[p,"Samsung"],l,[h,g]],[/sie-(\w+)*/i],[l,[p,"Siemens"],[h,g]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[p,"Nokia"],l,[h,g]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[l,[p,"Acer"],[h,y]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[p,"LG"],l,[h,y]],[/(lg) netcast\.tv/i],[p,l,[h,b]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],[l,[p,"LG"],[h,g]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[l,[p,"Lenovo"],[h,y]],[/linux;.+((jolla));/i],[p,l,[h,g]],[/((pebble))app\/[\d\.]+\s/i],[p,l,[h,w]],[/android.+;\s(glass)\s\d/i],[l,[p,"Google"],[h,w]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d\w)?)\s+build/i],[[l,/_/g," "],[p,"Xiaomi"],[h,g]],[/android.+a000(1)\s+build/i],[l,[p,"OnePlus"],[h,g]],[/\s(tablet)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[h,S.lowerize],p,l]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[d,[c,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[c,d],[/rv\:([\w\.]+).*(gecko)/i],[d,c]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[c,d],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s]+\w)*/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[c,[d,x.str,T.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[c,"Windows"],[d,x.str,T.os.windows.version]],[/\((bb)(10);/i],[[c,"BlackBerry"],d],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[c,d],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[c,"Symbian"],d],[/\((series40);/i],[c],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[c,"Firefox OS"],d],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[c,d],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[c,"Chromium OS"],d],[/(sunos)\s?([\w\.]+\d)*/i],[[c,"Solaris"],d],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[c,d],[/(haiku)\s(\w+)/i],[c,d],[/(ip[honead]+)(?:.*os\s([\w]+)*\slike\smac|;\sopera)/i],[[c,"iOS"],[d,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[c,"Mac OS"],[d,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[c,d]]},C=function(t,n){if(this instanceof C){var i=t||(e&&e.navigator&&e.navigator.userAgent?e.navigator.userAgent:""),s=n?S.extend(N,n):N;return this.getBrowser=function(){var e=x.rgx.apply(this,s.browser);return e.major=S.major(e.version),e},this.getCPU=function(){return x.rgx.apply(this,s.cpu)},this.getDevice=function(){return x.rgx.apply(this,s.device)},this.getEngine=function(){return x.rgx.apply(this,s.engine)},this.getOS=function(){return x.rgx.apply(this,s.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=e,this},this}return new C(t,n).getResult()};C.VERSION="0.7.12",C.BROWSER={NAME:c,MAJOR:"major",VERSION:d},C.CPU={ARCHITECTURE:v},C.DEVICE={MODEL:l,VENDOR:p,TYPE:h,CONSOLE:m,MOBILE:g,SMARTTV:b,TABLET:y,WEARABLE:w,EMBEDDED:"embedded"},C.ENGINE={NAME:c,VERSION:d},C.OS={NAME:c,VERSION:d},typeof exports!==o?(typeof module!==o&&module.exports&&(exports=module.exports=C),exports.UAParser=C):typeof define===s&&define.amd?define(function(){return C}):e.UAParser=C;var k=e.jQuery||e.Zepto;if(typeof k!==o){var L=new C;k.ua=L.getResult(),k.ua.get=function(){return L.getUA()},k.ua.set=function(e){L.setUA(e);var t=L.getResult();for(var n in t)k.ua[n]=t[n]}}}("object"==typeof window?window:this)}).call(window)},1725:function(module,exports,__webpack_require__){"use strict";window.blist||(window.blist={}),blist.namespace||(blist.namespace={}),blist.namespace.fetch=function(nsString){for(var nsArray=nsString.split("."),curNS=window,i=0;i<nsArray.length;i++){var n=nsArray[i];curNS[n]||(curNS[n]={}),curNS=curNS[n]}return curNS},blist.inBrowser=!0},1726:function(module,exports){var define=void 0;module=void 0;(function(){var jstz;(jstz=function(){"use strict";var consts={DAY:864e5,HOUR:36e5,MINUTE:6e4,SECOND:1e3,BASELINE_YEAR:2014,MAX_SCORE:864e6,AMBIGUITIES:{"America/Denver":["America/Mazatlan"],"Europe/London":["Africa/Casablanca"],"America/Chicago":["America/Mexico_City"],"America/Asuncion":["America/Campo_Grande","America/Santiago"],"America/Montevideo":["America/Sao_Paulo","America/Santiago"],"Asia/Beirut":["Asia/Amman","Asia/Jerusalem","Europe/Helsinki","Asia/Damascus","Africa/Cairo","Asia/Gaza","Europe/Minsk"],"Pacific/Auckland":["Pacific/Fiji"],"America/Los_Angeles":["America/Santa_Isabel"],"America/New_York":["America/Havana"],"America/Halifax":["America/Goose_Bay"],"America/Godthab":["America/Miquelon"],"Asia/Dubai":["Asia/Yerevan"],"Asia/Jakarta":["Asia/Krasnoyarsk"],"Asia/Shanghai":["Asia/Irkutsk","Australia/Perth"],"Australia/Sydney":["Australia/Lord_Howe"],"Asia/Tokyo":["Asia/Yakutsk"],"Asia/Dhaka":["Asia/Omsk"],"Asia/Baku":["Asia/Yerevan"],"Australia/Brisbane":["Asia/Vladivostok"],"Pacific/Noumea":["Asia/Vladivostok"],"Pacific/Majuro":["Asia/Kamchatka","Pacific/Fiji"],"Pacific/Tongatapu":["Pacific/Apia"],"Asia/Baghdad":["Europe/Minsk","Europe/Moscow"],"Asia/Karachi":["Asia/Yekaterinburg"],"Africa/Johannesburg":["Asia/Gaza","Africa/Cairo"]}},get_date_offset=function(date){var offset=-date.getTimezoneOffset();return null!==offset?offset:0},dst_dates=function(year){for(var yearstart=new Date(year,0,1,0,0,1,0).getTime(),yearend=new Date(year,12,31,23,59,59).getTime(),current=yearstart,offset=new Date(current).getTimezoneOffset(),dst_start=null,dst_end=null;current<yearend-864e5;){var dateToCheck=new Date(current),dateToCheckOffset=dateToCheck.getTimezoneOffset();dateToCheckOffset!==offset&&(dateToCheckOffset<offset&&(dst_start=dateToCheck),dateToCheckOffset>offset&&(dst_end=dateToCheck),offset=dateToCheckOffset),current+=864e5}return!(!dst_start||!dst_end)&&{s:find_dst_fold(dst_start).getTime(),e:find_dst_fold(dst_end).getTime()}},find_dst_fold=function find_dst_fold(a_date,padding,iterator){void 0===padding&&(padding=consts.DAY,iterator=consts.HOUR);for(var date_start=new Date(a_date.getTime()-padding).getTime(),date_end=a_date.getTime()+padding,offset=new Date(date_start).getTimezoneOffset(),current=date_start,dst_change=null;current<date_end-iterator;){var dateToCheck=new Date(current);if(dateToCheck.getTimezoneOffset()!==offset){dst_change=dateToCheck;break}current+=iterator}return padding===consts.DAY?find_dst_fold(dst_change,consts.HOUR,consts.MINUTE):padding===consts.HOUR?find_dst_fold(dst_change,consts.MINUTE,consts.SECOND):dst_change},get_by_dst=function(preliminary_timezone){var rules=function(){for(var rule_list=[],i=0;i<jstz.olson.dst_rules.years.length;i++){var year_rules=dst_dates(jstz.olson.dst_rules.years[i]);rule_list.push(year_rules)}return rule_list}();return function(rules){for(var i=0;i<rules.length;i++)if(!1!==rules[i])return!0;return!1}(rules)?function(rule_list,preliminary_timezone){for(var score_sample=function(sample){for(var score=0,j=0;j<rule_list.length;j++)if(sample.rules[j]&&rule_list[j]){if(!(rule_list[j].s>=sample.rules[j].s&&rule_list[j].e<=sample.rules[j].e)){score="N/A";break}if(score=0,score+=Math.abs(rule_list[j].s-sample.rules[j].s),(score+=Math.abs(sample.rules[j].e-rule_list[j].e))>consts.MAX_SCORE){score="N/A";break}}return score=function(rule_list,preliminary_timezone,score,sample){if("N/A"!==score)return score;if("Asia/Beirut"===preliminary_timezone){if("Africa/Cairo"===sample.name&&13983768e5===rule_list[6].s&&14116788e5===rule_list[6].e)return 0;if("Asia/Jerusalem"===sample.name&&13959648e5===rule_list[6].s&&14118588e5===rule_list[6].e)return 0}else if("America/Santiago"===preliminary_timezone){if("America/Asuncion"===sample.name&&14124816e5===rule_list[6].s&&1397358e6===rule_list[6].e)return 0;if("America/Campo_Grande"===sample.name&&14136912e5===rule_list[6].s&&13925196e5===rule_list[6].e)return 0}else if("America/Montevideo"===preliminary_timezone){if("America/Sao_Paulo"===sample.name&&14136876e5===rule_list[6].s&&1392516e6===rule_list[6].e)return 0}else if("Pacific/Auckland"===preliminary_timezone&&"Pacific/Fiji"===sample.name&&14142456e5===rule_list[6].s&&13961016e5===rule_list[6].e)return 0;return score}(rule_list,preliminary_timezone,score,sample)},scoreboard={},dst_zones=jstz.olson.dst_rules.zones,dst_zones_length=dst_zones.length,ambiguities=consts.AMBIGUITIES[preliminary_timezone],i=0;i<dst_zones_length;i++){var sample=dst_zones[i],score=score_sample(dst_zones[i]);"N/A"!==score&&(scoreboard[sample.name]=score)}for(var tz in scoreboard)if(scoreboard.hasOwnProperty(tz))for(var j=0;j<ambiguities.length;j++)if(ambiguities[j]===tz)return tz;return preliminary_timezone}(rules,preliminary_timezone):preliminary_timezone};return{determine:function(){var january_offset,june_offset,diff,preliminary_tz=function(){var format,timezone;if("undefined"!=typeof Intl&&void 0!==Intl.DateTimeFormat&&void 0!==(format=Intl.DateTimeFormat())&&void 0!==format.resolvedOptions)return(timezone=format.resolvedOptions().timeZone)&&(timezone.indexOf("/")>-1||"UTC"===timezone)?timezone:void 0}();return preliminary_tz||(preliminary_tz=jstz.olson.timezones[(january_offset=get_date_offset(new Date(consts.BASELINE_YEAR,0,2)),june_offset=get_date_offset(new Date(consts.BASELINE_YEAR,5,2)),diff=january_offset-june_offset,diff<0?january_offset+",1":diff>0?june_offset+",1,s":january_offset+",0")],void 0!==consts.AMBIGUITIES[preliminary_tz]&&(preliminary_tz=get_by_dst(preliminary_tz))),{name:function(){return preliminary_tz}}}}}()).olson=jstz.olson||{},jstz.olson.timezones={"-720,0":"Etc/GMT+12","-660,0":"Pacific/Pago_Pago","-660,1,s":"Pacific/Apia","-600,1":"America/Adak","-600,0":"Pacific/Honolulu","-570,0":"Pacific/Marquesas","-540,0":"Pacific/Gambier","-540,1":"America/Anchorage","-480,1":"America/Los_Angeles","-480,0":"Pacific/Pitcairn","-420,0":"America/Phoenix","-420,1":"America/Denver","-360,0":"America/Guatemala","-360,1":"America/Chicago","-360,1,s":"Pacific/Easter","-300,0":"America/Bogota","-300,1":"America/New_York","-270,0":"America/Caracas","-240,1":"America/Halifax","-240,0":"America/Santo_Domingo","-240,1,s":"America/Asuncion","-210,1":"America/St_Johns","-180,1":"America/Godthab","-180,0":"America/Argentina/Buenos_Aires","-180,1,s":"America/Montevideo","-120,0":"America/Noronha","-120,1":"America/Noronha","-60,1":"Atlantic/Azores","-60,0":"Atlantic/Cape_Verde","0,0":"UTC","0,1":"Europe/London","60,1":"Europe/Berlin","60,0":"Africa/Lagos","60,1,s":"Africa/Windhoek","120,1":"Asia/Beirut","120,0":"Africa/Johannesburg","180,0":"Asia/Baghdad","180,1":"Europe/Moscow","210,1":"Asia/Tehran","240,0":"Asia/Dubai","240,1":"Asia/Baku","270,0":"Asia/Kabul","300,1":"Asia/Yekaterinburg","300,0":"Asia/Karachi","330,0":"Asia/Kolkata","345,0":"Asia/Kathmandu","360,0":"Asia/Dhaka","360,1":"Asia/Omsk","390,0":"Asia/Rangoon","420,1":"Asia/Krasnoyarsk","420,0":"Asia/Jakarta","480,0":"Asia/Shanghai","480,1":"Asia/Irkutsk","525,0":"Australia/Eucla","525,1,s":"Australia/Eucla","540,1":"Asia/Yakutsk","540,0":"Asia/Tokyo","570,0":"Australia/Darwin","570,1,s":"Australia/Adelaide","600,0":"Australia/Brisbane","600,1":"Asia/Vladivostok","600,1,s":"Australia/Sydney","630,1,s":"Australia/Lord_Howe","660,1":"Asia/Kamchatka","660,0":"Pacific/Noumea","690,0":"Pacific/Norfolk","720,1,s":"Pacific/Auckland","720,0":"Pacific/Majuro","765,1,s":"Pacific/Chatham","780,0":"Pacific/Tongatapu","780,1,s":"Pacific/Apia","840,0":"Pacific/Kiritimati"},jstz.olson.dst_rules={years:[2008,2009,2010,2011,2012,2013,2014],zones:[{name:"Africa/Cairo",rules:[{e:12199572e5,s:12090744e5},{e:1250802e6,s:1240524e6},{e:12858804e5,s:12840696e5},!1,!1,!1,{e:14116788e5,s:1406844e6}]},{name:"Africa/Casablanca",rules:[{e:12202236e5,s:12122784e5},{e:12508092e5,s:12438144e5},{e:1281222e6,s:12727584e5},{e:13120668e5,s:13017888e5},{e:13489704e5,s:1345428e6},{e:13828392e5,s:13761e8},{e:14142888e5,s:14069448e5}]},{name:"America/Asuncion",rules:[{e:12050316e5,s:12243888e5},{e:12364812e5,s:12558384e5},{e:12709548e5,s:12860784e5},{e:13024044e5,s:1317528e6},{e:1333854e6,s:13495824e5},{e:1364094e6,s:1381032e6},{e:13955436e5,s:14124816e5}]},{name:"America/Campo_Grande",rules:[{e:12032172e5,s:12243888e5},{e:12346668e5,s:12558384e5},{e:12667212e5,s:1287288e6},{e:12981708e5,s:13187376e5},{e:13302252e5,s:1350792e6},{e:136107e7,s:13822416e5},{e:13925196e5,s:14136912e5}]},{name:"America/Goose_Bay",rules:[{e:122559486e4,s:120503526e4},{e:125704446e4,s:123648486e4},{e:128909886e4,s:126853926e4},{e:13205556e5,s:129998886e4},{e:13520052e5,s:13314456e5},{e:13834548e5,s:13628952e5},{e:14149044e5,s:13943448e5}]},{name:"America/Havana",rules:[{e:12249972e5,s:12056436e5},{e:12564468e5,s:12364884e5},{e:12885012e5,s:12685428e5},{e:13211604e5,s:13005972e5},{e:13520052e5,s:13332564e5},{e:13834548e5,s:13628916e5},{e:14149044e5,s:13943412e5}]},{name:"America/Mazatlan",rules:[{e:1225008e6,s:12074724e5},{e:12564576e5,s:1238922e6},{e:1288512e6,s:12703716e5},{e:13199616e5,s:13018212e5},{e:13514112e5,s:13332708e5},{e:13828608e5,s:13653252e5},{e:14143104e5,s:13967748e5}]},{name:"America/Mexico_City",rules:[{e:12250044e5,s:12074688e5},{e:1256454e6,s:12389184e5},{e:12885084e5,s:1270368e6},{e:1319958e6,s:13018176e5},{e:13514076e5,s:13332672e5},{e:13828572e5,s:13653216e5},{e:14143068e5,s:13967712e5}]},{name:"America/Miquelon",rules:[{e:12255984e5,s:12050388e5},{e:1257048e6,s:12364884e5},{e:12891024e5,s:12685428e5},{e:1320552e6,s:12999924e5},{e:13520016e5,s:1331442e6},{e:13834512e5,s:13628916e5},{e:14149008e5,s:13943412e5}]},{name:"America/Santa_Isabel",rules:[{e:12250116e5,s:1207476e6},{e:12564612e5,s:12389256e5},{e:12885156e5,s:12703752e5},{e:13199652e5,s:13018248e5},{e:13514148e5,s:13332744e5},{e:13828644e5,s:13653288e5},{e:1414314e6,s:13967784e5}]},{name:"America/Santiago",rules:[{e:1206846e6,s:1223784e6},{e:1237086e6,s:12552336e5},{e:127035e7,s:12866832e5},{e:13048236e5,s:13138992e5},{e:13356684e5,s:13465584e5},{e:1367118e6,s:13786128e5},{e:13985676e5,s:14100624e5}]},{name:"America/Sao_Paulo",rules:[{e:12032136e5,s:12243852e5},{e:12346632e5,s:12558348e5},{e:12667176e5,s:12872844e5},{e:12981672e5,s:1318734e6},{e:13302216e5,s:13507884e5},{e:13610664e5,s:1382238e6},{e:1392516e6,s:14136876e5}]},{name:"Asia/Amman",rules:[{e:1225404e6,s:12066552e5},{e:12568536e5,s:12381048e5},{e:12883032e5,s:12695544e5},{e:13197528e5,s:13016088e5},!1,!1,{e:14147064e5,s:13959576e5}]},{name:"Asia/Damascus",rules:[{e:12254868e5,s:120726e7},{e:125685e7,s:12381048e5},{e:12882996e5,s:12701592e5},{e:13197492e5,s:13016088e5},{e:13511988e5,s:13330584e5},{e:13826484e5,s:1364508e6},{e:14147028e5,s:13959576e5}]},{name:"Asia/Dubai",rules:[!1,!1,!1,!1,!1,!1,!1]},{name:"Asia/Gaza",rules:[{e:12199572e5,s:12066552e5},{e:12520152e5,s:12381048e5},{e:1281474e6,s:126964086e4},{e:1312146e6,s:130160886e4},{e:13481784e5,s:13330584e5},{e:13802292e5,s:1364508e6},{e:1414098e6,s:13959576e5}]},{name:"Asia/Irkutsk",rules:[{e:12249576e5,s:12068136e5},{e:12564072e5,s:12382632e5},{e:12884616e5,s:12697128e5},!1,!1,!1,!1]},{name:"Asia/Jerusalem",rules:[{e:12231612e5,s:12066624e5},{e:1254006e6,s:1238112e6},{e:1284246e6,s:12695616e5},{e:131751e7,s:1301616e6},{e:13483548e5,s:13330656e5},{e:13828284e5,s:13645152e5},{e:1414278e6,s:13959648e5}]},{name:"Asia/Kamchatka",rules:[{e:12249432e5,s:12067992e5},{e:12563928e5,s:12382488e5},{e:12884508e5,s:12696984e5},!1,!1,!1,!1]},{name:"Asia/Krasnoyarsk",rules:[{e:12249612e5,s:12068172e5},{e:12564108e5,s:12382668e5},{e:12884652e5,s:12697164e5},!1,!1,!1,!1]},{name:"Asia/Omsk",rules:[{e:12249648e5,s:12068208e5},{e:12564144e5,s:12382704e5},{e:12884688e5,s:126972e7},!1,!1,!1,!1]},{name:"Asia/Vladivostok",rules:[{e:12249504e5,s:12068064e5},{e:12564e8,s:1238256e6},{e:12884544e5,s:12697056e5},!1,!1,!1,!1]},{name:"Asia/Yakutsk",rules:[{e:1224954e6,s:120681e7},{e:12564036e5,s:12382596e5},{e:1288458e6,s:12697092e5},!1,!1,!1,!1]},{name:"Asia/Yekaterinburg",rules:[{e:12249684e5,s:12068244e5},{e:1256418e6,s:1238274e6},{e:12884724e5,s:12697236e5},!1,!1,!1,!1]},{name:"Asia/Yerevan",rules:[{e:1224972e6,s:1206828e6},{e:12564216e5,s:12382776e5},{e:1288476e6,s:12697272e5},{e:13199256e5,s:13011768e5},!1,!1,!1]},{name:"Australia/Lord_Howe",rules:[{e:12074076e5,s:12231342e5},{e:12388572e5,s:12545838e5},{e:12703068e5,s:12860334e5},{e:13017564e5,s:1317483e6},{e:1333206e6,s:13495374e5},{e:13652604e5,s:1380987e6},{e:139671e7,s:14124366e5}]},{name:"Australia/Perth",rules:[{e:12068136e5,s:12249576e5},!1,!1,!1,!1,!1,!1]},{name:"Europe/Helsinki",rules:[{e:12249828e5,s:12068388e5},{e:12564324e5,s:12382884e5},{e:12884868e5,s:1269738e6},{e:13199364e5,s:13011876e5},{e:1351386e6,s:13326372e5},{e:13828356e5,s:13646916e5},{e:14142852e5,s:13961412e5}]},{name:"Europe/Minsk",rules:[{e:12249792e5,s:12068352e5},{e:12564288e5,s:12382848e5},{e:12884832e5,s:12697344e5},!1,!1,!1,!1]},{name:"Europe/Moscow",rules:[{e:12249756e5,s:12068316e5},{e:12564252e5,s:12382812e5},{e:12884796e5,s:12697308e5},!1,!1,!1,!1]},{name:"Pacific/Apia",rules:[!1,!1,!1,{e:13017528e5,s:13168728e5},{e:13332024e5,s:13489272e5},{e:13652568e5,s:13803768e5},{e:13967064e5,s:14118264e5}]},{name:"Pacific/Fiji",rules:[!1,!1,{e:12696984e5,s:12878424e5},{e:13271544e5,s:1319292e6},{e:1358604e6,s:13507416e5},{e:139005e7,s:1382796e6},{e:14215032e5,s:14148504e5}]},{name:"Europe/London",rules:[{e:12249828e5,s:12068388e5},{e:12564324e5,s:12382884e5},{e:12884868e5,s:1269738e6},{e:13199364e5,s:13011876e5},{e:1351386e6,s:13326372e5},{e:13828356e5,s:13646916e5},{e:14142852e5,s:13961412e5}]}]},void 0!==module&&void 0!==module.exports?module.exports=jstz:void 0!==define&&null!==define&&null!=define.amd?define([],function(){return jstz}):window.jstz=jstz}).call(window)},1727:function(module,exports){var define=void 0,require=void 0;module=void 0;(function(){!function(root,factory){"use strict";"function"==typeof define&&define.amd?define(["moment"],factory):"object"==typeof module&&module.exports?module.exports=factory(require("moment")):factory(root.moment)}(this,function(moment){"use strict";var cachedGuess,zones={},links={},names={},guesses={},momentVersion=moment.version.split("."),major=+momentVersion[0],minor=+momentVersion[1];function charCodeToInt(charCode){return charCode>96?charCode-87:charCode>64?charCode-29:charCode-48}function unpackBase60(string){var i=0,parts=string.split("."),whole=parts[0],fractional=parts[1]||"",multiplier=1,out=0,sign=1;for(45===string.charCodeAt(0)&&(i=1,sign=-1);i<whole.length;i++)out=60*out+charCodeToInt(whole.charCodeAt(i));for(i=0;i<fractional.length;i++)multiplier/=60,out+=charCodeToInt(fractional.charCodeAt(i))*multiplier;return out*sign}function arrayToInt(array){for(var i=0;i<array.length;i++)array[i]=unpackBase60(array[i])}function mapIndices(source,indices){var i,out=[];for(i=0;i<indices.length;i++)out[i]=source[indices[i]];return out}function unpack(string){var data=string.split("|"),offsets=data[2].split(" "),indices=data[3].split(""),untils=data[4].split(" ");return arrayToInt(offsets),arrayToInt(indices),arrayToInt(untils),function(array,length){for(var i=0;i<length;i++)array[i]=Math.round((array[i-1]||0)+6e4*array[i]);array[length-1]=1/0}(untils,indices.length),{name:data[0],abbrs:mapIndices(data[1].split(" "),indices),offsets:mapIndices(offsets,indices),untils:untils,population:0|data[5]}}function Zone(packedString){packedString&&this._set(unpack(packedString))}function OffsetAt(at){var timeString=at.toTimeString(),abbr=timeString.match(/\([a-z ]+\)/i);"GMT"===(abbr=abbr&&abbr[0]?(abbr=abbr[0].match(/[A-Z]/g))?abbr.join(""):void 0:(abbr=timeString.match(/[A-Z]{3,5}/g))?abbr[0]:void 0)&&(abbr=void 0),this.at=+at,this.abbr=abbr,this.offset=at.getTimezoneOffset()}function ZoneScore(zone){this.zone=zone,this.offsetScore=0,this.abbrScore=0}function findChange(low,high){for(var mid,diff;diff=6e4*((high.at-low.at)/12e4|0);)(mid=new OffsetAt(new Date(low.at+diff))).offset===low.offset?low=mid:high=mid;return low}function sortZoneScores(a,b){return a.offsetScore!==b.offsetScore?a.offsetScore-b.offsetScore:a.abbrScore!==b.abbrScore?a.abbrScore-b.abbrScore:b.zone.population-a.zone.population}function addToGuesses(name,offsets){var i,offset;for(arrayToInt(offsets),i=0;i<offsets.length;i++)offset=offsets[i],guesses[offset]=guesses[offset]||{},guesses[offset][name]=!0}function guessesForUserOffsets(offsets){var i,j,guessesOffset,offsetsLength=offsets.length,filteredGuesses={},out=[];for(i=0;i<offsetsLength;i++)for(j in guessesOffset=guesses[offsets[i].offset]||{})guessesOffset.hasOwnProperty(j)&&(filteredGuesses[j]=!0);for(i in filteredGuesses)filteredGuesses.hasOwnProperty(i)&&out.push(names[i]);return out}function rebuildGuess(){try{var intlName=Intl.DateTimeFormat().resolvedOptions().timeZone;if(intlName){var name=names[normalizeName(intlName)];if(name)return name;logError("Moment Timezone found "+intlName+" from the Intl api, but did not have that data loaded.")}}catch(e){}var zoneScore,i,j,offsets=function(){var change,next,i,startYear=(new Date).getFullYear()-2,last=new OffsetAt(new Date(startYear,0,1)),offsets=[last];for(i=1;i<48;i++)(next=new OffsetAt(new Date(startYear,i,1))).offset!==last.offset&&(change=findChange(last,next),offsets.push(change),offsets.push(new OffsetAt(new Date(change.at+6e4)))),last=next;for(i=0;i<4;i++)offsets.push(new OffsetAt(new Date(startYear+i,0,1))),offsets.push(new OffsetAt(new Date(startYear+i,6,1)));return offsets}(),offsetsLength=offsets.length,guesses=guessesForUserOffsets(offsets),zoneScores=[];for(i=0;i<guesses.length;i++){for(zoneScore=new ZoneScore(getZone(guesses[i]),offsetsLength),j=0;j<offsetsLength;j++)zoneScore.scoreOffsetAt(offsets[j]);zoneScores.push(zoneScore)}return zoneScores.sort(sortZoneScores),zoneScores.length>0?zoneScores[0].zone.name:void 0}function normalizeName(name){return(name||"").toLowerCase().replace(/\//g,"_")}function addZone(packed){var i,name,split,normalized;for("string"==typeof packed&&(packed=[packed]),i=0;i<packed.length;i++)normalized=normalizeName(name=(split=packed[i].split("|"))[0]),zones[normalized]=packed[i],names[normalized]=name,split[5]&&addToGuesses(normalized,split[2].split(" "))}function getZone(name,caller){name=normalizeName(name);var link,zone=zones[name];return zone instanceof Zone?zone:"string"==typeof zone?(zone=new Zone(zone),zones[name]=zone,zone):links[name]&&caller!==getZone&&(link=getZone(links[name],getZone))?((zone=zones[name]=new Zone)._set(link),zone.name=names[name],zone):null}function addLink(aliases){var i,alias,normal0,normal1;for("string"==typeof aliases&&(aliases=[aliases]),i=0;i<aliases.length;i++)normal0=normalizeName((alias=aliases[i].split("|"))[0]),normal1=normalizeName(alias[1]),links[normal0]=normal1,names[normal0]=alias[0],links[normal1]=normal0,names[normal1]=alias[1]}function loadData(data){addZone(data.zones),addLink(data.links),tz.dataVersion=data.version}function needsOffset(m){return!(!m._a||void 0!==m._tzm)}function logError(message){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(message)}function tz(input){var args=Array.prototype.slice.call(arguments,0,-1),name=arguments[arguments.length-1],zone=getZone(name),out=moment.utc.apply(null,args);return zone&&!moment.isMoment(input)&&needsOffset(out)&&out.add(zone.parse(out),"minutes"),out.tz(name),out}(major<2||2===major&&minor<6)&&logError("Moment Timezone requires Moment.js >= 2.6.0. You are using Moment.js "+moment.version+". See momentjs.com"),Zone.prototype={_set:function(unpacked){this.name=unpacked.name,this.abbrs=unpacked.abbrs,this.untils=unpacked.untils,this.offsets=unpacked.offsets,this.population=unpacked.population},_index:function(timestamp){var i,target=+timestamp,untils=this.untils;for(i=0;i<untils.length;i++)if(target<untils[i])return i},parse:function(timestamp){var offset,offsetNext,offsetPrev,i,target=+timestamp,offsets=this.offsets,untils=this.untils,max=untils.length-1;for(i=0;i<max;i++)if(offset=offsets[i],offsetNext=offsets[i+1],offsetPrev=offsets[i?i-1:i],offset<offsetNext&&tz.moveAmbiguousForward?offset=offsetNext:offset>offsetPrev&&tz.moveInvalidForward&&(offset=offsetPrev),target<untils[i]-6e4*offset)return offsets[i];return offsets[max]},abbr:function(mom){return this.abbrs[this._index(mom)]},offset:function(mom){return this.offsets[this._index(mom)]}},ZoneScore.prototype.scoreOffsetAt=function(offsetAt){this.offsetScore+=Math.abs(this.zone.offset(offsetAt.at)-offsetAt.offset),this.zone.abbr(offsetAt.at).replace(/[^A-Z]/g,"")!==offsetAt.abbr&&this.abbrScore++},tz.version="0.5.13",tz.dataVersion="",tz._zones=zones,tz._links=links,tz._names=names,tz.add=addZone,tz.link=addLink,tz.load=loadData,tz.zone=getZone,tz.zoneExists=function zoneExists(name){return zoneExists.didShowError||(zoneExists.didShowError=!0,logError("moment.tz.zoneExists('"+name+"') has been deprecated in favor of !moment.tz.zone('"+name+"')")),!!getZone(name)},tz.guess=function(ignoreCache){return cachedGuess&&!ignoreCache||(cachedGuess=rebuildGuess()),cachedGuess},tz.names=function(){var i,out=[];for(i in names)names.hasOwnProperty(i)&&(zones[i]||zones[links[i]])&&names[i]&&out.push(names[i]);return out.sort()},tz.Zone=Zone,tz.unpack=unpack,tz.unpackBase60=unpackBase60,tz.needsOffset=needsOffset,tz.moveInvalidForward=!0,tz.moveAmbiguousForward=!1;var old,fn=moment.fn;function abbrWrap(old){return function(){return this._z?this._z.abbr(this):old.call(this)}}moment.tz=tz,moment.defaultZone=null,moment.updateOffset=function(mom,keepTime){var offset,zone=moment.defaultZone;void 0===mom._z&&(zone&&needsOffset(mom)&&!mom._isUTC&&(mom._d=moment.utc(mom._a)._d,mom.utc().add(zone.parse(mom),"minutes")),mom._z=zone),mom._z&&(offset=mom._z.offset(mom),Math.abs(offset)<16&&(offset/=60),void 0!==mom.utcOffset?mom.utcOffset(-offset,keepTime):mom.zone(offset,keepTime))},fn.tz=function(name){return name?(this._z=getZone(name),this._z?moment.updateOffset(this):logError("Moment Timezone has no data for "+name+". See http://momentjs.com/timezone/docs/#/data-loading/."),this):this._z?this._z.name:void 0},fn.zoneName=abbrWrap(fn.zoneName),fn.zoneAbbr=abbrWrap(fn.zoneAbbr),fn.utc=(old=fn.utc,function(){return this._z=null,old.apply(this,arguments)}),moment.tz.setDefault=function(name){return(major<2||2===major&&minor<9)&&logError("Moment Timezone setDefault() requires Moment.js >= 2.9.0. You are using Moment.js "+moment.version+"."),moment.defaultZone=name?getZone(name):null,moment};var momentProperties=moment.momentProperties;return"[object Array]"===Object.prototype.toString.call(momentProperties)?(momentProperties.push("_z"),momentProperties.push("_a")):momentProperties&&(momentProperties._z=null),loadData({version:"2017b",zones:["Africa/Abidjan|GMT|0|0||48e5","Africa/Khartoum|EAT|-30|0||51e5","Africa/Algiers|CET|-10|0||26e5","Africa/Lagos|WAT|-10|0||17e6","Africa/Maputo|CAT|-20|0||26e5","Africa/Cairo|EET EEST|-20 -30|01010|1M2m0 gL0 e10 mn0|15e6","Africa/Casablanca|WET WEST|0 -10|0101010101010101010101010101010101010101010|1H3C0 wM0 co0 go0 1o00 s00 dA0 vc0 11A0 A00 e00 y00 11A0 uM0 e00 Dc0 11A0 s00 e00 IM0 WM0 mo0 gM0 LA0 WM0 jA0 e00 Rc0 11A0 e00 e00 U00 11A0 8o0 e00 11A0 11A0 5A0 e00 17c0 1fA0 1a00|32e5","Europe/Paris|CET CEST|-10 -20|01010101010101010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|11e6","Africa/Johannesburg|SAST|-20|0||84e5","Africa/Tripoli|EET CET CEST|-20 -10 -20|0120|1IlA0 TA0 1o00|11e5","Africa/Windhoek|WAST WAT|-20 -10|01010101010101010101010|1GQo0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0|32e4","America/Adak|HST HDT|a0 90|01010101010101010101010|1GIc0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|326","America/Anchorage|AKST AKDT|90 80|01010101010101010101010|1GIb0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|30e4","America/Santo_Domingo|AST|40|0||29e5","America/Araguaina|-03 -02|30 20|010|1IdD0 Lz0|14e4","America/Fortaleza|-03|30|0||34e5","America/Asuncion|-03 -04|30 40|01010101010101010101010|1GTf0 1cN0 17b0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0|28e5","America/Panama|EST|50|0||15e5","America/Bahia|-02 -03|20 30|01|1GCq0|27e5","America/Mexico_City|CST CDT|60 50|01010101010101010101010|1GQw0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0|20e6","America/Managua|CST|60|0||22e5","America/La_Paz|-04|40|0||19e5","America/Lima|-05|50|0||11e6","America/Denver|MST MDT|70 60|01010101010101010101010|1GI90 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|26e5","America/Campo_Grande|-03 -04|30 40|01010101010101010101010|1GCr0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0|77e4","America/Cancun|CST CDT EST|60 50 50|01010102|1GQw0 1nX0 14p0 1lb0 14p0 1lb0 Dd0|63e4","America/Caracas|-0430 -04|4u 40|01|1QMT0|29e5","America/Chicago|CST CDT|60 50|01010101010101010101010|1GI80 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|92e5","America/Chihuahua|MST MDT|70 60|01010101010101010101010|1GQx0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0|81e4","America/Phoenix|MST|70|0||42e5","America/Los_Angeles|PST PDT|80 70|01010101010101010101010|1GIa0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|15e6","America/New_York|EST EDT|50 40|01010101010101010101010|1GI70 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|21e6","America/Rio_Branco|-04 -05|40 50|01|1KLE0|31e4","America/Fort_Nelson|PST PDT MST|80 70 70|01010102|1GIa0 1zb0 Op0 1zb0 Op0 1zb0 Op0|39e2","America/Halifax|AST ADT|40 30|01010101010101010101010|1GI60 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|39e4","America/Godthab|-03 -02|30 20|01010101010101010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|17e3","America/Grand_Turk|EST EDT AST|50 40 40|010101012|1GI70 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|37e2","America/Havana|CST CDT|50 40|01010101010101010101010|1GQt0 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0|21e5","America/Metlakatla|PST AKST AKDT|80 90 80|0121212121212121|1PAa0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|14e2","America/Miquelon|-03 -02|30 20|01010101010101010101010|1GI50 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|61e2","America/Montevideo|-02 -03|20 30|01010101|1GI40 1o10 11z0 1o10 11z0 1o10 11z0|17e5","America/Noronha|-02|20|0||30e2","America/Port-au-Prince|EST EDT|50 40|010101010101010101010|1GI70 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 3iN0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|23e5","Antarctica/Palmer|-03 -04|30 40|010101010|1H3D0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0|40","America/Santiago|-03 -04|30 40|010101010101010101010|1H3D0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Dd0 1Nb0 Ap0|62e5","America/Sao_Paulo|-02 -03|20 30|01010101010101010101010|1GCq0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0|20e6","Atlantic/Azores|-01 +00|10 0|01010101010101010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|25e4","America/St_Johns|NST NDT|3u 2u|01010101010101010101010|1GI5u 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0|11e4","Antarctica/Casey|+11 +08|-b0 -80|010|1GAF0 blz0|10","Antarctica/Davis|+05 +07|-50 -70|01|1GAI0|70","Pacific/Port_Moresby|+10|-a0|0||25e4","Pacific/Guadalcanal|+11|-b0|0||11e4","Asia/Tashkent|+05|-50|0||23e5","Pacific/Auckland|NZDT NZST|-d0 -c0|01010101010101010101010|1GQe0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00|14e5","Asia/Baghdad|+03|-30|0||66e5","Antarctica/Troll|+00 +02|0 -20|01010101010101010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|40","Asia/Dhaka|+06|-60|0||16e6","Asia/Amman|EET EEST|-20 -30|010101010101010101010|1GPy0 4bX0 Dd0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00|25e5","Asia/Kamchatka|+12|-c0|0||18e4","Asia/Baku|+04 +05|-40 -50|010101010|1GNA0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00|27e5","Asia/Bangkok|+07|-70|0||15e6","Asia/Barnaul|+07 +06|-70 -60|010|1N7v0 3rd0","Asia/Beirut|EET EEST|-20 -30|01010101010101010101010|1GNy0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0|22e5","Asia/Manila|+08|-80|0||24e6","Asia/Kolkata|IST|-5u|0||15e6","Asia/Chita|+10 +08 +09|-a0 -80 -90|012|1N7s0 3re0|33e4","Asia/Ulaanbaatar|+08 +09|-80 -90|01010|1O8G0 1cJ0 1cP0 1cJ0|12e5","Asia/Shanghai|CST|-80|0||23e6","Asia/Colombo|+0530|-5u|0||22e5","Asia/Damascus|EET EEST|-20 -30|01010101010101010101010|1GPy0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0|26e5","Asia/Dili|+09|-90|0||19e4","Asia/Dubai|+04|-40|0||39e5","Asia/Famagusta|EET EEST +03|-20 -30 -30|01010101012|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 15U0","Asia/Gaza|EET EEST|-20 -30|01010101010101010101010|1GPy0 1a00 1fA0 1cL0 1cN0 1nX0 1210 1nz0 1220 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0|18e5","Asia/Hong_Kong|HKT|-80|0||73e5","Asia/Hovd|+07 +08|-70 -80|01010|1O8H0 1cJ0 1cP0 1cJ0|81e3","Asia/Irkutsk|+09 +08|-90 -80|01|1N7t0|60e4","Europe/Istanbul|EET EEST +03|-20 -30 -30|01010101012|1GNB0 1qM0 11A0 1o00 1200 1nA0 11A0 1tA0 U00 15w0|13e6","Asia/Jakarta|WIB|-70|0||31e6","Asia/Jayapura|WIT|-90|0||26e4","Asia/Jerusalem|IST IDT|-20 -30|01010101010101010101010|1GPA0 1aL0 1eN0 1oL0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0|81e4","Asia/Kabul|+0430|-4u|0||46e5","Asia/Karachi|PKT|-50|0||24e6","Asia/Kathmandu|+0545|-5J|0||12e5","Asia/Yakutsk|+10 +09|-a0 -90|01|1N7s0|28e4","Asia/Krasnoyarsk|+08 +07|-80 -70|01|1N7u0|10e5","Asia/Magadan|+12 +10 +11|-c0 -a0 -b0|012|1N7q0 3Cq0|95e3","Asia/Makassar|WITA|-80|0||15e5","Europe/Athens|EET EEST|-20 -30|01010101010101010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|35e5","Asia/Novosibirsk|+07 +06|-70 -60|010|1N7v0 4eN0|15e5","Asia/Omsk|+07 +06|-70 -60|01|1N7v0|12e5","Asia/Pyongyang|KST KST|-90 -8u|01|1P4D0|29e5","Asia/Rangoon|+0630|-6u|0||48e5","Asia/Sakhalin|+11 +10|-b0 -a0|010|1N7r0 3rd0|58e4","Asia/Seoul|KST|-90|0||23e6","Asia/Srednekolymsk|+12 +11|-c0 -b0|01|1N7q0|35e2","Asia/Tehran|+0330 +0430|-3u -4u|01010101010101010101010|1GLUu 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0|14e6","Asia/Tokyo|JST|-90|0||38e6","Asia/Tomsk|+07 +06|-70 -60|010|1N7v0 3Qp0|10e5","Asia/Vladivostok|+11 +10|-b0 -a0|01|1N7r0|60e4","Asia/Yekaterinburg|+06 +05|-60 -50|01|1N7w0|14e5","Europe/Lisbon|WET WEST|0 -10|01010101010101010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|27e5","Atlantic/Cape_Verde|-01|10|0||50e4","Australia/Sydney|AEDT AEST|-b0 -a0|01010101010101010101010|1GQg0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0|40e5","Australia/Adelaide|ACDT ACST|-au -9u|01010101010101010101010|1GQgu 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0|11e5","Australia/Brisbane|AEST|-a0|0||20e5","Australia/Darwin|ACST|-9u|0||12e4","Australia/Eucla|+0845|-8J|0||368","Australia/Lord_Howe|+11 +1030|-b0 -au|01010101010101010101010|1GQf0 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu|347","Australia/Perth|AWST|-80|0||18e5","Pacific/Easter|-05 -06|50 60|010101010101010101010|1H3D0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Dd0 1Nb0 Ap0|30e2","Europe/Dublin|GMT IST|0 -10|01010101010101010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|12e5","Pacific/Tahiti|-10|a0|0||18e4","Pacific/Niue|-11|b0|0||12e2","Etc/GMT+12|-12|c0|0|","Pacific/Galapagos|-06|60|0||25e3","Etc/GMT+7|-07|70|0|","Pacific/Pitcairn|-08|80|0||56","Pacific/Gambier|-09|90|0||125","Etc/GMT-1|+01|-10|0|","Pacific/Fakaofo|+13|-d0|0||483","Pacific/Kiritimati|+14|-e0|0||51e2","Etc/GMT-2|+02|-20|0|","Etc/UCT|UCT|0|0|","Etc/UTC|UTC|0|0|","Europe/Astrakhan|+04 +03|-40 -30|010|1N7y0 3rd0","Europe/London|GMT BST|0 -10|01010101010101010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|10e6","Europe/Chisinau|EET EEST|-20 -30|01010101010101010101010|1GNA0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|67e4","Europe/Kaliningrad|+03 EET|-30 -20|01|1N7z0|44e4","Europe/Volgograd|+04 +03|-40 -30|01|1N7y0|10e5","Europe/Moscow|MSK MSK|-40 -30|01|1N7y0|16e6","Europe/Saratov|+04 +03|-40 -30|010|1N7y0 5810","Europe/Simferopol|EET EEST MSK MSK|-20 -30 -40 -30|0101023|1GNB0 1qM0 11A0 1o00 11z0 1nW0|33e4","Pacific/Honolulu|HST|a0|0||37e4","MET|MET MEST|-10 -20|01010101010101010101010|1GNB0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0","Pacific/Chatham|+1345 +1245|-dJ -cJ|01010101010101010101010|1GQe0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00|600","Pacific/Apia|+14 +13|-e0 -d0|01010101010101010101010|1GQe0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00|37e3","Pacific/Bougainville|+10 +11|-a0 -b0|01|1NwE0|18e4","Pacific/Fiji|+13 +12|-d0 -c0|01010101010101010101010|1Goe0 1Nc0 Ao0 1Q00 xz0 1SN0 uM0 1SM0 uM0 1VA0 s00 1VA0 uM0 1SM0 uM0 1SM0 uM0 1SM0 uM0 1VA0 s00 1VA0|88e4","Pacific/Guam|ChST|-a0|0||17e4","Pacific/Marquesas|-0930|9u|0||86e2","Pacific/Pago_Pago|SST|b0|0||37e2","Pacific/Norfolk|+1130 +11|-bu -b0|01|1PoCu|25e4","Pacific/Tongatapu|+13 +14|-d0 -e0|01010101010101|1S4d0 s00 1VA0 uM0 1SM0 uM0 1SM0 uM0 1SM0 uM0 1VA0 s00 1VA0|75e3"],links:["Africa/Abidjan|Africa/Accra","Africa/Abidjan|Africa/Bamako","Africa/Abidjan|Africa/Banjul","Africa/Abidjan|Africa/Bissau","Africa/Abidjan|Africa/Conakry","Africa/Abidjan|Africa/Dakar","Africa/Abidjan|Africa/Freetown","Africa/Abidjan|Africa/Lome","Africa/Abidjan|Africa/Monrovia","Africa/Abidjan|Africa/Nouakchott","Africa/Abidjan|Africa/Ouagadougou","Africa/Abidjan|Africa/Sao_Tome","Africa/Abidjan|Africa/Timbuktu","Africa/Abidjan|America/Danmarkshavn","Africa/Abidjan|Atlantic/Reykjavik","Africa/Abidjan|Atlantic/St_Helena","Africa/Abidjan|Etc/GMT","Africa/Abidjan|Etc/GMT+0","Africa/Abidjan|Etc/GMT-0","Africa/Abidjan|Etc/GMT0","Africa/Abidjan|Etc/Greenwich","Africa/Abidjan|GMT","Africa/Abidjan|GMT+0","Africa/Abidjan|GMT-0","Africa/Abidjan|GMT0","Africa/Abidjan|Greenwich","Africa/Abidjan|Iceland","Africa/Algiers|Africa/Tunis","Africa/Cairo|Egypt","Africa/Casablanca|Africa/El_Aaiun","Africa/Johannesburg|Africa/Maseru","Africa/Johannesburg|Africa/Mbabane","Africa/Khartoum|Africa/Addis_Ababa","Africa/Khartoum|Africa/Asmara","Africa/Khartoum|Africa/Asmera","Africa/Khartoum|Africa/Dar_es_Salaam","Africa/Khartoum|Africa/Djibouti","Africa/Khartoum|Africa/Juba","Africa/Khartoum|Africa/Kampala","Africa/Khartoum|Africa/Mogadishu","Africa/Khartoum|Africa/Nairobi","Africa/Khartoum|Indian/Antananarivo","Africa/Khartoum|Indian/Comoro","Africa/Khartoum|Indian/Mayotte","Africa/Lagos|Africa/Bangui","Africa/Lagos|Africa/Brazzaville","Africa/Lagos|Africa/Douala","Africa/Lagos|Africa/Kinshasa","Africa/Lagos|Africa/Libreville","Africa/Lagos|Africa/Luanda","Africa/Lagos|Africa/Malabo","Africa/Lagos|Africa/Ndjamena","Africa/Lagos|Africa/Niamey","Africa/Lagos|Africa/Porto-Novo","Africa/Maputo|Africa/Blantyre","Africa/Maputo|Africa/Bujumbura","Africa/Maputo|Africa/Gaborone","Africa/Maputo|Africa/Harare","Africa/Maputo|Africa/Kigali","Africa/Maputo|Africa/Lubumbashi","Africa/Maputo|Africa/Lusaka","Africa/Tripoli|Libya","America/Adak|America/Atka","America/Adak|US/Aleutian","America/Anchorage|America/Juneau","America/Anchorage|America/Nome","America/Anchorage|America/Sitka","America/Anchorage|America/Yakutat","America/Anchorage|US/Alaska","America/Campo_Grande|America/Cuiaba","America/Chicago|America/Indiana/Knox","America/Chicago|America/Indiana/Tell_City","America/Chicago|America/Knox_IN","America/Chicago|America/Matamoros","America/Chicago|America/Menominee","America/Chicago|America/North_Dakota/Beulah","America/Chicago|America/North_Dakota/Center","America/Chicago|America/North_Dakota/New_Salem","America/Chicago|America/Rainy_River","America/Chicago|America/Rankin_Inlet","America/Chicago|America/Resolute","America/Chicago|America/Winnipeg","America/Chicago|CST6CDT","America/Chicago|Canada/Central","America/Chicago|US/Central","America/Chicago|US/Indiana-Starke","America/Chihuahua|America/Mazatlan","America/Chihuahua|Mexico/BajaSur","America/Denver|America/Boise","America/Denver|America/Cambridge_Bay","America/Denver|America/Edmonton","America/Denver|America/Inuvik","America/Denver|America/Ojinaga","America/Denver|America/Shiprock","America/Denver|America/Yellowknife","America/Denver|Canada/Mountain","America/Denver|MST7MDT","America/Denver|Navajo","America/Denver|US/Mountain","America/Fortaleza|America/Argentina/Buenos_Aires","America/Fortaleza|America/Argentina/Catamarca","America/Fortaleza|America/Argentina/ComodRivadavia","America/Fortaleza|America/Argentina/Cordoba","America/Fortaleza|America/Argentina/Jujuy","America/Fortaleza|America/Argentina/La_Rioja","America/Fortaleza|America/Argentina/Mendoza","America/Fortaleza|America/Argentina/Rio_Gallegos","America/Fortaleza|America/Argentina/Salta","America/Fortaleza|America/Argentina/San_Juan","America/Fortaleza|America/Argentina/San_Luis","America/Fortaleza|America/Argentina/Tucuman","America/Fortaleza|America/Argentina/Ushuaia","America/Fortaleza|America/Belem","America/Fortaleza|America/Buenos_Aires","America/Fortaleza|America/Catamarca","America/Fortaleza|America/Cayenne","America/Fortaleza|America/Cordoba","America/Fortaleza|America/Jujuy","America/Fortaleza|America/Maceio","America/Fortaleza|America/Mendoza","America/Fortaleza|America/Paramaribo","America/Fortaleza|America/Recife","America/Fortaleza|America/Rosario","America/Fortaleza|America/Santarem","America/Fortaleza|Antarctica/Rothera","America/Fortaleza|Atlantic/Stanley","America/Fortaleza|Etc/GMT+3","America/Halifax|America/Glace_Bay","America/Halifax|America/Goose_Bay","America/Halifax|America/Moncton","America/Halifax|America/Thule","America/Halifax|Atlantic/Bermuda","America/Halifax|Canada/Atlantic","America/Havana|Cuba","America/La_Paz|America/Boa_Vista","America/La_Paz|America/Guyana","America/La_Paz|America/Manaus","America/La_Paz|America/Porto_Velho","America/La_Paz|Brazil/West","America/La_Paz|Etc/GMT+4","America/Lima|America/Bogota","America/Lima|America/Guayaquil","America/Lima|Etc/GMT+5","America/Los_Angeles|America/Dawson","America/Los_Angeles|America/Ensenada","America/Los_Angeles|America/Santa_Isabel","America/Los_Angeles|America/Tijuana","America/Los_Angeles|America/Vancouver","America/Los_Angeles|America/Whitehorse","America/Los_Angeles|Canada/Pacific","America/Los_Angeles|Canada/Yukon","America/Los_Angeles|Mexico/BajaNorte","America/Los_Angeles|PST8PDT","America/Los_Angeles|US/Pacific","America/Los_Angeles|US/Pacific-New","America/Managua|America/Belize","America/Managua|America/Costa_Rica","America/Managua|America/El_Salvador","America/Managua|America/Guatemala","America/Managua|America/Regina","America/Managua|America/Swift_Current","America/Managua|America/Tegucigalpa","America/Managua|Canada/East-Saskatchewan","America/Managua|Canada/Saskatchewan","America/Mexico_City|America/Bahia_Banderas","America/Mexico_City|America/Merida","America/Mexico_City|America/Monterrey","America/Mexico_City|Mexico/General","America/New_York|America/Detroit","America/New_York|America/Fort_Wayne","America/New_York|America/Indiana/Indianapolis","America/New_York|America/Indiana/Marengo","America/New_York|America/Indiana/Petersburg","America/New_York|America/Indiana/Vevay","America/New_York|America/Indiana/Vincennes","America/New_York|America/Indiana/Winamac","America/New_York|America/Indianapolis","America/New_York|America/Iqaluit","America/New_York|America/Kentucky/Louisville","America/New_York|America/Kentucky/Monticello","America/New_York|America/Louisville","America/New_York|America/Montreal","America/New_York|America/Nassau","America/New_York|America/Nipigon","America/New_York|America/Pangnirtung","America/New_York|America/Thunder_Bay","America/New_York|America/Toronto","America/New_York|Canada/Eastern","America/New_York|EST5EDT","America/New_York|US/East-Indiana","America/New_York|US/Eastern","America/New_York|US/Michigan","America/Noronha|Atlantic/South_Georgia","America/Noronha|Brazil/DeNoronha","America/Noronha|Etc/GMT+2","America/Panama|America/Atikokan","America/Panama|America/Cayman","America/Panama|America/Coral_Harbour","America/Panama|America/Jamaica","America/Panama|EST","America/Panama|Jamaica","America/Phoenix|America/Creston","America/Phoenix|America/Dawson_Creek","America/Phoenix|America/Hermosillo","America/Phoenix|MST","America/Phoenix|US/Arizona","America/Rio_Branco|America/Eirunepe","America/Rio_Branco|America/Porto_Acre","America/Rio_Branco|Brazil/Acre","America/Santiago|Chile/Continental","America/Santo_Domingo|America/Anguilla","America/Santo_Domingo|America/Antigua","America/Santo_Domingo|America/Aruba","America/Santo_Domingo|America/Barbados","America/Santo_Domingo|America/Blanc-Sablon","America/Santo_Domingo|America/Curacao","America/Santo_Domingo|America/Dominica","America/Santo_Domingo|America/Grenada","America/Santo_Domingo|America/Guadeloupe","America/Santo_Domingo|America/Kralendijk","America/Santo_Domingo|America/Lower_Princes","America/Santo_Domingo|America/Marigot","America/Santo_Domingo|America/Martinique","America/Santo_Domingo|America/Montserrat","America/Santo_Domingo|America/Port_of_Spain","America/Santo_Domingo|America/Puerto_Rico","America/Santo_Domingo|America/St_Barthelemy","America/Santo_Domingo|America/St_Kitts","America/Santo_Domingo|America/St_Lucia","America/Santo_Domingo|America/St_Thomas","America/Santo_Domingo|America/St_Vincent","America/Santo_Domingo|America/Tortola","America/Santo_Domingo|America/Virgin","America/Sao_Paulo|Brazil/East","America/St_Johns|Canada/Newfoundland","Antarctica/Palmer|America/Punta_Arenas","Asia/Baghdad|Antarctica/Syowa","Asia/Baghdad|Asia/Aden","Asia/Baghdad|Asia/Bahrain","Asia/Baghdad|Asia/Kuwait","Asia/Baghdad|Asia/Qatar","Asia/Baghdad|Asia/Riyadh","Asia/Baghdad|Etc/GMT-3","Asia/Baghdad|Europe/Minsk","Asia/Bangkok|Asia/Ho_Chi_Minh","Asia/Bangkok|Asia/Novokuznetsk","Asia/Bangkok|Asia/Phnom_Penh","Asia/Bangkok|Asia/Saigon","Asia/Bangkok|Asia/Vientiane","Asia/Bangkok|Etc/GMT-7","Asia/Bangkok|Indian/Christmas","Asia/Dhaka|Antarctica/Vostok","Asia/Dhaka|Asia/Almaty","Asia/Dhaka|Asia/Bishkek","Asia/Dhaka|Asia/Dacca","Asia/Dhaka|Asia/Kashgar","Asia/Dhaka|Asia/Qyzylorda","Asia/Dhaka|Asia/Thimbu","Asia/Dhaka|Asia/Thimphu","Asia/Dhaka|Asia/Urumqi","Asia/Dhaka|Etc/GMT-6","Asia/Dhaka|Indian/Chagos","Asia/Dili|Etc/GMT-9","Asia/Dili|Pacific/Palau","Asia/Dubai|Asia/Muscat","Asia/Dubai|Asia/Tbilisi","Asia/Dubai|Asia/Yerevan","Asia/Dubai|Etc/GMT-4","Asia/Dubai|Europe/Samara","Asia/Dubai|Indian/Mahe","Asia/Dubai|Indian/Mauritius","Asia/Dubai|Indian/Reunion","Asia/Gaza|Asia/Hebron","Asia/Hong_Kong|Hongkong","Asia/Jakarta|Asia/Pontianak","Asia/Jerusalem|Asia/Tel_Aviv","Asia/Jerusalem|Israel","Asia/Kamchatka|Asia/Anadyr","Asia/Kamchatka|Etc/GMT-12","Asia/Kamchatka|Kwajalein","Asia/Kamchatka|Pacific/Funafuti","Asia/Kamchatka|Pacific/Kwajalein","Asia/Kamchatka|Pacific/Majuro","Asia/Kamchatka|Pacific/Nauru","Asia/Kamchatka|Pacific/Tarawa","Asia/Kamchatka|Pacific/Wake","Asia/Kamchatka|Pacific/Wallis","Asia/Kathmandu|Asia/Katmandu","Asia/Kolkata|Asia/Calcutta","Asia/Makassar|Asia/Ujung_Pandang","Asia/Manila|Asia/Brunei","Asia/Manila|Asia/Kuala_Lumpur","Asia/Manila|Asia/Kuching","Asia/Manila|Asia/Singapore","Asia/Manila|Etc/GMT-8","Asia/Manila|Singapore","Asia/Rangoon|Asia/Yangon","Asia/Rangoon|Indian/Cocos","Asia/Seoul|ROK","Asia/Shanghai|Asia/Chongqing","Asia/Shanghai|Asia/Chungking","Asia/Shanghai|Asia/Harbin","Asia/Shanghai|Asia/Macao","Asia/Shanghai|Asia/Macau","Asia/Shanghai|Asia/Taipei","Asia/Shanghai|PRC","Asia/Shanghai|ROC","Asia/Tashkent|Antarctica/Mawson","Asia/Tashkent|Asia/Aqtau","Asia/Tashkent|Asia/Aqtobe","Asia/Tashkent|Asia/Ashgabat","Asia/Tashkent|Asia/Ashkhabad","Asia/Tashkent|Asia/Atyrau","Asia/Tashkent|Asia/Dushanbe","Asia/Tashkent|Asia/Oral","Asia/Tashkent|Asia/Samarkand","Asia/Tashkent|Etc/GMT-5","Asia/Tashkent|Indian/Kerguelen","Asia/Tashkent|Indian/Maldives","Asia/Tehran|Iran","Asia/Tokyo|Japan","Asia/Ulaanbaatar|Asia/Choibalsan","Asia/Ulaanbaatar|Asia/Ulan_Bator","Asia/Vladivostok|Asia/Ust-Nera","Asia/Yakutsk|Asia/Khandyga","Atlantic/Azores|America/Scoresbysund","Atlantic/Cape_Verde|Etc/GMT+1","Australia/Adelaide|Australia/Broken_Hill","Australia/Adelaide|Australia/South","Australia/Adelaide|Australia/Yancowinna","Australia/Brisbane|Australia/Lindeman","Australia/Brisbane|Australia/Queensland","Australia/Darwin|Australia/North","Australia/Lord_Howe|Australia/LHI","Australia/Perth|Australia/West","Australia/Sydney|Australia/ACT","Australia/Sydney|Australia/Canberra","Australia/Sydney|Australia/Currie","Australia/Sydney|Australia/Hobart","Australia/Sydney|Australia/Melbourne","Australia/Sydney|Australia/NSW","Australia/Sydney|Australia/Tasmania","Australia/Sydney|Australia/Victoria","Etc/UCT|UCT","Etc/UTC|Etc/Universal","Etc/UTC|Etc/Zulu","Etc/UTC|UTC","Etc/UTC|Universal","Etc/UTC|Zulu","Europe/Astrakhan|Europe/Ulyanovsk","Europe/Athens|Asia/Nicosia","Europe/Athens|EET","Europe/Athens|Europe/Bucharest","Europe/Athens|Europe/Helsinki","Europe/Athens|Europe/Kiev","Europe/Athens|Europe/Mariehamn","Europe/Athens|Europe/Nicosia","Europe/Athens|Europe/Riga","Europe/Athens|Europe/Sofia","Europe/Athens|Europe/Tallinn","Europe/Athens|Europe/Uzhgorod","Europe/Athens|Europe/Vilnius","Europe/Athens|Europe/Zaporozhye","Europe/Chisinau|Europe/Tiraspol","Europe/Dublin|Eire","Europe/Istanbul|Asia/Istanbul","Europe/Istanbul|Turkey","Europe/Lisbon|Atlantic/Canary","Europe/Lisbon|Atlantic/Faeroe","Europe/Lisbon|Atlantic/Faroe","Europe/Lisbon|Atlantic/Madeira","Europe/Lisbon|Portugal","Europe/Lisbon|WET","Europe/London|Europe/Belfast","Europe/London|Europe/Guernsey","Europe/London|Europe/Isle_of_Man","Europe/London|Europe/Jersey","Europe/London|GB","Europe/London|GB-Eire","Europe/Moscow|W-SU","Europe/Paris|Africa/Ceuta","Europe/Paris|Arctic/Longyearbyen","Europe/Paris|Atlantic/Jan_Mayen","Europe/Paris|CET","Europe/Paris|Europe/Amsterdam","Europe/Paris|Europe/Andorra","Europe/Paris|Europe/Belgrade","Europe/Paris|Europe/Berlin","Europe/Paris|Europe/Bratislava","Europe/Paris|Europe/Brussels","Europe/Paris|Europe/Budapest","Europe/Paris|Europe/Busingen","Europe/Paris|Europe/Copenhagen","Europe/Paris|Europe/Gibraltar","Europe/Paris|Europe/Ljubljana","Europe/Paris|Europe/Luxembourg","Europe/Paris|Europe/Madrid","Europe/Paris|Europe/Malta","Europe/Paris|Europe/Monaco","Europe/Paris|Europe/Oslo","Europe/Paris|Europe/Podgorica","Europe/Paris|Europe/Prague","Europe/Paris|Europe/Rome","Europe/Paris|Europe/San_Marino","Europe/Paris|Europe/Sarajevo","Europe/Paris|Europe/Skopje","Europe/Paris|Europe/Stockholm","Europe/Paris|Europe/Tirane","Europe/Paris|Europe/Vaduz","Europe/Paris|Europe/Vatican","Europe/Paris|Europe/Vienna","Europe/Paris|Europe/Warsaw","Europe/Paris|Europe/Zagreb","Europe/Paris|Europe/Zurich","Europe/Paris|Poland","Europe/Volgograd|Europe/Kirov","Pacific/Auckland|Antarctica/McMurdo","Pacific/Auckland|Antarctica/South_Pole","Pacific/Auckland|NZ","Pacific/Chatham|NZ-CHAT","Pacific/Easter|Chile/EasterIsland","Pacific/Fakaofo|Etc/GMT-13","Pacific/Fakaofo|Pacific/Enderbury","Pacific/Galapagos|Etc/GMT+6","Pacific/Gambier|Etc/GMT+9","Pacific/Guadalcanal|Antarctica/Macquarie","Pacific/Guadalcanal|Etc/GMT-11","Pacific/Guadalcanal|Pacific/Efate","Pacific/Guadalcanal|Pacific/Kosrae","Pacific/Guadalcanal|Pacific/Noumea","Pacific/Guadalcanal|Pacific/Pohnpei","Pacific/Guadalcanal|Pacific/Ponape","Pacific/Guam|Pacific/Saipan","Pacific/Honolulu|HST","Pacific/Honolulu|Pacific/Johnston","Pacific/Honolulu|US/Hawaii","Pacific/Kiritimati|Etc/GMT-14","Pacific/Niue|Etc/GMT+11","Pacific/Pago_Pago|Pacific/Midway","Pacific/Pago_Pago|Pacific/Samoa","Pacific/Pago_Pago|US/Samoa","Pacific/Pitcairn|Etc/GMT+8","Pacific/Port_Moresby|Antarctica/DumontDUrville","Pacific/Port_Moresby|Etc/GMT-10","Pacific/Port_Moresby|Pacific/Chuuk","Pacific/Port_Moresby|Pacific/Truk","Pacific/Port_Moresby|Pacific/Yap","Pacific/Tahiti|Etc/GMT+10","Pacific/Tahiti|Pacific/Rarotonga"]}),moment})}).call(window)},1728:function(module,exports){var define=void 0,require=void 0;module=void 0;(function(){var global,factory;global=this,factory=function(){"use strict";var hookCallback;function hooks(){return hookCallback.apply(null,arguments)}function isArray(input){return input instanceof Array||"[object Array]"===Object.prototype.toString.call(input)}function isObject(input){return null!=input&&"[object Object]"===Object.prototype.toString.call(input)}function isUndefined(input){return void 0===input}function isNumber(input){return"number"==typeof input||"[object Number]"===Object.prototype.toString.call(input)}function isDate(input){return input instanceof Date||"[object Date]"===Object.prototype.toString.call(input)}function map(arr,fn){var i,res=[];for(i=0;i<arr.length;++i)res.push(fn(arr[i],i));return res}function hasOwnProp(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function extend(a,b){for(var i in b)hasOwnProp(b,i)&&(a[i]=b[i]);return hasOwnProp(b,"toString")&&(a.toString=b.toString),hasOwnProp(b,"valueOf")&&(a.valueOf=b.valueOf),a}function createUTC(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,!0).utc()}function getParsingFlags(m){return null==m._pf&&(m._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),m._pf}var some$1=Array.prototype.some?Array.prototype.some:function(fun){for(var t=Object(this),len=t.length>>>0,i=0;i<len;i++)if(i in t&&fun.call(this,t[i],i,t))return!0;return!1};function isValid(m){if(null==m._isValid){var flags=getParsingFlags(m),parsedParts=some$1.call(flags.parsedDateParts,function(i){return null!=i}),isNowValid=!isNaN(m._d.getTime())&&flags.overflow<0&&!flags.empty&&!flags.invalidMonth&&!flags.invalidWeekday&&!flags.nullInput&&!flags.invalidFormat&&!flags.userInvalidated&&(!flags.meridiem||flags.meridiem&&parsedParts);if(m._strict&&(isNowValid=isNowValid&&0===flags.charsLeftOver&&0===flags.unusedTokens.length&&void 0===flags.bigHour),null!=Object.isFrozen&&Object.isFrozen(m))return isNowValid;m._isValid=isNowValid}return m._isValid}function createInvalid(flags){var m=createUTC(NaN);return null!=flags?extend(getParsingFlags(m),flags):getParsingFlags(m).userInvalidated=!0,m}var momentProperties=hooks.momentProperties=[];function copyConfig(to,from){var i,prop,val;if(isUndefined(from._isAMomentObject)||(to._isAMomentObject=from._isAMomentObject),isUndefined(from._i)||(to._i=from._i),isUndefined(from._f)||(to._f=from._f),isUndefined(from._l)||(to._l=from._l),isUndefined(from._strict)||(to._strict=from._strict),isUndefined(from._tzm)||(to._tzm=from._tzm),isUndefined(from._isUTC)||(to._isUTC=from._isUTC),isUndefined(from._offset)||(to._offset=from._offset),isUndefined(from._pf)||(to._pf=getParsingFlags(from)),isUndefined(from._locale)||(to._locale=from._locale),momentProperties.length>0)for(i=0;i<momentProperties.length;i++)isUndefined(val=from[prop=momentProperties[i]])||(to[prop]=val);return to}var updateInProgress=!1;function Moment(config){copyConfig(this,config),this._d=new Date(null!=config._d?config._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===updateInProgress&&(updateInProgress=!0,hooks.updateOffset(this),updateInProgress=!1)}function isMoment(obj){return obj instanceof Moment||null!=obj&&null!=obj._isAMomentObject}function absFloor(number){return number<0?Math.ceil(number)||0:Math.floor(number)}function toInt(argumentForCoercion){var coercedNumber=+argumentForCoercion,value=0;return 0!==coercedNumber&&isFinite(coercedNumber)&&(value=absFloor(coercedNumber)),value}function compareArrays(array1,array2,dontConvert){var i,len=Math.min(array1.length,array2.length),lengthDiff=Math.abs(array1.length-array2.length),diffs=0;for(i=0;i<len;i++)(dontConvert&&array1[i]!==array2[i]||!dontConvert&&toInt(array1[i])!==toInt(array2[i]))&&diffs++;return diffs+lengthDiff}function warn(msg){!1===hooks.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+msg)}function deprecate(msg,fn){var firstTime=!0;return extend(function(){if(null!=hooks.deprecationHandler&&hooks.deprecationHandler(null,msg),firstTime){for(var arg,args=[],i=0;i<arguments.length;i++){if(arg="","object"==typeof arguments[i]){for(var key in arg+="\n["+i+"] ",arguments[0])arg+=key+": "+arguments[0][key]+", ";arg=arg.slice(0,-2)}else arg=arguments[i];args.push(arg)}warn(msg+"\nArguments: "+Array.prototype.slice.call(args).join("")+"\n"+(new Error).stack),firstTime=!1}return fn.apply(this,arguments)},fn)}var deprecations={};function deprecateSimple(name,msg){null!=hooks.deprecationHandler&&hooks.deprecationHandler(name,msg),deprecations[name]||(warn(msg),deprecations[name]=!0)}function isFunction(input){return input instanceof Function||"[object Function]"===Object.prototype.toString.call(input)}function mergeConfigs(parentConfig,childConfig){var prop,res=extend({},parentConfig);for(prop in childConfig)hasOwnProp(childConfig,prop)&&(isObject(parentConfig[prop])&&isObject(childConfig[prop])?(res[prop]={},extend(res[prop],parentConfig[prop]),extend(res[prop],childConfig[prop])):null!=childConfig[prop]?res[prop]=childConfig[prop]:delete res[prop]);for(prop in parentConfig)hasOwnProp(parentConfig,prop)&&!hasOwnProp(childConfig,prop)&&isObject(parentConfig[prop])&&(res[prop]=extend({},res[prop]));return res}function Locale(config){null!=config&&this.set(config)}hooks.suppressDeprecationWarnings=!1,hooks.deprecationHandler=null;var keys$1=Object.keys?Object.keys:function(obj){var i,res=[];for(i in obj)hasOwnProp(obj,i)&&res.push(i);return res};var aliases={};function addUnitAlias(unit,shorthand){var lowerCase=unit.toLowerCase();aliases[lowerCase]=aliases[lowerCase+"s"]=aliases[shorthand]=unit}function normalizeUnits(units){return"string"==typeof units?aliases[units]||aliases[units.toLowerCase()]:void 0}function normalizeObjectUnits(inputObject){var normalizedProp,prop,normalizedInput={};for(prop in inputObject)hasOwnProp(inputObject,prop)&&(normalizedProp=normalizeUnits(prop))&&(normalizedInput[normalizedProp]=inputObject[prop]);return normalizedInput}var priorities={};function addUnitPriority(unit,priority){priorities[unit]=priority}function makeGetSet(unit,keepTime){return function(value){return null!=value?(set$1(this,unit,value),hooks.updateOffset(this,keepTime),this):get(this,unit)}}function get(mom,unit){return mom.isValid()?mom._d["get"+(mom._isUTC?"UTC":"")+unit]():NaN}function set$1(mom,unit,value){mom.isValid()&&mom._d["set"+(mom._isUTC?"UTC":"")+unit](value)}function zeroFill(number,targetLength,forceSign){var absNumber=""+Math.abs(number),zerosToFill=targetLength-absNumber.length;return(number>=0?forceSign?"+":"":"-")+Math.pow(10,Math.max(0,zerosToFill)).toString().substr(1)+absNumber}var formattingTokens=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,formatFunctions={},formatTokenFunctions={};function addFormatToken(token,padded,ordinal,callback){var func=callback;"string"==typeof callback&&(func=function(){return this[callback]()}),token&&(formatTokenFunctions[token]=func),padded&&(formatTokenFunctions[padded[0]]=function(){return zeroFill(func.apply(this,arguments),padded[1],padded[2])}),ordinal&&(formatTokenFunctions[ordinal]=function(){return this.localeData().ordinal(func.apply(this,arguments),token)})}function formatMoment(m,format){return m.isValid()?(format=expandFormat(format,m.localeData()),formatFunctions[format]=formatFunctions[format]||function(format){var i,length,input,array=format.match(formattingTokens);for(i=0,length=array.length;i<length;i++)formatTokenFunctions[array[i]]?array[i]=formatTokenFunctions[array[i]]:array[i]=(input=array[i]).match(/\[[\s\S]/)?input.replace(/^\[|\]$/g,""):input.replace(/\\/g,"");return function(mom){var i,output="";for(i=0;i<length;i++)output+=isFunction(array[i])?array[i].call(mom,format):array[i];return output}}(format),formatFunctions[format](m)):m.localeData().invalidDate()}function expandFormat(format,locale){var i=5;function replaceLongDateFormatTokens(input){return locale.longDateFormat(input)||input}for(localFormattingTokens.lastIndex=0;i>=0&&localFormattingTokens.test(format);)format=format.replace(localFormattingTokens,replaceLongDateFormatTokens),localFormattingTokens.lastIndex=0,i-=1;return format}var match1=/\d/,match2=/\d\d/,match3=/\d{3}/,match4=/\d{4}/,match6=/[+-]?\d{6}/,match1to2=/\d\d?/,match3to4=/\d\d\d\d?/,match5to6=/\d\d\d\d\d\d?/,match1to3=/\d{1,3}/,match1to4=/\d{1,4}/,match1to6=/[+-]?\d{1,6}/,matchUnsigned=/\d+/,matchSigned=/[+-]?\d+/,matchOffset=/Z|[+-]\d\d:?\d\d/gi,matchShortOffset=/Z|[+-]\d\d(?::?\d\d)?/gi,matchWord=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,regexes={};function addRegexToken(token,regex,strictRegex){regexes[token]=isFunction(regex)?regex:function(isStrict,localeData){return isStrict&&strictRegex?strictRegex:regex}}function getParseRegexForToken(token,config){return hasOwnProp(regexes,token)?regexes[token](config._strict,config._locale):new RegExp(regexEscape(token.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(matched,p1,p2,p3,p4){return p1||p2||p3||p4})))}function regexEscape(s){return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var tokens={};function addParseToken(token,callback){var i,func=callback;for("string"==typeof token&&(token=[token]),isNumber(callback)&&(func=function(input,array){array[callback]=toInt(input)}),i=0;i<token.length;i++)tokens[token[i]]=func}function addWeekParseToken(token,callback){addParseToken(token,function(input,array,config,token){config._w=config._w||{},callback(input,config._w,config,token)})}function addTimeToArrayFromToken(token,input,config){null!=input&&hasOwnProp(tokens,token)&&tokens[token](input,config._a,config,token)}var YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6,WEEK=7,WEEKDAY=8,indexOf$1=Array.prototype.indexOf?Array.prototype.indexOf:function(o){var i;for(i=0;i<this.length;++i)if(this[i]===o)return i;return-1};function daysInMonth(year,month){return new Date(Date.UTC(year,month+1,0)).getUTCDate()}addFormatToken("M",["MM",2],"Mo",function(){return this.month()+1}),addFormatToken("MMM",0,0,function(format){return this.localeData().monthsShort(this,format)}),addFormatToken("MMMM",0,0,function(format){return this.localeData().months(this,format)}),addUnitAlias("month","M"),addUnitPriority("month",8),addRegexToken("M",match1to2),addRegexToken("MM",match1to2,match2),addRegexToken("MMM",function(isStrict,locale){return locale.monthsShortRegex(isStrict)}),addRegexToken("MMMM",function(isStrict,locale){return locale.monthsRegex(isStrict)}),addParseToken(["M","MM"],function(input,array){array[MONTH]=toInt(input)-1}),addParseToken(["MMM","MMMM"],function(input,array,config,token){var month=config._locale.monthsParse(input,token,config._strict);null!=month?array[MONTH]=month:getParsingFlags(config).invalidMonth=input});var MONTHS_IN_FORMAT=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,defaultLocaleMonths="January_February_March_April_May_June_July_August_September_October_November_December".split("_");var defaultLocaleMonthsShort="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function setMonth(mom,value){var dayOfMonth;if(!mom.isValid())return mom;if("string"==typeof value)if(/^\d+$/.test(value))value=toInt(value);else if(!isNumber(value=mom.localeData().monthsParse(value)))return mom;return dayOfMonth=Math.min(mom.date(),daysInMonth(mom.year(),value)),mom._d["set"+(mom._isUTC?"UTC":"")+"Month"](value,dayOfMonth),mom}function getSetMonth(value){return null!=value?(setMonth(this,value),hooks.updateOffset(this,!0),this):get(this,"Month")}var defaultMonthsShortRegex=matchWord;var defaultMonthsRegex=matchWord;function computeMonthsParse(){function cmpLenRev(a,b){return b.length-a.length}var i,mom,shortPieces=[],longPieces=[],mixedPieces=[];for(i=0;i<12;i++)mom=createUTC([2e3,i]),shortPieces.push(this.monthsShort(mom,"")),longPieces.push(this.months(mom,"")),mixedPieces.push(this.months(mom,"")),mixedPieces.push(this.monthsShort(mom,""));for(shortPieces.sort(cmpLenRev),longPieces.sort(cmpLenRev),mixedPieces.sort(cmpLenRev),i=0;i<12;i++)shortPieces[i]=regexEscape(shortPieces[i]),longPieces[i]=regexEscape(longPieces[i]);for(i=0;i<24;i++)mixedPieces[i]=regexEscape(mixedPieces[i]);this._monthsRegex=new RegExp("^("+mixedPieces.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+longPieces.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+shortPieces.join("|")+")","i")}function daysInYear(year){return isLeapYear(year)?366:365}function isLeapYear(year){return year%4==0&&year%100!=0||year%400==0}addFormatToken("Y",0,0,function(){var y=this.year();return y<=9999?""+y:"+"+y}),addFormatToken(0,["YY",2],0,function(){return this.year()%100}),addFormatToken(0,["YYYY",4],0,"year"),addFormatToken(0,["YYYYY",5],0,"year"),addFormatToken(0,["YYYYYY",6,!0],0,"year"),addUnitAlias("year","y"),addUnitPriority("year",1),addRegexToken("Y",matchSigned),addRegexToken("YY",match1to2,match2),addRegexToken("YYYY",match1to4,match4),addRegexToken("YYYYY",match1to6,match6),addRegexToken("YYYYYY",match1to6,match6),addParseToken(["YYYYY","YYYYYY"],YEAR),addParseToken("YYYY",function(input,array){array[YEAR]=2===input.length?hooks.parseTwoDigitYear(input):toInt(input)}),addParseToken("YY",function(input,array){array[YEAR]=hooks.parseTwoDigitYear(input)}),addParseToken("Y",function(input,array){array[YEAR]=parseInt(input,10)}),hooks.parseTwoDigitYear=function(input){return toInt(input)+(toInt(input)>68?1900:2e3)};var getSetYear=makeGetSet("FullYear",!0);function createUTCDate(y){var date=new Date(Date.UTC.apply(null,arguments));return y<100&&y>=0&&isFinite(date.getUTCFullYear())&&date.setUTCFullYear(y),date}function firstWeekOffset(year,dow,doy){var fwd=7+dow-doy;return-((7+createUTCDate(year,0,fwd).getUTCDay()-dow)%7)+fwd-1}function dayOfYearFromWeeks(year,week,weekday,dow,doy){var resYear,resDayOfYear,dayOfYear=1+7*(week-1)+(7+weekday-dow)%7+firstWeekOffset(year,dow,doy);return dayOfYear<=0?resDayOfYear=daysInYear(resYear=year-1)+dayOfYear:dayOfYear>daysInYear(year)?(resYear=year+1,resDayOfYear=dayOfYear-daysInYear(year)):(resYear=year,resDayOfYear=dayOfYear),{year:resYear,dayOfYear:resDayOfYear}}function weekOfYear(mom,dow,doy){var resWeek,resYear,weekOffset=firstWeekOffset(mom.year(),dow,doy),week=Math.floor((mom.dayOfYear()-weekOffset-1)/7)+1;return week<1?resWeek=week+weeksInYear(resYear=mom.year()-1,dow,doy):week>weeksInYear(mom.year(),dow,doy)?(resWeek=week-weeksInYear(mom.year(),dow,doy),resYear=mom.year()+1):(resYear=mom.year(),resWeek=week),{week:resWeek,year:resYear}}function weeksInYear(year,dow,doy){var weekOffset=firstWeekOffset(year,dow,doy),weekOffsetNext=firstWeekOffset(year+1,dow,doy);return(daysInYear(year)-weekOffset+weekOffsetNext)/7}addFormatToken("w",["ww",2],"wo","week"),addFormatToken("W",["WW",2],"Wo","isoWeek"),addUnitAlias("week","w"),addUnitAlias("isoWeek","W"),addUnitPriority("week",5),addUnitPriority("isoWeek",5),addRegexToken("w",match1to2),addRegexToken("ww",match1to2,match2),addRegexToken("W",match1to2),addRegexToken("WW",match1to2,match2),addWeekParseToken(["w","ww","W","WW"],function(input,week,config,token){week[token.substr(0,1)]=toInt(input)});addFormatToken("d",0,"do","day"),addFormatToken("dd",0,0,function(format){return this.localeData().weekdaysMin(this,format)}),addFormatToken("ddd",0,0,function(format){return this.localeData().weekdaysShort(this,format)}),addFormatToken("dddd",0,0,function(format){return this.localeData().weekdays(this,format)}),addFormatToken("e",0,0,"weekday"),addFormatToken("E",0,0,"isoWeekday"),addUnitAlias("day","d"),addUnitAlias("weekday","e"),addUnitAlias("isoWeekday","E"),addUnitPriority("day",11),addUnitPriority("weekday",11),addUnitPriority("isoWeekday",11),addRegexToken("d",match1to2),addRegexToken("e",match1to2),addRegexToken("E",match1to2),addRegexToken("dd",function(isStrict,locale){return locale.weekdaysMinRegex(isStrict)}),addRegexToken("ddd",function(isStrict,locale){return locale.weekdaysShortRegex(isStrict)}),addRegexToken("dddd",function(isStrict,locale){return locale.weekdaysRegex(isStrict)}),addWeekParseToken(["dd","ddd","dddd"],function(input,week,config,token){var weekday=config._locale.weekdaysParse(input,token,config._strict);null!=weekday?week.d=weekday:getParsingFlags(config).invalidWeekday=input}),addWeekParseToken(["d","e","E"],function(input,week,config,token){week[token]=toInt(input)});var defaultLocaleWeekdays="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");var defaultLocaleWeekdaysShort="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");var defaultLocaleWeekdaysMin="Su_Mo_Tu_We_Th_Fr_Sa".split("_");var defaultWeekdaysRegex=matchWord;var defaultWeekdaysShortRegex=matchWord;var defaultWeekdaysMinRegex=matchWord;function computeWeekdaysParse(){function cmpLenRev(a,b){return b.length-a.length}var i,mom,minp,shortp,longp,minPieces=[],shortPieces=[],longPieces=[],mixedPieces=[];for(i=0;i<7;i++)mom=createUTC([2e3,1]).day(i),minp=this.weekdaysMin(mom,""),shortp=this.weekdaysShort(mom,""),longp=this.weekdays(mom,""),minPieces.push(minp),shortPieces.push(shortp),longPieces.push(longp),mixedPieces.push(minp),mixedPieces.push(shortp),mixedPieces.push(longp);for(minPieces.sort(cmpLenRev),shortPieces.sort(cmpLenRev),longPieces.sort(cmpLenRev),mixedPieces.sort(cmpLenRev),i=0;i<7;i++)shortPieces[i]=regexEscape(shortPieces[i]),longPieces[i]=regexEscape(longPieces[i]),mixedPieces[i]=regexEscape(mixedPieces[i]);this._weekdaysRegex=new RegExp("^("+mixedPieces.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+longPieces.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+shortPieces.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+minPieces.join("|")+")","i")}function hFormat(){return this.hours()%12||12}function meridiem(token,lowercase){addFormatToken(token,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),lowercase)})}function matchMeridiem(isStrict,locale){return locale._meridiemParse}addFormatToken("H",["HH",2],0,"hour"),addFormatToken("h",["hh",2],0,hFormat),addFormatToken("k",["kk",2],0,function(){return this.hours()||24}),addFormatToken("hmm",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)}),addFormatToken("hmmss",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)}),addFormatToken("Hmm",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)}),addFormatToken("Hmmss",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)}),meridiem("a",!0),meridiem("A",!1),addUnitAlias("hour","h"),addUnitPriority("hour",13),addRegexToken("a",matchMeridiem),addRegexToken("A",matchMeridiem),addRegexToken("H",match1to2),addRegexToken("h",match1to2),addRegexToken("k",match1to2),addRegexToken("HH",match1to2,match2),addRegexToken("hh",match1to2,match2),addRegexToken("kk",match1to2,match2),addRegexToken("hmm",match3to4),addRegexToken("hmmss",match5to6),addRegexToken("Hmm",match3to4),addRegexToken("Hmmss",match5to6),addParseToken(["H","HH"],HOUR),addParseToken(["k","kk"],function(input,array,config){var kInput=toInt(input);array[HOUR]=24===kInput?0:kInput}),addParseToken(["a","A"],function(input,array,config){config._isPm=config._locale.isPM(input),config._meridiem=input}),addParseToken(["h","hh"],function(input,array,config){array[HOUR]=toInt(input),getParsingFlags(config).bigHour=!0}),addParseToken("hmm",function(input,array,config){var pos=input.length-2;array[HOUR]=toInt(input.substr(0,pos)),array[MINUTE]=toInt(input.substr(pos)),getParsingFlags(config).bigHour=!0}),addParseToken("hmmss",function(input,array,config){var pos1=input.length-4,pos2=input.length-2;array[HOUR]=toInt(input.substr(0,pos1)),array[MINUTE]=toInt(input.substr(pos1,2)),array[SECOND]=toInt(input.substr(pos2)),getParsingFlags(config).bigHour=!0}),addParseToken("Hmm",function(input,array,config){var pos=input.length-2;array[HOUR]=toInt(input.substr(0,pos)),array[MINUTE]=toInt(input.substr(pos))}),addParseToken("Hmmss",function(input,array,config){var pos1=input.length-4,pos2=input.length-2;array[HOUR]=toInt(input.substr(0,pos1)),array[MINUTE]=toInt(input.substr(pos1,2)),array[SECOND]=toInt(input.substr(pos2))});var globalLocale,getSetHour=makeGetSet("Hours",!0),baseConfig={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:defaultLocaleMonths,monthsShort:defaultLocaleMonthsShort,week:{dow:0,doy:6},weekdays:defaultLocaleWeekdays,weekdaysMin:defaultLocaleWeekdaysMin,weekdaysShort:defaultLocaleWeekdaysShort,meridiemParse:/[ap]\.?m?\.?/i},locales={},localeFamilies={};function normalizeLocale(key){return key?key.toLowerCase().replace("_","-"):key}function loadLocale(name){var oldLocale=null;if(!locales[name]&&void 0!==module&&module&&module.exports)try{oldLocale=globalLocale._abbr,require("./locale/"+name),getSetGlobalLocale(oldLocale)}catch(e){}return locales[name]}function getSetGlobalLocale(key,values){var data;return key&&(data=isUndefined(values)?getLocale(key):defineLocale(key,values))&&(globalLocale=data),globalLocale._abbr}function defineLocale(name,config){if(null!==config){var parentConfig=baseConfig;if(config.abbr=name,null!=locales[name])deprecateSimple("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),parentConfig=locales[name]._config;else if(null!=config.parentLocale){if(null==locales[config.parentLocale])return localeFamilies[config.parentLocale]||(localeFamilies[config.parentLocale]=[]),localeFamilies[config.parentLocale].push({name:name,config:config}),null;parentConfig=locales[config.parentLocale]._config}return locales[name]=new Locale(mergeConfigs(parentConfig,config)),localeFamilies[name]&&localeFamilies[name].forEach(function(x){defineLocale(x.name,x.config)}),getSetGlobalLocale(name),locales[name]}return delete locales[name],null}function getLocale(key){var locale;if(key&&key._locale&&key._locale._abbr&&(key=key._locale._abbr),!key)return globalLocale;if(!isArray(key)){if(locale=loadLocale(key))return locale;key=[key]}return function(names){for(var j,next,locale,split,i=0;i<names.length;){for(j=(split=normalizeLocale(names[i]).split("-")).length,next=(next=normalizeLocale(names[i+1]))?next.split("-"):null;j>0;){if(locale=loadLocale(split.slice(0,j).join("-")))return locale;if(next&&next.length>=j&&compareArrays(split,next,!0)>=j-1)break;j--}i++}return null}(key)}function checkOverflow(m){var overflow,a=m._a;return a&&-2===getParsingFlags(m).overflow&&(overflow=a[MONTH]<0||a[MONTH]>11?MONTH:a[DATE]<1||a[DATE]>daysInMonth(a[YEAR],a[MONTH])?DATE:a[HOUR]<0||a[HOUR]>24||24===a[HOUR]&&(0!==a[MINUTE]||0!==a[SECOND]||0!==a[MILLISECOND])?HOUR:a[MINUTE]<0||a[MINUTE]>59?MINUTE:a[SECOND]<0||a[SECOND]>59?SECOND:a[MILLISECOND]<0||a[MILLISECOND]>999?MILLISECOND:-1,getParsingFlags(m)._overflowDayOfYear&&(overflow<YEAR||overflow>DATE)&&(overflow=DATE),getParsingFlags(m)._overflowWeeks&&-1===overflow&&(overflow=WEEK),getParsingFlags(m)._overflowWeekday&&-1===overflow&&(overflow=WEEKDAY),getParsingFlags(m).overflow=overflow),m}var extendedIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,basicIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tzRegex=/Z|[+-]\d\d(?::?\d\d)?/,isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],isoTimes=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],aspNetJsonRegex=/^\/?Date\((\-?\d+)/i;function configFromISO(config){var i,l,allowTime,dateFormat,timeFormat,tzFormat,string=config._i,match=extendedIsoRegex.exec(string)||basicIsoRegex.exec(string);if(match){for(getParsingFlags(config).iso=!0,i=0,l=isoDates.length;i<l;i++)if(isoDates[i][1].exec(match[1])){dateFormat=isoDates[i][0],allowTime=!1!==isoDates[i][2];break}if(null==dateFormat)return void(config._isValid=!1);if(match[3]){for(i=0,l=isoTimes.length;i<l;i++)if(isoTimes[i][1].exec(match[3])){timeFormat=(match[2]||" ")+isoTimes[i][0];break}if(null==timeFormat)return void(config._isValid=!1)}if(!allowTime&&null!=timeFormat)return void(config._isValid=!1);if(match[4]){if(!tzRegex.exec(match[4]))return void(config._isValid=!1);tzFormat="Z"}config._f=dateFormat+(timeFormat||"")+(tzFormat||""),configFromStringAndFormat(config)}else config._isValid=!1}var basicRfcRegex=/^((?:Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d?\d\s(?:Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(?:\d\d)?\d\d\s)(\d\d:\d\d)(\:\d\d)?(\s(?:UT|GMT|[ECMP][SD]T|[A-IK-Za-ik-z]|[+-]\d{4}))$/;function configFromRFC2822(config){var string,match,dayFormat,dateFormat,timeFormat,tzFormat,timezone,timezoneIndex,timezones={" GMT":" +0000"," EDT":" -0400"," EST":" -0500"," CDT":" -0500"," CST":" -0600"," MDT":" -0600"," MST":" -0700"," PDT":" -0700"," PST":" -0800"};if(string=config._i.replace(/\([^\)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s|\s$/g,""),match=basicRfcRegex.exec(string)){if(dayFormat=match[1]?"ddd"+(5===match[1].length?", ":" "):"",dateFormat="D MMM "+(match[2].length>10?"YYYY ":"YY "),timeFormat="HH:mm"+(match[4]?":ss":""),match[1]){var momentDay=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][new Date(match[2]).getDay()];if(match[1].substr(0,3)!==momentDay)return getParsingFlags(config).weekdayMismatch=!0,void(config._isValid=!1)}switch(match[5].length){case 2:timezone=0===timezoneIndex?" +0000":((timezoneIndex="YXWVUTSRQPONZABCDEFGHIKLM".indexOf(match[5][1].toUpperCase())-12)<0?" -":" +")+(""+timezoneIndex).replace(/^-?/,"0").match(/..$/)[0]+"00";break;case 4:timezone=timezones[match[5]];break;default:timezone=timezones[" GMT"]}match[5]=timezone,config._i=match.splice(1).join(""),tzFormat=" ZZ",config._f=dayFormat+dateFormat+timeFormat+tzFormat,configFromStringAndFormat(config),getParsingFlags(config).rfc2822=!0}else config._isValid=!1}function defaults(a,b,c){return null!=a?a:null!=b?b:c}function configFromArray(config){var i,date,currentDate,yearToUse,input=[];if(!config._d){for(currentDate=function(config){var nowValue=new Date(hooks.now());return config._useUTC?[nowValue.getUTCFullYear(),nowValue.getUTCMonth(),nowValue.getUTCDate()]:[nowValue.getFullYear(),nowValue.getMonth(),nowValue.getDate()]}(config),config._w&&null==config._a[DATE]&&null==config._a[MONTH]&&function(config){var w,weekYear,week,weekday,dow,doy,temp,weekdayOverflow;if(null!=(w=config._w).GG||null!=w.W||null!=w.E)dow=1,doy=4,weekYear=defaults(w.GG,config._a[YEAR],weekOfYear(createLocal(),1,4).year),week=defaults(w.W,1),((weekday=defaults(w.E,1))<1||weekday>7)&&(weekdayOverflow=!0);else{dow=config._locale._week.dow,doy=config._locale._week.doy;var curWeek=weekOfYear(createLocal(),dow,doy);weekYear=defaults(w.gg,config._a[YEAR],curWeek.year),week=defaults(w.w,curWeek.week),null!=w.d?((weekday=w.d)<0||weekday>6)&&(weekdayOverflow=!0):null!=w.e?(weekday=w.e+dow,(w.e<0||w.e>6)&&(weekdayOverflow=!0)):weekday=dow}week<1||week>weeksInYear(weekYear,dow,doy)?getParsingFlags(config)._overflowWeeks=!0:null!=weekdayOverflow?getParsingFlags(config)._overflowWeekday=!0:(temp=dayOfYearFromWeeks(weekYear,week,weekday,dow,doy),config._a[YEAR]=temp.year,config._dayOfYear=temp.dayOfYear)}(config),null!=config._dayOfYear&&(yearToUse=defaults(config._a[YEAR],currentDate[YEAR]),(config._dayOfYear>daysInYear(yearToUse)||0===config._dayOfYear)&&(getParsingFlags(config)._overflowDayOfYear=!0),date=createUTCDate(yearToUse,0,config._dayOfYear),config._a[MONTH]=date.getUTCMonth(),config._a[DATE]=date.getUTCDate()),i=0;i<3&&null==config._a[i];++i)config._a[i]=input[i]=currentDate[i];for(;i<7;i++)config._a[i]=input[i]=null==config._a[i]?2===i?1:0:config._a[i];24===config._a[HOUR]&&0===config._a[MINUTE]&&0===config._a[SECOND]&&0===config._a[MILLISECOND]&&(config._nextDay=!0,config._a[HOUR]=0),config._d=(config._useUTC?createUTCDate:function(y,m,d,h,M,s,ms){var date=new Date(y,m,d,h,M,s,ms);return y<100&&y>=0&&isFinite(date.getFullYear())&&date.setFullYear(y),date}).apply(null,input),null!=config._tzm&&config._d.setUTCMinutes(config._d.getUTCMinutes()-config._tzm),config._nextDay&&(config._a[HOUR]=24)}}function configFromStringAndFormat(config){if(config._f!==hooks.ISO_8601)if(config._f!==hooks.RFC_2822){config._a=[],getParsingFlags(config).empty=!0;var i,parsedInput,tokens,token,skipped,string=""+config._i,stringLength=string.length,totalParsedInputLength=0;for(tokens=expandFormat(config._f,config._locale).match(formattingTokens)||[],i=0;i<tokens.length;i++)token=tokens[i],(parsedInput=(string.match(getParseRegexForToken(token,config))||[])[0])&&((skipped=string.substr(0,string.indexOf(parsedInput))).length>0&&getParsingFlags(config).unusedInput.push(skipped),string=string.slice(string.indexOf(parsedInput)+parsedInput.length),totalParsedInputLength+=parsedInput.length),formatTokenFunctions[token]?(parsedInput?getParsingFlags(config).empty=!1:getParsingFlags(config).unusedTokens.push(token),addTimeToArrayFromToken(token,parsedInput,config)):config._strict&&!parsedInput&&getParsingFlags(config).unusedTokens.push(token);getParsingFlags(config).charsLeftOver=stringLength-totalParsedInputLength,string.length>0&&getParsingFlags(config).unusedInput.push(string),config._a[HOUR]<=12&&!0===getParsingFlags(config).bigHour&&config._a[HOUR]>0&&(getParsingFlags(config).bigHour=void 0),getParsingFlags(config).parsedDateParts=config._a.slice(0),getParsingFlags(config).meridiem=config._meridiem,config._a[HOUR]=function(locale,hour,meridiem){var isPm;if(null==meridiem)return hour;return null!=locale.meridiemHour?locale.meridiemHour(hour,meridiem):null!=locale.isPM?((isPm=locale.isPM(meridiem))&&hour<12&&(hour+=12),isPm||12!==hour||(hour=0),hour):hour}(config._locale,config._a[HOUR],config._meridiem),configFromArray(config),checkOverflow(config)}else configFromRFC2822(config);else configFromISO(config)}function prepareConfig(config){var input=config._i,format=config._f;return config._locale=config._locale||getLocale(config._l),null===input||void 0===format&&""===input?createInvalid({nullInput:!0}):("string"==typeof input&&(config._i=input=config._locale.preparse(input)),isMoment(input)?new Moment(checkOverflow(input)):(isDate(input)?config._d=input:isArray(format)?function(config){var tempConfig,bestMoment,scoreToBeat,i,currentScore;if(0===config._f.length)return getParsingFlags(config).invalidFormat=!0,void(config._d=new Date(NaN));for(i=0;i<config._f.length;i++)currentScore=0,tempConfig=copyConfig({},config),null!=config._useUTC&&(tempConfig._useUTC=config._useUTC),tempConfig._f=config._f[i],configFromStringAndFormat(tempConfig),isValid(tempConfig)&&(currentScore+=getParsingFlags(tempConfig).charsLeftOver,currentScore+=10*getParsingFlags(tempConfig).unusedTokens.length,getParsingFlags(tempConfig).score=currentScore,(null==scoreToBeat||currentScore<scoreToBeat)&&(scoreToBeat=currentScore,bestMoment=tempConfig));extend(config,bestMoment||tempConfig)}(config):format?configFromStringAndFormat(config):function(config){var input=config._i;isUndefined(input)?config._d=new Date(hooks.now()):isDate(input)?config._d=new Date(input.valueOf()):"string"==typeof input?function(config){var matched=aspNetJsonRegex.exec(config._i);null===matched?(configFromISO(config),!1===config._isValid&&(delete config._isValid,configFromRFC2822(config),!1===config._isValid&&(delete config._isValid,hooks.createFromInputFallback(config)))):config._d=new Date(+matched[1])}(config):isArray(input)?(config._a=map(input.slice(0),function(obj){return parseInt(obj,10)}),configFromArray(config)):isObject(input)?function(config){if(!config._d){var i=normalizeObjectUnits(config._i);config._a=map([i.year,i.month,i.day||i.date,i.hour,i.minute,i.second,i.millisecond],function(obj){return obj&&parseInt(obj,10)}),configFromArray(config)}}(config):isNumber(input)?config._d=new Date(input):hooks.createFromInputFallback(config)}(config),isValid(config)||(config._d=null),config))}function createLocalOrUTC(input,format,locale,strict,isUTC){var res,c={};return!0!==locale&&!1!==locale||(strict=locale,locale=void 0),(isObject(input)&&function(obj){var k;for(k in obj)return!1;return!0}(input)||isArray(input)&&0===input.length)&&(input=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=isUTC,c._l=locale,c._i=input,c._f=format,c._strict=strict,(res=new Moment(checkOverflow(prepareConfig(c))))._nextDay&&(res.add(1,"d"),res._nextDay=void 0),res}function createLocal(input,format,locale,strict){return createLocalOrUTC(input,format,locale,strict,!1)}hooks.createFromInputFallback=deprecate("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(config){config._d=new Date(config._i+(config._useUTC?" UTC":""))}),hooks.ISO_8601=function(){},hooks.RFC_2822=function(){};var prototypeMin=deprecate("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var other=createLocal.apply(null,arguments);return this.isValid()&&other.isValid()?other<this?this:other:createInvalid()}),prototypeMax=deprecate("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var other=createLocal.apply(null,arguments);return this.isValid()&&other.isValid()?other>this?this:other:createInvalid()});function pickBy(fn,moments){var res,i;if(1===moments.length&&isArray(moments[0])&&(moments=moments[0]),!moments.length)return createLocal();for(res=moments[0],i=1;i<moments.length;++i)moments[i].isValid()&&!moments[i][fn](res)||(res=moments[i]);return res}var ordering=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Duration(duration){var normalizedInput=normalizeObjectUnits(duration),years=normalizedInput.year||0,quarters=normalizedInput.quarter||0,months=normalizedInput.month||0,weeks=normalizedInput.week||0,days=normalizedInput.day||0,hours=normalizedInput.hour||0,minutes=normalizedInput.minute||0,seconds=normalizedInput.second||0,milliseconds=normalizedInput.millisecond||0;this._isValid=function(m){for(var key in m)if(-1===ordering.indexOf(key)||null!=m[key]&&isNaN(m[key]))return!1;for(var unitHasDecimal=!1,i=0;i<ordering.length;++i)if(m[ordering[i]]){if(unitHasDecimal)return!1;parseFloat(m[ordering[i]])!==toInt(m[ordering[i]])&&(unitHasDecimal=!0)}return!0}(normalizedInput),this._milliseconds=+milliseconds+1e3*seconds+6e4*minutes+1e3*hours*60*60,this._days=+days+7*weeks,this._months=+months+3*quarters+12*years,this._data={},this._locale=getLocale(),this._bubble()}function isDuration(obj){return obj instanceof Duration}function absRound(number){return number<0?-1*Math.round(-1*number):Math.round(number)}function offset(token,separator){addFormatToken(token,0,0,function(){var offset=this.utcOffset(),sign="+";return offset<0&&(offset=-offset,sign="-"),sign+zeroFill(~~(offset/60),2)+separator+zeroFill(~~offset%60,2)})}offset("Z",":"),offset("ZZ",""),addRegexToken("Z",matchShortOffset),addRegexToken("ZZ",matchShortOffset),addParseToken(["Z","ZZ"],function(input,array,config){config._useUTC=!0,config._tzm=offsetFromString(matchShortOffset,input)});var chunkOffset=/([\+\-]|\d\d)/gi;function offsetFromString(matcher,string){var matches=(string||"").match(matcher);if(null===matches)return null;var parts=((matches[matches.length-1]||[])+"").match(chunkOffset)||["-",0,0],minutes=60*parts[1]+toInt(parts[2]);return 0===minutes?0:"+"===parts[0]?minutes:-minutes}function cloneWithOffset(input,model){var res,diff;return model._isUTC?(res=model.clone(),diff=(isMoment(input)||isDate(input)?input.valueOf():createLocal(input).valueOf())-res.valueOf(),res._d.setTime(res._d.valueOf()+diff),hooks.updateOffset(res,!1),res):createLocal(input).local()}function getDateOffset(m){return 15*-Math.round(m._d.getTimezoneOffset()/15)}function isUtc(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}hooks.updateOffset=function(){};var aspNetRegex=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,isoRegex=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;function createDuration(input,key){var sign,ret,diffRes,duration=input,match=null;return isDuration(input)?duration={ms:input._milliseconds,d:input._days,M:input._months}:isNumber(input)?(duration={},key?duration[key]=input:duration.milliseconds=input):(match=aspNetRegex.exec(input))?(sign="-"===match[1]?-1:1,duration={y:0,d:toInt(match[DATE])*sign,h:toInt(match[HOUR])*sign,m:toInt(match[MINUTE])*sign,s:toInt(match[SECOND])*sign,ms:toInt(absRound(1e3*match[MILLISECOND]))*sign}):(match=isoRegex.exec(input))?(sign="-"===match[1]?-1:1,duration={y:parseIso(match[2],sign),M:parseIso(match[3],sign),w:parseIso(match[4],sign),d:parseIso(match[5],sign),h:parseIso(match[6],sign),m:parseIso(match[7],sign),s:parseIso(match[8],sign)}):null==duration?duration={}:"object"==typeof duration&&("from"in duration||"to"in duration)&&(diffRes=function(base,other){var res;if(!base.isValid()||!other.isValid())return{milliseconds:0,months:0};other=cloneWithOffset(other,base),base.isBefore(other)?res=positiveMomentsDifference(base,other):((res=positiveMomentsDifference(other,base)).milliseconds=-res.milliseconds,res.months=-res.months);return res}(createLocal(duration.from),createLocal(duration.to)),(duration={}).ms=diffRes.milliseconds,duration.M=diffRes.months),ret=new Duration(duration),isDuration(input)&&hasOwnProp(input,"_locale")&&(ret._locale=input._locale),ret}function parseIso(inp,sign){var res=inp&&parseFloat(inp.replace(",","."));return(isNaN(res)?0:res)*sign}function positiveMomentsDifference(base,other){var res={milliseconds:0,months:0};return res.months=other.month()-base.month()+12*(other.year()-base.year()),base.clone().add(res.months,"M").isAfter(other)&&--res.months,res.milliseconds=+other-+base.clone().add(res.months,"M"),res}function createAdder(direction,name){return function(val,period){var tmp;return null===period||isNaN(+period)||(deprecateSimple(name,"moment()."+name+"(period, number) is deprecated. Please use moment()."+name+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),tmp=val,val=period,period=tmp),addSubtract(this,createDuration(val="string"==typeof val?+val:val,period),direction),this}}function addSubtract(mom,duration,isAdding,updateOffset){var milliseconds=duration._milliseconds,days=absRound(duration._days),months=absRound(duration._months);mom.isValid()&&(updateOffset=null==updateOffset||updateOffset,milliseconds&&mom._d.setTime(mom._d.valueOf()+milliseconds*isAdding),days&&set$1(mom,"Date",get(mom,"Date")+days*isAdding),months&&setMonth(mom,get(mom,"Month")+months*isAdding),updateOffset&&hooks.updateOffset(mom,days||months))}createDuration.fn=Duration.prototype,createDuration.invalid=function(){return createDuration(NaN)};var add=createAdder(1,"add"),subtract=createAdder(-1,"subtract");function locale(key){var newLocaleData;return void 0===key?this._locale._abbr:(null!=(newLocaleData=getLocale(key))&&(this._locale=newLocaleData),this)}hooks.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",hooks.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var lang=deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(key){return void 0===key?this.localeData():this.locale(key)});function localeData(){return this._locale}function addWeekYearFormatToken(token,getter){addFormatToken(0,[token,token.length],0,getter)}function getSetWeekYearHelper(input,week,weekday,dow,doy){var weeksTarget;return null==input?weekOfYear(this,dow,doy).year:(week>(weeksTarget=weeksInYear(input,dow,doy))&&(week=weeksTarget),function(weekYear,week,weekday,dow,doy){var dayOfYearData=dayOfYearFromWeeks(weekYear,week,weekday,dow,doy),date=createUTCDate(dayOfYearData.year,0,dayOfYearData.dayOfYear);return this.year(date.getUTCFullYear()),this.month(date.getUTCMonth()),this.date(date.getUTCDate()),this}.call(this,input,week,weekday,dow,doy))}addFormatToken(0,["gg",2],0,function(){return this.weekYear()%100}),addFormatToken(0,["GG",2],0,function(){return this.isoWeekYear()%100}),addWeekYearFormatToken("gggg","weekYear"),addWeekYearFormatToken("ggggg","weekYear"),addWeekYearFormatToken("GGGG","isoWeekYear"),addWeekYearFormatToken("GGGGG","isoWeekYear"),addUnitAlias("weekYear","gg"),addUnitAlias("isoWeekYear","GG"),addUnitPriority("weekYear",1),addUnitPriority("isoWeekYear",1),addRegexToken("G",matchSigned),addRegexToken("g",matchSigned),addRegexToken("GG",match1to2,match2),addRegexToken("gg",match1to2,match2),addRegexToken("GGGG",match1to4,match4),addRegexToken("gggg",match1to4,match4),addRegexToken("GGGGG",match1to6,match6),addRegexToken("ggggg",match1to6,match6),addWeekParseToken(["gggg","ggggg","GGGG","GGGGG"],function(input,week,config,token){week[token.substr(0,2)]=toInt(input)}),addWeekParseToken(["gg","GG"],function(input,week,config,token){week[token]=hooks.parseTwoDigitYear(input)}),addFormatToken("Q",0,"Qo","quarter"),addUnitAlias("quarter","Q"),addUnitPriority("quarter",7),addRegexToken("Q",match1),addParseToken("Q",function(input,array){array[MONTH]=3*(toInt(input)-1)}),addFormatToken("D",["DD",2],"Do","date"),addUnitAlias("date","D"),addUnitPriority("date",9),addRegexToken("D",match1to2),addRegexToken("DD",match1to2,match2),addRegexToken("Do",function(isStrict,locale){return isStrict?locale._dayOfMonthOrdinalParse||locale._ordinalParse:locale._dayOfMonthOrdinalParseLenient}),addParseToken(["D","DD"],DATE),addParseToken("Do",function(input,array){array[DATE]=toInt(input.match(match1to2)[0])});var getSetDayOfMonth=makeGetSet("Date",!0);addFormatToken("DDD",["DDDD",3],"DDDo","dayOfYear"),addUnitAlias("dayOfYear","DDD"),addUnitPriority("dayOfYear",4),addRegexToken("DDD",match1to3),addRegexToken("DDDD",match3),addParseToken(["DDD","DDDD"],function(input,array,config){config._dayOfYear=toInt(input)}),addFormatToken("m",["mm",2],0,"minute"),addUnitAlias("minute","m"),addUnitPriority("minute",14),addRegexToken("m",match1to2),addRegexToken("mm",match1to2,match2),addParseToken(["m","mm"],MINUTE);var getSetMinute=makeGetSet("Minutes",!1);addFormatToken("s",["ss",2],0,"second"),addUnitAlias("second","s"),addUnitPriority("second",15),addRegexToken("s",match1to2),addRegexToken("ss",match1to2,match2),addParseToken(["s","ss"],SECOND);var token,getSetSecond=makeGetSet("Seconds",!1);for(addFormatToken("S",0,0,function(){return~~(this.millisecond()/100)}),addFormatToken(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),addFormatToken(0,["SSS",3],0,"millisecond"),addFormatToken(0,["SSSS",4],0,function(){return 10*this.millisecond()}),addFormatToken(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),addFormatToken(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),addFormatToken(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),addFormatToken(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),addFormatToken(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),addUnitAlias("millisecond","ms"),addUnitPriority("millisecond",16),addRegexToken("S",match1to3,match1),addRegexToken("SS",match1to3,match2),addRegexToken("SSS",match1to3,match3),token="SSSS";token.length<=9;token+="S")addRegexToken(token,matchUnsigned);function parseMs(input,array){array[MILLISECOND]=toInt(1e3*("0."+input))}for(token="S";token.length<=9;token+="S")addParseToken(token,parseMs);var getSetMillisecond=makeGetSet("Milliseconds",!1);addFormatToken("z",0,0,"zoneAbbr"),addFormatToken("zz",0,0,"zoneName");var proto=Moment.prototype;function preParsePostFormat(string){return string}proto.add=add,proto.calendar=function(time,formats){var now=time||createLocal(),sod=cloneWithOffset(now,this).startOf("day"),format=hooks.calendarFormat(this,sod)||"sameElse",output=formats&&(isFunction(formats[format])?formats[format].call(this,now):formats[format]);return this.format(output||this.localeData().calendar(format,this,createLocal(now)))},proto.clone=function(){return new Moment(this)},proto.diff=function(input,units,asFloat){var that,zoneDelta,delta,output;return this.isValid()&&(that=cloneWithOffset(input,this)).isValid()?(zoneDelta=6e4*(that.utcOffset()-this.utcOffset()),"year"===(units=normalizeUnits(units))||"month"===units||"quarter"===units?(a=this,b=that,wholeMonthDiff=12*(b.year()-a.year())+(b.month()-a.month()),anchor=a.clone().add(wholeMonthDiff,"months"),b-anchor<0?(anchor2=a.clone().add(wholeMonthDiff-1,"months"),adjust=(b-anchor)/(anchor-anchor2)):(anchor2=a.clone().add(wholeMonthDiff+1,"months"),adjust=(b-anchor)/(anchor2-anchor)),output=-(wholeMonthDiff+adjust)||0,"quarter"===units?output/=3:"year"===units&&(output/=12)):(delta=this-that,output="second"===units?delta/1e3:"minute"===units?delta/6e4:"hour"===units?delta/36e5:"day"===units?(delta-zoneDelta)/864e5:"week"===units?(delta-zoneDelta)/6048e5:delta),asFloat?output:absFloor(output)):NaN;var a,b,anchor2,adjust,wholeMonthDiff,anchor},proto.endOf=function(units){return void 0===(units=normalizeUnits(units))||"millisecond"===units?this:("date"===units&&(units="day"),this.startOf(units).add(1,"isoWeek"===units?"week":units).subtract(1,"ms"))},proto.format=function(inputString){inputString||(inputString=this.isUtc()?hooks.defaultFormatUtc:hooks.defaultFormat);var output=formatMoment(this,inputString);return this.localeData().postformat(output)},proto.from=function(time,withoutSuffix){return this.isValid()&&(isMoment(time)&&time.isValid()||createLocal(time).isValid())?createDuration({to:this,from:time}).locale(this.locale()).humanize(!withoutSuffix):this.localeData().invalidDate()},proto.fromNow=function(withoutSuffix){return this.from(createLocal(),withoutSuffix)},proto.to=function(time,withoutSuffix){return this.isValid()&&(isMoment(time)&&time.isValid()||createLocal(time).isValid())?createDuration({from:this,to:time}).locale(this.locale()).humanize(!withoutSuffix):this.localeData().invalidDate()},proto.toNow=function(withoutSuffix){return this.to(createLocal(),withoutSuffix)},proto.get=function(units){return isFunction(this[units=normalizeUnits(units)])?this[units]():this},proto.invalidAt=function(){return getParsingFlags(this).overflow},proto.isAfter=function(input,units){var localInput=isMoment(input)?input:createLocal(input);return!(!this.isValid()||!localInput.isValid())&&("millisecond"===(units=normalizeUnits(isUndefined(units)?"millisecond":units))?this.valueOf()>localInput.valueOf():localInput.valueOf()<this.clone().startOf(units).valueOf())},proto.isBefore=function(input,units){var localInput=isMoment(input)?input:createLocal(input);return!(!this.isValid()||!localInput.isValid())&&("millisecond"===(units=normalizeUnits(isUndefined(units)?"millisecond":units))?this.valueOf()<localInput.valueOf():this.clone().endOf(units).valueOf()<localInput.valueOf())},proto.isBetween=function(from,to,units,inclusivity){return("("===(inclusivity=inclusivity||"()")[0]?this.isAfter(from,units):!this.isBefore(from,units))&&(")"===inclusivity[1]?this.isBefore(to,units):!this.isAfter(to,units))},proto.isSame=function(input,units){var inputMs,localInput=isMoment(input)?input:createLocal(input);return!(!this.isValid()||!localInput.isValid())&&("millisecond"===(units=normalizeUnits(units||"millisecond"))?this.valueOf()===localInput.valueOf():(inputMs=localInput.valueOf(),this.clone().startOf(units).valueOf()<=inputMs&&inputMs<=this.clone().endOf(units).valueOf()))},proto.isSameOrAfter=function(input,units){return this.isSame(input,units)||this.isAfter(input,units)},proto.isSameOrBefore=function(input,units){return this.isSame(input,units)||this.isBefore(input,units)},proto.isValid=function(){return isValid(this)},proto.lang=lang,proto.locale=locale,proto.localeData=localeData,proto.max=prototypeMax,proto.min=prototypeMin,proto.parsingFlags=function(){return extend({},getParsingFlags(this))},proto.set=function(units,value){if("object"==typeof units)for(var prioritized=function(unitsObj){var units=[];for(var u in unitsObj)units.push({unit:u,priority:priorities[u]});return units.sort(function(a,b){return a.priority-b.priority}),units}(units=normalizeObjectUnits(units)),i=0;i<prioritized.length;i++)this[prioritized[i].unit](units[prioritized[i].unit]);else if(isFunction(this[units=normalizeUnits(units)]))return this[units](value);return this},proto.startOf=function(units){switch(units=normalizeUnits(units)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===units&&this.weekday(0),"isoWeek"===units&&this.isoWeekday(1),"quarter"===units&&this.month(3*Math.floor(this.month()/3)),this},proto.subtract=subtract,proto.toArray=function(){var m=this;return[m.year(),m.month(),m.date(),m.hour(),m.minute(),m.second(),m.millisecond()]},proto.toObject=function(){var m=this;return{years:m.year(),months:m.month(),date:m.date(),hours:m.hours(),minutes:m.minutes(),seconds:m.seconds(),milliseconds:m.milliseconds()}},proto.toDate=function(){return new Date(this.valueOf())},proto.toISOString=function(){if(!this.isValid())return null;var m=this.clone().utc();return m.year()<0||m.year()>9999?formatMoment(m,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):isFunction(Date.prototype.toISOString)?this.toDate().toISOString():formatMoment(m,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},proto.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var func="moment",zone="";this.isLocal()||(func=0===this.utcOffset()?"moment.utc":"moment.parseZone",zone="Z");var prefix="["+func+'("]',year=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",suffix=zone+'[")]';return this.format(prefix+year+"-MM-DD[T]HH:mm:ss.SSS"+suffix)},proto.toJSON=function(){return this.isValid()?this.toISOString():null},proto.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},proto.unix=function(){return Math.floor(this.valueOf()/1e3)},proto.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},proto.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},proto.year=getSetYear,proto.isLeapYear=function(){return isLeapYear(this.year())},proto.weekYear=function(input){return getSetWeekYearHelper.call(this,input,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},proto.isoWeekYear=function(input){return getSetWeekYearHelper.call(this,input,this.isoWeek(),this.isoWeekday(),1,4)},proto.quarter=proto.quarters=function(input){return null==input?Math.ceil((this.month()+1)/3):this.month(3*(input-1)+this.month()%3)},proto.month=getSetMonth,proto.daysInMonth=function(){return daysInMonth(this.year(),this.month())},proto.week=proto.weeks=function(input){var week=this.localeData().week(this);return null==input?week:this.add(7*(input-week),"d")},proto.isoWeek=proto.isoWeeks=function(input){var week=weekOfYear(this,1,4).week;return null==input?week:this.add(7*(input-week),"d")},proto.weeksInYear=function(){var weekInfo=this.localeData()._week;return weeksInYear(this.year(),weekInfo.dow,weekInfo.doy)},proto.isoWeeksInYear=function(){return weeksInYear(this.year(),1,4)},proto.date=getSetDayOfMonth,proto.day=proto.days=function(input){if(!this.isValid())return null!=input?this:NaN;var day=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=input?(input=function(input,locale){return"string"!=typeof input?input:isNaN(input)?"number"==typeof(input=locale.weekdaysParse(input))?input:null:parseInt(input,10)}(input,this.localeData()),this.add(input-day,"d")):day},proto.weekday=function(input){if(!this.isValid())return null!=input?this:NaN;var weekday=(this.day()+7-this.localeData()._week.dow)%7;return null==input?weekday:this.add(input-weekday,"d")},proto.isoWeekday=function(input){if(!this.isValid())return null!=input?this:NaN;if(null!=input){var weekday=function(input,locale){return"string"==typeof input?locale.weekdaysParse(input)%7||7:isNaN(input)?null:input}(input,this.localeData());return this.day(this.day()%7?weekday:weekday-7)}return this.day()||7},proto.dayOfYear=function(input){var dayOfYear=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==input?dayOfYear:this.add(input-dayOfYear,"d")},proto.hour=proto.hours=getSetHour,proto.minute=proto.minutes=getSetMinute,proto.second=proto.seconds=getSetSecond,proto.millisecond=proto.milliseconds=getSetMillisecond,proto.utcOffset=function(input,keepLocalTime,keepMinutes){var localAdjust,offset=this._offset||0;if(!this.isValid())return null!=input?this:NaN;if(null!=input){if("string"==typeof input){if(null===(input=offsetFromString(matchShortOffset,input)))return this}else Math.abs(input)<16&&!keepMinutes&&(input*=60);return!this._isUTC&&keepLocalTime&&(localAdjust=getDateOffset(this)),this._offset=input,this._isUTC=!0,null!=localAdjust&&this.add(localAdjust,"m"),offset!==input&&(!keepLocalTime||this._changeInProgress?addSubtract(this,createDuration(input-offset,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,hooks.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?offset:getDateOffset(this)},proto.utc=function(keepLocalTime){return this.utcOffset(0,keepLocalTime)},proto.local=function(keepLocalTime){return this._isUTC&&(this.utcOffset(0,keepLocalTime),this._isUTC=!1,keepLocalTime&&this.subtract(getDateOffset(this),"m")),this},proto.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var tZone=offsetFromString(matchOffset,this._i);null!=tZone?this.utcOffset(tZone):this.utcOffset(0,!0)}return this},proto.hasAlignedHourOffset=function(input){return!!this.isValid()&&(input=input?createLocal(input).utcOffset():0,(this.utcOffset()-input)%60==0)},proto.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},proto.isLocal=function(){return!!this.isValid()&&!this._isUTC},proto.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},proto.isUtc=isUtc,proto.isUTC=isUtc,proto.zoneAbbr=function(){return this._isUTC?"UTC":""},proto.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},proto.dates=deprecate("dates accessor is deprecated. Use date instead.",getSetDayOfMonth),proto.months=deprecate("months accessor is deprecated. Use month instead",getSetMonth),proto.years=deprecate("years accessor is deprecated. Use year instead",getSetYear),proto.zone=deprecate("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(input,keepLocalTime){return null!=input?("string"!=typeof input&&(input=-input),this.utcOffset(input,keepLocalTime),this):-this.utcOffset()}),proto.isDSTShifted=deprecate("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!isUndefined(this._isDSTShifted))return this._isDSTShifted;var c={};if(copyConfig(c,this),(c=prepareConfig(c))._a){var other=c._isUTC?createUTC(c._a):createLocal(c._a);this._isDSTShifted=this.isValid()&&compareArrays(c._a,other.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});var proto$1=Locale.prototype;function get$1(format,index,field,setter){var locale=getLocale(),utc=createUTC().set(setter,index);return locale[field](utc,format)}function listMonthsImpl(format,index,field){if(isNumber(format)&&(index=format,format=void 0),format=format||"",null!=index)return get$1(format,index,field,"month");var i,out=[];for(i=0;i<12;i++)out[i]=get$1(format,i,field,"month");return out}function listWeekdaysImpl(localeSorted,format,index,field){"boolean"==typeof localeSorted?(isNumber(format)&&(index=format,format=void 0),format=format||""):(index=format=localeSorted,localeSorted=!1,isNumber(format)&&(index=format,format=void 0),format=format||"");var i,locale=getLocale(),shift=localeSorted?locale._week.dow:0;if(null!=index)return get$1(format,(index+shift)%7,field,"day");var out=[];for(i=0;i<7;i++)out[i]=get$1(format,(i+shift)%7,field,"day");return out}proto$1.calendar=function(key,mom,now){var output=this._calendar[key]||this._calendar.sameElse;return isFunction(output)?output.call(mom,now):output},proto$1.longDateFormat=function(key){var format=this._longDateFormat[key],formatUpper=this._longDateFormat[key.toUpperCase()];return format||!formatUpper?format:(this._longDateFormat[key]=formatUpper.replace(/MMMM|MM|DD|dddd/g,function(val){return val.slice(1)}),this._longDateFormat[key])},proto$1.invalidDate=function(){return this._invalidDate},proto$1.ordinal=function(number){return this._ordinal.replace("%d",number)},proto$1.preparse=preParsePostFormat,proto$1.postformat=preParsePostFormat,proto$1.relativeTime=function(number,withoutSuffix,string,isFuture){var output=this._relativeTime[string];return isFunction(output)?output(number,withoutSuffix,string,isFuture):output.replace(/%d/i,number)},proto$1.pastFuture=function(diff,output){var format=this._relativeTime[diff>0?"future":"past"];return isFunction(format)?format(output):format.replace(/%s/i,output)},proto$1.set=function(config){var prop,i;for(i in config)isFunction(prop=config[i])?this[i]=prop:this["_"+i]=prop;this._config=config,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},proto$1.months=function(m,format){return m?isArray(this._months)?this._months[m.month()]:this._months[(this._months.isFormat||MONTHS_IN_FORMAT).test(format)?"format":"standalone"][m.month()]:isArray(this._months)?this._months:this._months.standalone},proto$1.monthsShort=function(m,format){return m?isArray(this._monthsShort)?this._monthsShort[m.month()]:this._monthsShort[MONTHS_IN_FORMAT.test(format)?"format":"standalone"][m.month()]:isArray(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},proto$1.monthsParse=function(monthName,format,strict){var i,mom,regex;if(this._monthsParseExact)return function(monthName,format,strict){var i,ii,mom,llc=monthName.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)mom=createUTC([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(mom,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(mom,"").toLocaleLowerCase();return strict?"MMM"===format?-1!==(ii=indexOf$1.call(this._shortMonthsParse,llc))?ii:null:-1!==(ii=indexOf$1.call(this._longMonthsParse,llc))?ii:null:"MMM"===format?-1!==(ii=indexOf$1.call(this._shortMonthsParse,llc))?ii:-1!==(ii=indexOf$1.call(this._longMonthsParse,llc))?ii:null:-1!==(ii=indexOf$1.call(this._longMonthsParse,llc))?ii:-1!==(ii=indexOf$1.call(this._shortMonthsParse,llc))?ii:null}.call(this,monthName,format,strict);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(mom=createUTC([2e3,i]),strict&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(mom,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(mom,"").replace(".","")+"$","i")),strict||this._monthsParse[i]||(regex="^"+this.months(mom,"")+"|^"+this.monthsShort(mom,""),this._monthsParse[i]=new RegExp(regex.replace(".",""),"i")),strict&&"MMMM"===format&&this._longMonthsParse[i].test(monthName))return i;if(strict&&"MMM"===format&&this._shortMonthsParse[i].test(monthName))return i;if(!strict&&this._monthsParse[i].test(monthName))return i}},proto$1.monthsRegex=function(isStrict){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),isStrict?this._monthsStrictRegex:this._monthsRegex):(hasOwnProp(this,"_monthsRegex")||(this._monthsRegex=defaultMonthsRegex),this._monthsStrictRegex&&isStrict?this._monthsStrictRegex:this._monthsRegex)},proto$1.monthsShortRegex=function(isStrict){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),isStrict?this._monthsShortStrictRegex:this._monthsShortRegex):(hasOwnProp(this,"_monthsShortRegex")||(this._monthsShortRegex=defaultMonthsShortRegex),this._monthsShortStrictRegex&&isStrict?this._monthsShortStrictRegex:this._monthsShortRegex)},proto$1.week=function(mom){return weekOfYear(mom,this._week.dow,this._week.doy).week},proto$1.firstDayOfYear=function(){return this._week.doy},proto$1.firstDayOfWeek=function(){return this._week.dow},proto$1.weekdays=function(m,format){return m?isArray(this._weekdays)?this._weekdays[m.day()]:this._weekdays[this._weekdays.isFormat.test(format)?"format":"standalone"][m.day()]:isArray(this._weekdays)?this._weekdays:this._weekdays.standalone},proto$1.weekdaysMin=function(m){return m?this._weekdaysMin[m.day()]:this._weekdaysMin},proto$1.weekdaysShort=function(m){return m?this._weekdaysShort[m.day()]:this._weekdaysShort},proto$1.weekdaysParse=function(weekdayName,format,strict){var i,mom,regex;if(this._weekdaysParseExact)return function(weekdayName,format,strict){var i,ii,mom,llc=weekdayName.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)mom=createUTC([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(mom,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(mom,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(mom,"").toLocaleLowerCase();return strict?"dddd"===format?-1!==(ii=indexOf$1.call(this._weekdaysParse,llc))?ii:null:"ddd"===format?-1!==(ii=indexOf$1.call(this._shortWeekdaysParse,llc))?ii:null:-1!==(ii=indexOf$1.call(this._minWeekdaysParse,llc))?ii:null:"dddd"===format?-1!==(ii=indexOf$1.call(this._weekdaysParse,llc))?ii:-1!==(ii=indexOf$1.call(this._shortWeekdaysParse,llc))?ii:-1!==(ii=indexOf$1.call(this._minWeekdaysParse,llc))?ii:null:"ddd"===format?-1!==(ii=indexOf$1.call(this._shortWeekdaysParse,llc))?ii:-1!==(ii=indexOf$1.call(this._weekdaysParse,llc))?ii:-1!==(ii=indexOf$1.call(this._minWeekdaysParse,llc))?ii:null:-1!==(ii=indexOf$1.call(this._minWeekdaysParse,llc))?ii:-1!==(ii=indexOf$1.call(this._weekdaysParse,llc))?ii:-1!==(ii=indexOf$1.call(this._shortWeekdaysParse,llc))?ii:null}.call(this,weekdayName,format,strict);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(mom=createUTC([2e3,1]).day(i),strict&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(mom,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(mom,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(mom,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(regex="^"+this.weekdays(mom,"")+"|^"+this.weekdaysShort(mom,"")+"|^"+this.weekdaysMin(mom,""),this._weekdaysParse[i]=new RegExp(regex.replace(".",""),"i")),strict&&"dddd"===format&&this._fullWeekdaysParse[i].test(weekdayName))return i;if(strict&&"ddd"===format&&this._shortWeekdaysParse[i].test(weekdayName))return i;if(strict&&"dd"===format&&this._minWeekdaysParse[i].test(weekdayName))return i;if(!strict&&this._weekdaysParse[i].test(weekdayName))return i}},proto$1.weekdaysRegex=function(isStrict){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),isStrict?this._weekdaysStrictRegex:this._weekdaysRegex):(hasOwnProp(this,"_weekdaysRegex")||(this._weekdaysRegex=defaultWeekdaysRegex),this._weekdaysStrictRegex&&isStrict?this._weekdaysStrictRegex:this._weekdaysRegex)},proto$1.weekdaysShortRegex=function(isStrict){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),isStrict?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(hasOwnProp(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=defaultWeekdaysShortRegex),this._weekdaysShortStrictRegex&&isStrict?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},proto$1.weekdaysMinRegex=function(isStrict){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),isStrict?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(hasOwnProp(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=defaultWeekdaysMinRegex),this._weekdaysMinStrictRegex&&isStrict?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},proto$1.isPM=function(input){return"p"===(input+"").toLowerCase().charAt(0)},proto$1.meridiem=function(hours,minutes,isLower){return hours>11?isLower?"pm":"PM":isLower?"am":"AM"},getSetGlobalLocale("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(number){var b=number%10;return number+(1===toInt(number%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")}}),hooks.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",getSetGlobalLocale),hooks.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",getLocale);var mathAbs=Math.abs;function addSubtract$1(duration,input,value,direction){var other=createDuration(input,value);return duration._milliseconds+=direction*other._milliseconds,duration._days+=direction*other._days,duration._months+=direction*other._months,duration._bubble()}function absCeil(number){return number<0?Math.floor(number):Math.ceil(number)}function daysToMonths(days){return 4800*days/146097}function monthsToDays(months){return 146097*months/4800}function makeAs(alias){return function(){return this.as(alias)}}var asMilliseconds=makeAs("ms"),asSeconds=makeAs("s"),asMinutes=makeAs("m"),asHours=makeAs("h"),asDays=makeAs("d"),asWeeks=makeAs("w"),asMonths=makeAs("M"),asYears=makeAs("y");function makeGetter(name){return function(){return this.isValid()?this._data[name]:NaN}}var milliseconds=makeGetter("milliseconds"),seconds=makeGetter("seconds"),minutes=makeGetter("minutes"),hours=makeGetter("hours"),days=makeGetter("days"),months=makeGetter("months"),years=makeGetter("years");var round=Math.round,thresholds={ss:44,s:45,m:45,h:22,d:26,M:11};var abs$1=Math.abs;function toISOString$1(){if(!this.isValid())return this.localeData().invalidDate();var minutes,hours,seconds=abs$1(this._milliseconds)/1e3,days=abs$1(this._days),months=abs$1(this._months);hours=absFloor((minutes=absFloor(seconds/60))/60),seconds%=60,minutes%=60;var Y=absFloor(months/12),M=months%=12,D=days,h=hours,m=minutes,s=seconds,total=this.asSeconds();return total?(total<0?"-":"")+"P"+(Y?Y+"Y":"")+(M?M+"M":"")+(D?D+"D":"")+(h||m||s?"T":"")+(h?h+"H":"")+(m?m+"M":"")+(s?s+"S":""):"P0D"}var proto$2=Duration.prototype;proto$2.isValid=function(){return this._isValid},proto$2.abs=function(){var data=this._data;return this._milliseconds=mathAbs(this._milliseconds),this._days=mathAbs(this._days),this._months=mathAbs(this._months),data.milliseconds=mathAbs(data.milliseconds),data.seconds=mathAbs(data.seconds),data.minutes=mathAbs(data.minutes),data.hours=mathAbs(data.hours),data.months=mathAbs(data.months),data.years=mathAbs(data.years),this},proto$2.add=function(input,value){return addSubtract$1(this,input,value,1)},proto$2.subtract=function(input,value){return addSubtract$1(this,input,value,-1)},proto$2.as=function(units){if(!this.isValid())return NaN;var days,months,milliseconds=this._milliseconds;if("month"===(units=normalizeUnits(units))||"year"===units)return days=this._days+milliseconds/864e5,months=this._months+daysToMonths(days),"month"===units?months:months/12;switch(days=this._days+Math.round(monthsToDays(this._months)),units){case"week":return days/7+milliseconds/6048e5;case"day":return days+milliseconds/864e5;case"hour":return 24*days+milliseconds/36e5;case"minute":return 1440*days+milliseconds/6e4;case"second":return 86400*days+milliseconds/1e3;case"millisecond":return Math.floor(864e5*days)+milliseconds;default:throw new Error("Unknown unit "+units)}},proto$2.asMilliseconds=asMilliseconds,proto$2.asSeconds=asSeconds,proto$2.asMinutes=asMinutes,proto$2.asHours=asHours,proto$2.asDays=asDays,proto$2.asWeeks=asWeeks,proto$2.asMonths=asMonths,proto$2.asYears=asYears,proto$2.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*toInt(this._months/12):NaN},proto$2._bubble=function(){var seconds,minutes,hours,years,monthsFromDays,milliseconds=this._milliseconds,days=this._days,months=this._months,data=this._data;return milliseconds>=0&&days>=0&&months>=0||milliseconds<=0&&days<=0&&months<=0||(milliseconds+=864e5*absCeil(monthsToDays(months)+days),days=0,months=0),data.milliseconds=milliseconds%1e3,seconds=absFloor(milliseconds/1e3),data.seconds=seconds%60,minutes=absFloor(seconds/60),data.minutes=minutes%60,hours=absFloor(minutes/60),data.hours=hours%24,months+=monthsFromDays=absFloor(daysToMonths(days+=absFloor(hours/24))),days-=absCeil(monthsToDays(monthsFromDays)),years=absFloor(months/12),months%=12,data.days=days,data.months=months,data.years=years,this},proto$2.get=function(units){return units=normalizeUnits(units),this.isValid()?this[units+"s"]():NaN},proto$2.milliseconds=milliseconds,proto$2.seconds=seconds,proto$2.minutes=minutes,proto$2.hours=hours,proto$2.days=days,proto$2.weeks=function(){return absFloor(this.days()/7)},proto$2.months=months,proto$2.years=years,proto$2.humanize=function(withSuffix){if(!this.isValid())return this.localeData().invalidDate();var locale=this.localeData(),output=function(posNegDuration,withoutSuffix,locale){var duration=createDuration(posNegDuration).abs(),seconds=round(duration.as("s")),minutes=round(duration.as("m")),hours=round(duration.as("h")),days=round(duration.as("d")),months=round(duration.as("M")),years=round(duration.as("y")),a=seconds<=thresholds.ss&&["s",seconds]||seconds<thresholds.s&&["ss",seconds]||minutes<=1&&["m"]||minutes<thresholds.m&&["mm",minutes]||hours<=1&&["h"]||hours<thresholds.h&&["hh",hours]||days<=1&&["d"]||days<thresholds.d&&["dd",days]||months<=1&&["M"]||months<thresholds.M&&["MM",months]||years<=1&&["y"]||["yy",years];return a[2]=withoutSuffix,a[3]=+posNegDuration>0,a[4]=locale,function(string,number,withoutSuffix,isFuture,locale){return locale.relativeTime(number||1,!!withoutSuffix,string,isFuture)}.apply(null,a)}(this,!withSuffix,locale);return withSuffix&&(output=locale.pastFuture(+this,output)),locale.postformat(output)},proto$2.toISOString=toISOString$1,proto$2.toString=toISOString$1,proto$2.toJSON=toISOString$1,proto$2.locale=locale,proto$2.localeData=localeData,proto$2.toIsoString=deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",toISOString$1),proto$2.lang=lang,addFormatToken("X",0,0,"unix"),addFormatToken("x",0,0,"valueOf"),addRegexToken("x",matchSigned),addRegexToken("X",/[+-]?\d+(\.\d{1,3})?/),addParseToken("X",function(input,array,config){config._d=new Date(1e3*parseFloat(input,10))}),addParseToken("x",function(input,array,config){config._d=new Date(toInt(input))}),hooks.version="2.18.1",hookCallback=createLocal,hooks.fn=proto,hooks.min=function(){return pickBy("isBefore",[].slice.call(arguments,0))},hooks.max=function(){return pickBy("isAfter",[].slice.call(arguments,0))},hooks.now=function(){return Date.now?Date.now():+new Date},hooks.utc=createUTC,hooks.unix=function(input){return createLocal(1e3*input)},hooks.months=function(format,index){return listMonthsImpl(format,index,"months")},hooks.isDate=isDate,hooks.locale=getSetGlobalLocale,hooks.invalid=createInvalid,hooks.duration=createDuration,hooks.isMoment=isMoment,hooks.weekdays=function(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,"weekdays")},hooks.parseZone=function(){return createLocal.apply(null,arguments).parseZone()},hooks.localeData=getLocale,hooks.isDuration=isDuration,hooks.monthsShort=function(format,index){return listMonthsImpl(format,index,"monthsShort")},hooks.weekdaysMin=function(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,"weekdaysMin")},hooks.defineLocale=defineLocale,hooks.updateLocale=function(name,config){if(null!=config){var locale,parentConfig=baseConfig;null!=locales[name]&&(parentConfig=locales[name]._config),(locale=new Locale(config=mergeConfigs(parentConfig,config))).parentLocale=locales[name],locales[name]=locale,getSetGlobalLocale(name)}else null!=locales[name]&&(null!=locales[name].parentLocale?locales[name]=locales[name].parentLocale:null!=locales[name]&&delete locales[name]);return locales[name]},hooks.locales=function(){return keys$1(locales)},hooks.weekdaysShort=function(localeSorted,format,index){return listWeekdaysImpl(localeSorted,format,index,"weekdaysShort")},hooks.normalizeUnits=normalizeUnits,hooks.relativeTimeRounding=function(roundingFunction){return void 0===roundingFunction?round:"function"==typeof roundingFunction&&(round=roundingFunction,!0)},hooks.relativeTimeThreshold=function(threshold,limit){return void 0!==thresholds[threshold]&&(void 0===limit?thresholds[threshold]:(thresholds[threshold]=limit,"s"===threshold&&(thresholds.ss=limit-1),!0))},hooks.calendarFormat=function(myMoment,now){var diff=myMoment.diff(now,"days",!0);return diff<-6?"sameElse":diff<-1?"lastWeek":diff<0?"lastDay":diff<1?"sameDay":diff<2?"nextDay":diff<7?"nextWeek":"sameElse"},hooks.prototype=proto,hooks.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(input){return/^nm$/i.test(input)},meridiem:function(hours,minutes,isLower){return hours<12?isLower?"vm":"VM":isLower?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Mre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(number){return number+(1===number||8===number||number>=20?"ste":"de")},week:{dow:1,doy:4}}),hooks.defineLocale("ar-dz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:4}}),hooks.defineLocale("ar-kw",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:12}});var symbolMap={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},pluralForm=function(n){return 0===n?0:1===n?1:2===n?2:n%100>=3&&n%100<=10?3:n%100>=11?4:5},plurals={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},pluralize=function(u){return function(number,withoutSuffix,string,isFuture){var f=pluralForm(number),str=plurals[u][pluralForm(number)];return 2===f&&(str=str[withoutSuffix?0:1]),str.replace(/%d/i,number)}},months$1=["","","","","","","","","","","",""];hooks.defineLocale("ar-ly",{months:months$1,monthsShort:months$1,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(input){return""===input},meridiem:function(hour,minute,isLower){return hour<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:pluralize("s"),m:pluralize("m"),mm:pluralize("m"),h:pluralize("h"),hh:pluralize("h"),d:pluralize("d"),dd:pluralize("d"),M:pluralize("M"),MM:pluralize("M"),y:pluralize("y"),yy:pluralize("y")},preparse:function(string){return string.replace(/\u200f/g,"").replace(//g,",")},postformat:function(string){return string.replace(/\d/g,function(match){return symbolMap[match]}).replace(/,/g,"")},week:{dow:6,doy:12}}),hooks.defineLocale("ar-ma",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}});var symbolMap$1={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},numberMap={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};hooks.defineLocale("ar-sa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(input){return""===input},meridiem:function(hour,minute,isLower){return hour<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(string){return string.replace(/[]/g,function(match){return numberMap[match]}).replace(//g,",")},postformat:function(string){return string.replace(/\d/g,function(match){return symbolMap$1[match]}).replace(/,/g,"")},week:{dow:0,doy:6}}),hooks.defineLocale("ar-tn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}});var symbolMap$2={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},numberMap$1={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},pluralForm$1=function(n){return 0===n?0:1===n?1:2===n?2:n%100>=3&&n%100<=10?3:n%100>=11?4:5},plurals$1={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},pluralize$1=function(u){return function(number,withoutSuffix,string,isFuture){var f=pluralForm$1(number),str=plurals$1[u][pluralForm$1(number)];return 2===f&&(str=str[withoutSuffix?0:1]),str.replace(/%d/i,number)}},months$2=["  "," "," "," "," "," "," "," "," ","  ","  ","  "];hooks.defineLocale("ar",{months:months$2,monthsShort:months$2,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(input){return""===input},meridiem:function(hour,minute,isLower){return hour<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:pluralize$1("s"),m:pluralize$1("m"),mm:pluralize$1("m"),h:pluralize$1("h"),hh:pluralize$1("h"),d:pluralize$1("d"),dd:pluralize$1("d"),M:pluralize$1("M"),MM:pluralize$1("M"),y:pluralize$1("y"),yy:pluralize$1("y")},preparse:function(string){return string.replace(/\u200f/g,"").replace(/[]/g,function(match){return numberMap$1[match]}).replace(//g,",")},postformat:function(string){return string.replace(/\d/g,function(match){return symbolMap$2[match]}).replace(/,/g,"")},week:{dow:6,doy:12}});var suffixes={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-nc",4:"-nc",100:"-nc",6:"-nc",9:"-uncu",10:"-uncu",30:"-uncu",60:"-nc",90:"-nc"};function relativeTimeWithPlural(number,withoutSuffix,key){var num,forms;return"m"===key?withoutSuffix?"":"":"h"===key?withoutSuffix?"":"":number+" "+(num=+number,forms={mm:withoutSuffix?"__":"__",hh:withoutSuffix?"__":"__",dd:"__",MM:"__",yy:"__"}[key].split("_"),num%10==1&&num%100!=11?forms[0]:num%10>=2&&num%10<=4&&(num%100<10||num%100>=20)?forms[1]:forms[2])}hooks.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertsi_rnb axam_rnb_Cm axam_Cm_nb".split("_"),weekdaysShort:"Baz_BzE_Ax_r_CAx_Cm_n".split("_"),weekdaysMin:"Bz_BE_A__CA_C_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gln hft] dddd [saat] LT",lastDay:"[dnn] LT",lastWeek:"[ken hft] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s vvl",s:"birne saniyy",m:"bir dqiq",mm:"%d dqiq",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec|shr|gndz|axam/,isPM:function(input){return/^(gndz|axam)$/.test(input)},meridiem:function(hour,minute,isLower){return hour<4?"gec":hour<12?"shr":hour<17?"gndz":"axam"},dayOfMonthOrdinalParse:/\d{1,2}-(nc|inci|nci|nc|nc|uncu)/,ordinal:function(number){if(0===number)return number+"-nc";var a=number%10;return number+(suffixes[a]||suffixes[number%100-a]||suffixes[number>=100?100:null])},week:{dow:1,doy:7}}),hooks.defineLocale("be",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{format:"______".split("_"),standalone:"______".split("_"),isFormat:/\[ ?[] ?(?:|)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return"[] dddd [] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:relativeTimeWithPlural,mm:relativeTimeWithPlural,h:relativeTimeWithPlural,hh:relativeTimeWithPlural,d:"",dd:relativeTimeWithPlural,M:"",MM:relativeTimeWithPlural,y:"",yy:relativeTimeWithPlural},meridiemParse:/|||/,isPM:function(input){return/^(|)$/.test(input)},meridiem:function(hour,minute,isLower){return hour<4?"":hour<12?"":hour<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(number,period){switch(period){case"M":case"d":case"DDD":case"w":case"W":return number%10!=2&&number%10!=3||number%100==12||number%100==13?number+"-":number+"-";case"D":return number+"-";default:return number}},week:{dow:1,doy:7}}),hooks.defineLocale("bg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:case 5:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(number){var lastDigit=number%10,last2Digits=number%100;return 0===number?number+"-":0===last2Digits?number+"-":last2Digits>10&&last2Digits<20?number+"-":1===lastDigit?number+"-":2===lastDigit?number+"-":7===lastDigit||8===lastDigit?number+"-":number+"-"},week:{dow:1,doy:7}});var symbolMap$3={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},numberMap$2={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};hooks.defineLocale("bn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(string){return string.replace(/[]/g,function(match){return numberMap$2[match]})},postformat:function(string){return string.replace(/\d/g,function(match){return symbolMap$3[match]})},meridiemParse:/||||/,meridiemHour:function(hour,meridiem){return 12===hour&&(hour=0),""===meridiem&&hour>=4||""===meridiem&&hour<5||""===meridiem?hour+12:hour},meridiem:function(hour,minute,isLower){return hour<4?"":hour<10?"":hour<17?"":hour<20?"":""},week:{dow:0,doy:6}});var symbolMap$4={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},numberMap$3={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};function relativeTimeWithMutation(number,withoutSuffix,key){return number+" "+function(text,number){if(2===number)return function(text){var mutationTable={m:"v",b:"v",d:"z"};if(void 0===mutationTable[text.charAt(0)])return text;return mutationTable[text.charAt(0)]+text.substring(1)}(text);return text}({mm:"munutenn",MM:"miz",dd:"devezh"}[key],number)}function translate(number,withoutSuffix,key){var result=number+" ";switch(key){case"m":return withoutSuffix?"jedna minuta":"jedne minute";case"mm":return result+=1===number?"minuta":2===number||3===number||4===number?"minute":"minuta";case"h":return withoutSuffix?"jedan sat":"jednog sata";case"hh":return result+=1===number?"sat":2===number||3===number||4===number?"sata":"sati";case"dd":return result+=1===number?"dan":"dana";case"MM":return result+=1===number?"mjesec":2===number||3===number||4===number?"mjeseca":"mjeseci";case"yy":return result+=1===number?"godina":2===number||3===number||4===number?"godine":"godina"}}hooks.defineLocale("bo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[], LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(string){return string.replace(/[]/g,function(match){return numberMap$3[match]})},postformat:function(string){return string.replace(/\d/g,function(match){return symbolMap$4[match]})},meridiemParse:/||||/,meridiemHour:function(hour,meridiem){return 12===hour&&(hour=0),""===meridiem&&hour>=4||""===meridiem&&hour<5||""===meridiem?hour+12:hour},meridiem:function(hour,minute,isLower){return hour<4?"":hour<10?"":hour<17?"":hour<20?"":""},week:{dow:0,doy:6}}),hooks.defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h[e]mm A",LTS:"h[e]mm:ss A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY h[e]mm A",LLLL:"dddd, D [a viz] MMMM YYYY h[e]mm A"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondenno",m:"ur vunutenn",mm:relativeTimeWithMutation,h:"un eur",hh:"%d eur",d:"un devezh",dd:relativeTimeWithMutation,M:"ur miz",MM:relativeTimeWithMutation,y:"ur bloaz",yy:function(number){switch(function lastNumber(number){return number>9?lastNumber(number%10):number}(number)){case 1:case 3:case 4:case 5:case 9:return number+" bloaz";default:return number+" vloaz"}}},dayOfMonthOrdinalParse:/\d{1,2}(a|vet)/,ordinal:function(number){return number+(1===number?"a":"vet")},week:{dow:1,doy:4}}),hooks.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:translate,mm:translate,h:translate,hh:translate,d:"dan",dd:translate,M:"mjesec",MM:translate,y:"godinu",yy:translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),hooks.defineLocale("ca",{months:{standalone:"gener_febrer_mar_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"Dg_Dl_Dt_Dc_Dj_Dv_Ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"[el] D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"[el] D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"[el] dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu %s",past:"fa %s",s:"uns segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(number,period){var output=1===number?"r":2===number?"n":3===number?"r":4===number?"t":"";return"w"!==period&&"W"!==period||(output="a"),number+output},week:{dow:1,doy:4}});var months$3="leden_nor_bezen_duben_kvten_erven_ervenec_srpen_z_jen_listopad_prosinec".split("_"),monthsShort="led_no_be_dub_kv_vn_vc_srp_z_j_lis_pro".split("_");function plural$1(n){return n>1&&n<5&&1!=~~(n/10)}function translate$1(number,withoutSuffix,key,isFuture){var result=number+" ";switch(key){case"s":return withoutSuffix||isFuture?"pr sekund":"pr sekundami";case"m":return withoutSuffix?"minuta":isFuture?"minutu":"minutou";case"mm":return withoutSuffix||isFuture?result+(plural$1(number)?"minuty":"minut"):result+"minutami";case"h":return withoutSuffix?"hodina":isFuture?"hodinu":"hodinou";case"hh":return withoutSuffix||isFuture?result+(plural$1(number)?"hodiny":"hodin"):result+"hodinami";case"d":return withoutSuffix||isFuture?"den":"dnem";case"dd":return withoutSuffix||isFuture?result+(plural$1(number)?"dny":"dn"):result+"dny";case"M":return withoutSuffix||isFuture?"msc":"mscem";case"MM":return withoutSuffix||isFuture?result+(plural$1(number)?"msce":"msc"):result+"msci";case"y":return withoutSuffix||isFuture?"rok":"rokem";case"yy":return withoutSuffix||isFuture?result+(plural$1(number)?"roky":"let"):result+"lety"}}function processRelativeTime(number,withoutSuffix,key,isFuture){var format={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[number+" Tage",number+" Tagen"],M:["ein Monat","einem Monat"],MM:[number+" Monate",number+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[number+" Jahre",number+" Jahren"]};return withoutSuffix?format[key][0]:format[key][1]}function processRelativeTime$1(number,withoutSuffix,key,isFuture){var format={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[number+" Tage",number+" Tagen"],M:["ein Monat","einem Monat"],MM:[number+" Monate",number+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[number+" Jahre",number+" Jahren"]};return withoutSuffix?format[key][0]:format[key][1]}function processRelativeTime$2(number,withoutSuffix,key,isFuture){var format={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[number+" Tage",number+" Tagen"],M:["ein Monat","einem Monat"],MM:[number+" Monate",number+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[number+" Jahre",number+" Jahren"]};return withoutSuffix?format[key][0]:format[key][1]}hooks.defineLocale("cs",{months:months$3,monthsShort:monthsShort,monthsParse:function(months,monthsShort){var i,_monthsParse=[];for(i=0;i<12;i++)_monthsParse[i]=new RegExp("^"+months[i]+"$|^"+monthsShort[i]+"$","i");return _monthsParse}(months$3,monthsShort),shortMonthsParse:function(monthsShort){var i,_shortMonthsParse=[];for(i=0;i<12;i++)_shortMonthsParse[i]=new RegExp("^"+monthsShort[i]+"$","i");return _shortMonthsParse}(monthsShort),longMonthsParse:function(months){var i,_longMonthsParse=[];for(i=0;i<12;i++)_longMonthsParse[i]=new RegExp("^"+months[i]+"$","i");return _longMonthsParse}(months$3),weekdays:"nedle_pondl_ter_steda_tvrtek_ptek_sobota".split("_"),weekdaysShort:"ne_po_t_st_t_p_so".split("_"),weekdaysMin:"ne_po_t_st_t_p_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[ztra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve stedu v] LT";case 4:return"[ve tvrtek v] LT";case 5:return"[v ptek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[vera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou nedli v] LT";case 1:case 2:return"[minul] dddd [v] LT";case 3:return"[minulou stedu v] LT";case 4:case 5:return"[minul] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"ped %s",s:translate$1,m:translate$1,mm:translate$1,h:translate$1,hh:translate$1,d:translate$1,dd:translate$1,M:translate$1,MM:translate$1,y:translate$1,yy:translate$1},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),hooks.defineLocale("cv",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [] MMMM [] D[-]",LLL:"YYYY [] MMMM [] D[-], HH:mm",LLLL:"dddd, YYYY [] MMMM [] D[-], HH:mm"},calendar:{sameDay:"[] LT []",nextDay:"[] LT []",lastDay:"[] LT []",nextWeek:"[] dddd LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:function(output){return output+(/$/i.exec(output)?"":/$/i.exec(output)?"":"")},past:"%s ",s:"- ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-/,ordinal:"%d-",week:{dow:1,doy:7}}),hooks.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn l",s:"ychydig eiliadau",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(number){var output="";return number>20?output=40===number||50===number||60===number||80===number||100===number?"fed":"ain":number>0&&(output=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][number]),number+output},week:{dow:1,doy:4}}),hooks.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tir_ons_tor_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mned",MM:"%d mneder",y:"et r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),hooks.defineLocale("de-at",{months:"Jnner_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jn._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:processRelativeTime,mm:"%d Minuten",h:processRelativeTime,hh:"%d Stunden",d:processRelativeTime,dd:processRelativeTime,M:processRelativeTime,MM:processRelativeTime,y:processRelativeTime,yy:processRelativeTime},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),hooks.defineLocale("de-ch",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz_April_Mai_Juni_Juli_Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH.mm",LLLL:"dddd, D. MMMM YYYY HH.mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:processRelativeTime$1,mm:"%d Minuten",h:processRelativeTime$1,hh:"%d Stunden",d:processRelativeTime$1,dd:processRelativeTime$1,M:processRelativeTime$1,MM:processRelativeTime$1,y:processRelativeTime$1,yy:processRelativeTime$1},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),hooks.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:processRelativeTime$2,mm:"%d Minuten",h:processRelativeTime$2,hh:"%d Stunden",d:processRelativeTime$2,dd:processRelativeTime$2,M:processRelativeTime$2,MM:processRelativeTime$2,y:processRelativeTime$2,yy:processRelativeTime$2},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var months$4=["","","","","","","","","","","",""],weekdays=["","","","","","",""];hooks.defineLocale("dv",{months:months$4,monthsShort:months$4,weekdays:weekdays,weekdaysShort:weekdays,weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(input){return""===input},meridiem:function(hour,minute,isLower){return hour<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},preparse:function(string){return string.replace(//g,",")},postformat:function(string){return string.replace(/,/g,"")},week:{dow:7,doy:12}}),hooks.defineLocale("el",{monthsNominativeEl:"___________".split("_"),monthsGenitiveEl:"___________".split("_"),months:function(momentToFormat,format){return momentToFormat?/D/.test(format.substring(0,format.indexOf("MMMM")))?this._monthsGenitiveEl[momentToFormat.month()]:this._monthsNominativeEl[momentToFormat.month()]:this._monthsNominativeEl},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),meridiem:function(hours,minutes,isLower){return hours>11?isLower?"":"":isLower?"":""},isPM:function(input){return""===(input+"").toLowerCase()[0]},meridiemParse:/[]\.??\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[ {}] LT",nextDay:"[ {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[ {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[ ] dddd [{}] LT";default:return"[ ] dddd [{}] LT"}},sameElse:"L"},calendar:function(key,mom){var output=this._calendarEl[key],hours=mom&&mom.hours();return isFunction(output)&&(output=output.apply(mom)),output.replace("{}",hours%12==1?"":"")},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}}),hooks.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(number){var b=number%10;return number+(1==~~(number%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")},week:{dow:1,doy:4}}),hooks.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(number){var b=number%10;return number+(1==~~(number%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")}}),hooks.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(number){var b=number%10;return number+(1==~~(number%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")},week:{dow:1,doy:4}}),hooks.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(number){var b=number%10;return number+(1==~~(number%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")},week:{dow:1,doy:4}}),hooks.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(number){var b=number%10;return number+(1==~~(number%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")},week:{dow:1,doy:4}}),hooks.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_agusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_ag_sep_okt_nov_dec".split("_"),weekdays:"dimano_lundo_mardo_merkredo_ado_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_a_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D[-a de] MMMM, YYYY",LLL:"D[-a de] MMMM, YYYY HH:mm",LLLL:"dddd, [la] D[-a de] MMMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(input){return"p"===input.charAt(0).toLowerCase()},meridiem:function(hours,minutes,isLower){return hours>11?isLower?"p.t.m.":"P.T.M.":isLower?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia je] LT",nextDay:"[Morga je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hiera je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta %s",s:"sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}});var monthsShortDot="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),monthsShort$1="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");hooks.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(m,format){return m?/-MMM-/.test(format)?monthsShort$1[m.month()]:monthsShortDot[m.month()]:monthsShortDot},monthsParseExact:!0,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}});var monthsShortDot$1="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),monthsShort$2="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_");function processRelativeTime$3(number,withoutSuffix,key,isFuture){var format={s:["mne sekundi","mni sekund","paar sekundit"],m:["he minuti","ks minut"],mm:[number+" minuti",number+" minutit"],h:["he tunni","tund aega","ks tund"],hh:[number+" tunni",number+" tundi"],d:["he peva","ks pev"],M:["kuu aja","kuu aega","ks kuu"],MM:[number+" kuu",number+" kuud"],y:["he aasta","aasta","ks aasta"],yy:[number+" aasta",number+" aastat"]};return withoutSuffix?format[key][2]?format[key][2]:format[key][1]:isFuture?format[key][0]:format[key][1]}hooks.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(m,format){return m?/-MMM-/.test(format)?monthsShort$2[m.month()]:monthsShortDot$1[m.month()]:monthsShortDot$1},monthsParseExact:!0,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}}),hooks.defineLocale("et",{months:"jaanuar_veebruar_mrts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_mrts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"phapev_esmaspev_teisipev_kolmapev_neljapev_reede_laupev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Tna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Jrgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s prast",past:"%s tagasi",s:processRelativeTime$3,m:processRelativeTime$3,mm:processRelativeTime$3,h:processRelativeTime$3,hh:processRelativeTime$3,d:processRelativeTime$3,dd:"%d peva",M:processRelativeTime$3,MM:processRelativeTime$3,y:processRelativeTime$3,yy:processRelativeTime$3},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),hooks.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});var symbolMap$5={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},numberMap$4={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};hooks.defineLocale("fa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/  |  /,isPM:function(input){return/  /.test(input)},meridiem:function(hour,minute,isLower){return hour<12?"  ":"  "},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(string){return string.replace(/[-]/g,function(match){return numberMap$4[match]}).replace(//g,",")},postformat:function(string){return string.replace(/\d/g,function(match){return symbolMap$5[match]}).replace(/,/g,"")},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:6,doy:12}});var numbersPast="nolla yksi kaksi kolme nelj viisi kuusi seitsemn kahdeksan yhdeksn".split(" "),numbersFuture=["nolla","yhden","kahden","kolmen","neljn","viiden","kuuden",numbersPast[7],numbersPast[8],numbersPast[9]];function translate$2(number,withoutSuffix,key,isFuture){var result="";switch(key){case"s":return isFuture?"muutaman sekunnin":"muutama sekunti";case"m":return isFuture?"minuutin":"minuutti";case"mm":result=isFuture?"minuutin":"minuuttia";break;case"h":return isFuture?"tunnin":"tunti";case"hh":result=isFuture?"tunnin":"tuntia";break;case"d":return isFuture?"pivn":"piv";case"dd":result=isFuture?"pivn":"piv";break;case"M":return isFuture?"kuukauden":"kuukausi";case"MM":result=isFuture?"kuukauden":"kuukautta";break;case"y":return isFuture?"vuoden":"vuosi";case"yy":result=isFuture?"vuoden":"vuotta"}return result=function(number,isFuture){return number<10?isFuture?numbersFuture[number]:numbersPast[number]:number}(number,isFuture)+" "+result}hooks.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_keskuu_heinkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes_hein_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tnn] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s pst",past:"%s sitten",s:translate$2,m:translate$2,mm:translate$2,h:translate$2,hh:translate$2,d:translate$2,dd:translate$2,M:translate$2,MM:translate$2,y:translate$2,yy:translate$2},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),hooks.defineLocale("fo",{months:"januar_februar_mars_aprl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mnadagur_tsdagur_mikudagur_hsdagur_frggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mn_ts_mik_hs_fr_ley".split("_"),weekdaysMin:"su_m_t_mi_h_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gjr kl.] LT",lastWeek:"[sstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s sani",s:"f sekund",m:"ein minutt",mm:"%d minuttir",h:"ein tmi",hh:"%d tmar",d:"ein dagur",dd:"%d dagar",M:"ein mnai",MM:"%d mnair",y:"eitt r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),hooks.defineLocale("fr-ca",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(number,period){switch(period){default:case"M":case"Q":case"D":case"DDD":case"d":return number+(1===number?"er":"e");case"w":case"W":return number+(1===number?"re":"e")}}}),hooks.defineLocale("fr-ch",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(number,period){switch(period){default:case"M":case"Q":case"D":case"DDD":case"d":return number+(1===number?"er":"e");case"w":case"W":return number+(1===number?"re":"e")}},week:{dow:1,doy:4}}),hooks.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(number,period){switch(period){case"D":return number+(1===number?"er":"");default:case"M":case"Q":case"DDD":case"d":return number+(1===number?"er":"e");case"w":case"W":return number+(1===number?"re":"e")}},week:{dow:1,doy:4}});var monthsShortWithDots="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),monthsShortWithoutDots="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");hooks.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(m,format){return m?/-MMM-/.test(format)?monthsShortWithoutDots[m.month()]:monthsShortWithDots[m.month()]:monthsShortWithDots},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[frne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",m:"ien mint",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(number){return number+(1===number||8===number||number>=20?"ste":"de")},week:{dow:1,doy:4}});function processRelativeTime$4(number,withoutSuffix,key,isFuture){var format={s:["thodde secondanim","thodde second"],m:["eka mintan","ek minute"],mm:[number+" mintanim",number+" mintam"],h:["eka horan","ek hor"],hh:[number+" horanim",number+" hor"],d:["eka disan","ek dis"],dd:[number+" disanim",number+" dis"],M:["eka mhoinean","ek mhoino"],MM:[number+" mhoineanim",number+" mhoine"],y:["eka vorsan","ek voros"],yy:[number+" vorsanim",number+" vorsam"]};return withoutSuffix?format[key][0]:format[key][1]}hooks.defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am Mrt","An Giblean","An Citean","An t-gmhios","An t-Iuchar","An Lnastal","An t-Sultain","An Dmhair","An t-Samhain","An Dbhlachd"],monthsShort:["Faoi","Gear","Mrt","Gibl","Cit","gmh","Iuch","Ln","Sult","Dmh","Samh","Dbh"],monthsParseExact:!0,weekdays:["Didmhnaich","Diluain","Dimirt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["D","Lu","M","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-mireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mos",MM:"%d mosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(number){return number+(1===number?"d":number%10==2?"na":"mh")},week:{dow:1,doy:4}}),hooks.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xuo_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_mrcores_xoves_venres_sbado".split("_"),weekdaysShort:"dom._lun._mar._mr._xov._ven._sb.".split("_"),weekdaysMin:"do_lu_ma_m_xo_ve_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma "+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(str){return 0===str.indexOf("un")?"n"+str:"en "+str},past:"hai %s",s:"uns segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}}),hooks.defineLocale("gom-latn",{months:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budvar_Brestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM[achea] Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Ieta to] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fatlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:processRelativeTime$4,m:processRelativeTime$4,mm:processRelativeTime$4,h:processRelativeTime$4,hh:processRelativeTime$4,d:processRelativeTime$4,dd:processRelativeTime$4,M:processRelativeTime$4,MM:processRelativeTime$4,y:processRelativeTime$4,yy:processRelativeTime$4},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(number,period){switch(period){case"D":return number+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return number}},week:{dow:1,doy:4},meridiemParse:/rati|sokalli|donparam|sanje/,meridiemHour:function(hour,meridiem){return 12===hour&&(hour=0),"rati"===meridiem?hour<4?hour:hour+12:"sokalli"===meridiem?hour:"donparam"===meridiem?hour>12?hour:hour+12:"sanje"===meridiem?hour+12:void 0},meridiem:function(hour,minute,isLower){return hour<4?"rati":hour<12?"sokalli":hour<16?"donparam":hour<20?"sanje":"rati"}}),hooks.defineLocale("he",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D []MMMM YYYY",LLL:"D []MMMM YYYY HH:mm",LLLL:"dddd, D []MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[ ]LT",nextDay:"[ ]LT",nextWeek:"dddd [] LT",lastDay:"[ ]LT",lastWeek:"[] dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:"",mm:"%d ",h:"",hh:function(number){return 2===number?"":number+" "},d:"",dd:function(number){return 2===number?"":number+" "},M:"",MM:function(number){return 2===number?"":number+" "},y:"",yy:function(number){return 2===number?"":number%10==0&&10!==number?number+" ":number+" "}},meridiemParse:/"|"| | | ||/i,isPM:function(input){return/^("| |)$/.test(input)},meridiem:function(hour,minute,isLower){return hour<5?" ":hour<10?"":hour<12?isLower?'"':" ":hour<18?isLower?'"':" ":""}});var symbolMap$6={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},numberMap$5={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};function translate$3(number,withoutSuffix,key){var result=number+" ";switch(key){case"m":return withoutSuffix?"jedna minuta":"jedne minute";case"mm":return result+=1===number?"minuta":2===number||3===number||4===number?"minute":"minuta";case"h":return withoutSuffix?"jedan sat":"jednog sata";case"hh":return result+=1===number?"sat":2===number||3===number||4===number?"sata":"sati";case"dd":return result+=1===number?"dan":"dana";case"MM":return result+=1===number?"mjesec":2===number||3===number||4===number?"mjeseca":"mjeseci";case"yy":return result+=1===number?"godina":2===number||3===number||4===number?"godine":"godina"}}hooks.defineLocale("hi",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(string){return string.replace(/[]/g,function(match){return numberMap$5[match]})},postformat:function(string){return string.replace(/\d/g,function(match){return symbolMap$6[match]})},meridiemParse:/|||/,meridiemHour:function(hour,meridiem){return 12===hour&&(hour=0),""===meridiem?hour<4?hour:hour+12:""===meridiem?hour:""===meridiem?hour>=10?hour:hour+12:""===meridiem?hour+12:void 0},meridiem:function(hour,minute,isLower){return hour<4?"":hour<10?"":hour<17?"":hour<20?"":""},week:{dow:0,doy:6}}),hooks.defineLocale("hr",{months:{format:"sijenja_veljae_oujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sijeanj_veljaa_oujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ou._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:translate$3,mm:translate$3,h:translate$3,hh:translate$3,d:"dan",dd:translate$3,M:"mjesec",MM:translate$3,y:"godinu",yy:translate$3},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});var weekEndings="vasrnap htfn kedden szerdn cstrtkn pnteken szombaton".split(" ");function translate$4(number,withoutSuffix,key,isFuture){var num=number;switch(key){case"s":return isFuture||withoutSuffix?"nhny msodperc":"nhny msodperce";case"m":return"egy"+(isFuture||withoutSuffix?" perc":" perce");case"mm":return num+(isFuture||withoutSuffix?" perc":" perce");case"h":return"egy"+(isFuture||withoutSuffix?" ra":" rja");case"hh":return num+(isFuture||withoutSuffix?" ra":" rja");case"d":return"egy"+(isFuture||withoutSuffix?" nap":" napja");case"dd":return num+(isFuture||withoutSuffix?" nap":" napja");case"M":return"egy"+(isFuture||withoutSuffix?" hnap":" hnapja");case"MM":return num+(isFuture||withoutSuffix?" hnap":" hnapja");case"y":return"egy"+(isFuture||withoutSuffix?" v":" ve");case"yy":return num+(isFuture||withoutSuffix?" v":" ve")}return""}function week(isFuture){return(isFuture?"":"[mlt] ")+"["+weekEndings[this.day()]+"] LT[-kor]"}function plural$2(n){return n%100==11||n%10!=1}function translate$5(number,withoutSuffix,key,isFuture){var result=number+" ";switch(key){case"s":return withoutSuffix||isFuture?"nokkrar sekndur":"nokkrum sekndum";case"m":return withoutSuffix?"mnta":"mntu";case"mm":return plural$2(number)?result+(withoutSuffix||isFuture?"mntur":"mntum"):withoutSuffix?result+"mnta":result+"mntu";case"hh":return plural$2(number)?result+(withoutSuffix||isFuture?"klukkustundir":"klukkustundum"):result+"klukkustund";case"d":return withoutSuffix?"dagur":isFuture?"dag":"degi";case"dd":return plural$2(number)?withoutSuffix?result+"dagar":result+(isFuture?"daga":"dgum"):withoutSuffix?result+"dagur":result+(isFuture?"dag":"degi");case"M":return withoutSuffix?"mnuur":isFuture?"mnu":"mnui";case"MM":return plural$2(number)?withoutSuffix?result+"mnuir":result+(isFuture?"mnui":"mnuum"):withoutSuffix?result+"mnuur":result+(isFuture?"mnu":"mnui");case"y":return withoutSuffix||isFuture?"r":"ri";case"yy":return plural$2(number)?result+(withoutSuffix||isFuture?"r":"rum"):result+(withoutSuffix||isFuture?"r":"ri")}}hooks.defineLocale("hu",{months:"janur_februr_mrcius_prilis_mjus_jnius_jlius_augusztus_szeptember_oktber_november_december".split("_"),monthsShort:"jan_feb_mrc_pr_mj_jn_jl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasrnap_htf_kedd_szerda_cstrtk_pntek_szombat".split("_"),weekdaysShort:"vas_ht_kedd_sze_cst_pn_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(input){return"u"===input.charAt(1).toLowerCase()},meridiem:function(hours,minutes,isLower){return hours<12?!0===isLower?"de":"DE":!0===isLower?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return week.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return week.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s mlva",past:"%s",s:translate$4,m:translate$4,mm:translate$4,h:translate$4,hh:translate$4,d:translate$4,dd:translate$4,M:translate$4,MM:translate$4,y:translate$4,yy:translate$4},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),hooks.defineLocale("hy-am",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",lastDay:"[] LT",nextWeek:function(){return"dddd [ ] LT"},lastWeek:function(){return"[] dddd [ ] LT"},sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},meridiemParse:/|||/,isPM:function(input){return/^(|)$/.test(input)},meridiem:function(hour){return hour<4?"":hour<12?"":hour<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(|)/,ordinal:function(number,period){switch(period){case"DDD":case"w":case"W":case"DDDo":return 1===number?number+"-":number+"-";default:return number}},week:{dow:1,doy:7}}),hooks.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(hour,meridiem){return 12===hour&&(hour=0),"pagi"===meridiem?hour:"siang"===meridiem?hour>=11?hour:hour+12:"sore"===meridiem||"malam"===meridiem?hour+12:void 0},meridiem:function(hours,minutes,isLower){return hours<11?"pagi":hours<15?"siang":hours<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),hooks.defineLocale("is",{months:"janar_febrar_mars_aprl_ma_jn_jl_gst_september_oktber_nvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma_jn_jl_g_sep_okt_nv_des".split("_"),weekdays:"sunnudagur_mnudagur_rijudagur_mivikudagur_fimmtudagur_fstudagur_laugardagur".split("_"),weekdaysShort:"sun_mn_ri_mi_fim_fs_lau".split("_"),weekdaysMin:"Su_M_r_Mi_Fi_F_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gr kl.] LT",lastWeek:"[sasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s san",s:translate$5,m:translate$5,mm:translate$5,h:"klukkustund",hh:translate$5,d:translate$5,dd:translate$5,M:translate$5,MM:translate$5,y:translate$5,yy:translate$5},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),hooks.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(s){return(/^[0-9].+$/.test(s)?"tra":"in")+" "+s},past:"%s fa",s:"alcuni secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}}),hooks.defineLocale("ja",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMD HH:mm dddd",l:"YYYY/MM/DD",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMD HH:mm dddd"},meridiemParse:/|/i,isPM:function(input){return""===input},meridiem:function(hour,minute,isLower){return hour<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(number,period){switch(period){case"d":case"D":case"DDD":return number+"";default:return number}},relativeTime:{future:"%s",past:"%s",s:"",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}}),hooks.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(hour,meridiem){return 12===hour&&(hour=0),"enjing"===meridiem?hour:"siyang"===meridiem?hour>=11?hour:hour+12:"sonten"===meridiem||"ndalu"===meridiem?hour+12:void 0},meridiem:function(hours,minutes,isLower){return hours<11?"enjing":hours<15?"siyang":hours<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}}),hooks.defineLocale("ka",{months:{standalone:"___________".split("_"),format:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/(|)/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[] LT[-]",nextDay:"[] LT[-]",lastDay:"[] LT[-]",nextWeek:"[] dddd LT[-]",lastWeek:"[] dddd LT-",sameElse:"L"},relativeTime:{future:function(s){return/(|||)/.test(s)?s.replace(/$/,""):s+""},past:function(s){return/(||||)/.test(s)?s.replace(/(|)$/," ")://.test(s)?s.replace(/$/," "):void 0},s:" ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/0|1-|-\d{1,2}|\d{1,2}-/,ordinal:function(number){return 0===number?number:1===number?number+"-":number<20||number<=100&&number%20==0||number%100==0?"-"+number:number+"-"},week:{dow:1,doy:7}});var suffixes$1={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};hooks.defineLocale("kk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(number){return number+(suffixes$1[number]||suffixes$1[number%10]||suffixes$1[number>=100?100:null])},week:{dow:1,doy:7}}),hooks.defineLocale("km",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}});var symbolMap$7={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},numberMap$6={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};hooks.defineLocale("kn",{months:"___________".split("_"),monthsShort:"___________".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(string){return string.replace(/[]/g,function(match){return numberMap$6[match]})},postformat:function(string){return string.replace(/\d/g,function(match){return symbolMap$7[match]})},meridiemParse:/|||/,meridiemHour:function(hour,meridiem){return 12===hour&&(hour=0),""===meridiem?hour<4?hour:hour+12:""===meridiem?hour:""===meridiem?hour>=10?hour:hour+12:""===meridiem?hour+12:void 0},meridiem:function(hour,minute,isLower){return hour<4?"":hour<10?"":hour<17?"":hour<20?"":""},dayOfMonthOrdinalParse:/\d{1,2}()/,ordinal:function(number){return number+""},week:{dow:0,doy:6}}),hooks.defineLocale("ko",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D A h:mm",LLLL:"YYYY MMMM D dddd A h:mm",l:"YYYY.MM.DD",ll:"YYYY MMMM D",lll:"YYYY MMMM D A h:mm",llll:"YYYY MMMM D dddd A h:mm"},calendar:{sameDay:" LT",nextDay:" LT",nextWeek:"dddd LT",lastDay:" LT",lastWeek:" dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d",m:"1",mm:"%d",h:" ",hh:"%d",d:"",dd:"%d",M:" ",MM:"%d",y:" ",yy:"%d"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",meridiemParse:/|/,isPM:function(token){return""===token},meridiem:function(hour,minute,isUpper){return hour<12?"":""}});var suffixes$2={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};function processRelativeTime$5(number,withoutSuffix,key,isFuture){var format={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return withoutSuffix?format[key][0]:format[key][1]}function eifelerRegelAppliesToNumber(number){if(number=parseInt(number,10),isNaN(number))return!1;if(number<0)return!0;if(number<10)return 4<=number&&number<=7;if(number<100){var lastDigit=number%10;return eifelerRegelAppliesToNumber(0===lastDigit?number/10:lastDigit)}if(number<1e4){for(;number>=10;)number/=10;return eifelerRegelAppliesToNumber(number)}return eifelerRegelAppliesToNumber(number/=1e3)}hooks.defineLocale("ky",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||)/,ordinal:function(number){return number+(suffixes$2[number]||suffixes$2[number%10]||suffixes$2[number>=100?100:null])},week:{dow:1,doy:7}}),hooks.defineLocale("lb",{months:"Januar_Februar_Merz_Abrll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_Mindeg_Dnschdeg_Mttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M._D._M._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M_D_M_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:function(string){return eifelerRegelAppliesToNumber(string.substr(0,string.indexOf(" ")))?"a "+string:"an "+string},past:function(string){return eifelerRegelAppliesToNumber(string.substr(0,string.indexOf(" ")))?"viru "+string:"virun "+string},s:"e puer Sekonnen",m:processRelativeTime$5,mm:"%d Minutten",h:processRelativeTime$5,hh:"%d Stonnen",d:processRelativeTime$5,dd:"%d Deeg",M:processRelativeTime$5,MM:"%d Mint",y:processRelativeTime$5,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),hooks.defineLocale("lo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(input){return""===input},meridiem:function(hour,minute,isLower){return hour<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd[] LT",lastDay:"[] LT",lastWeek:"[]dddd[] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},dayOfMonthOrdinalParse:/()\d{1,2}/,ordinal:function(number){return""+number}});var units={m:"minut_minuts_minut",mm:"minuts_minui_minutes",h:"valanda_valandos_valand",hh:"valandos_valand_valandas",d:"diena_dienos_dien",dd:"dienos_dien_dienas",M:"mnuo_mnesio_mnes",MM:"mnesiai_mnesi_mnesius",y:"metai_met_metus",yy:"metai_met_metus"};function translateSingular(number,withoutSuffix,key,isFuture){return withoutSuffix?forms(key)[0]:isFuture?forms(key)[1]:forms(key)[2]}function special(number){return number%10==0||number>10&&number<20}function forms(key){return units[key].split("_")}function translate$6(number,withoutSuffix,key,isFuture){var result=number+" ";return 1===number?result+translateSingular(0,withoutSuffix,key[0],isFuture):withoutSuffix?result+(special(number)?forms(key)[1]:forms(key)[0]):isFuture?result+forms(key)[1]:result+(special(number)?forms(key)[1]:forms(key)[2])}hooks.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandio_gegus_birelio_liepos_rugpjio_rugsjo_spalio_lapkriio_gruodio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu_birelis_liepa_rugpjtis_rugsjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien_pirmadien_antradien_treiadien_ketvirtadien_penktadien_etadien".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_treiadienis_ketvirtadienis_penktadienis_etadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_e".split("_"),weekdaysMin:"S_P_A_T_K_Pn_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Prajus] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie %s",s:function(number,withoutSuffix,key,isFuture){return withoutSuffix?"kelios sekunds":isFuture?"keli sekundi":"kelias sekundes"},m:translateSingular,mm:translate$6,h:translateSingular,hh:translate$6,d:translateSingular,dd:translate$6,M:translateSingular,MM:translate$6,y:translateSingular,yy:translate$6},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(number){return number+"-oji"},week:{dow:1,doy:4}});var units$1={m:"mintes_mintm_minte_mintes".split("_"),mm:"mintes_mintm_minte_mintes".split("_"),h:"stundas_stundm_stunda_stundas".split("_"),hh:"stundas_stundm_stunda_stundas".split("_"),d:"dienas_dienm_diena_dienas".split("_"),dd:"dienas_dienm_diena_dienas".split("_"),M:"mnea_mneiem_mnesis_mnei".split("_"),MM:"mnea_mneiem_mnesis_mnei".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function format$1(forms,number,withoutSuffix){return withoutSuffix?number%10==1&&number%100!=11?forms[2]:forms[3]:number%10==1&&number%100!=11?forms[0]:forms[1]}function relativeTimeWithPlural$1(number,withoutSuffix,key){return number+" "+format$1(units$1[key],number,withoutSuffix)}function relativeTimeWithSingular(number,withoutSuffix,key){return format$1(units$1[key],number,withoutSuffix)}hooks.defineLocale("lv",{months:"janvris_februris_marts_aprlis_maijs_jnijs_jlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jn_jl_aug_sep_okt_nov_dec".split("_"),weekdays:"svtdiena_pirmdiena_otrdiena_trediena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[odien pulksten] LT",nextDay:"[Rt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagju] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pc %s",past:"pirms %s",s:function(number,withoutSuffix){return withoutSuffix?"daas sekundes":"dam sekundm"},m:relativeTimeWithSingular,mm:relativeTimeWithPlural$1,h:relativeTimeWithSingular,hh:relativeTimeWithPlural$1,d:relativeTimeWithSingular,dd:relativeTimeWithPlural$1,M:relativeTimeWithSingular,MM:relativeTimeWithPlural$1,y:relativeTimeWithSingular,yy:relativeTimeWithPlural$1},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var translator={words:{m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(number,wordKey){return 1===number?wordKey[0]:number>=2&&number<=4?wordKey[1]:wordKey[2]},translate:function(number,withoutSuffix,key){var wordKey=translator.words[key];return 1===key.length?withoutSuffix?wordKey[0]:wordKey[1]:number+" "+translator.correctGrammaticalCase(number,wordKey)}};hooks.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){return["[prole] [nedjelje] [u] LT","[prolog] [ponedjeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srijede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",m:translator.translate,mm:translator.translate,h:translator.translate,hh:translator.translate,d:"dan",dd:translator.translate,M:"mjesec",MM:translator.translate,y:"godinu",yy:translator.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),hooks.defineLocale("mi",{months:"Kohi-tte_Hui-tanguru_Pout-te-rangi_Paenga-whwh_Haratua_Pipiri_Hngoingoi_Here-turi-kk_Mahuru_Whiringa--nuku_Whiringa--rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_Hngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"Rtapu_Mane_Trei_Wenerei_Tite_Paraire_Htarei".split("_"),weekdaysShort:"Ta_Ma_T_We_Ti_Pa_H".split("_"),weekdaysMin:"Ta_Ma_T_We_Ti_Pa_H".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hkona ruarua",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}}),hooks.defineLocale("mk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"e_o_____a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[] dddd [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(number){var lastDigit=number%10,last2Digits=number%100;return 0===number?number+"-":0===last2Digits?number+"-":last2Digits>10&&last2Digits<20?number+"-":1===lastDigit?number+"-":2===lastDigit?number+"-":7===lastDigit||8===lastDigit?number+"-":number+"-"},week:{dow:1,doy:7}}),hooks.defineLocale("ml",{months:"___________".split("_"),monthsShort:"._._._.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm -",LTS:"A h:mm:ss -",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -",LLLL:"dddd, D MMMM YYYY, A h:mm -"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|| ||/i,meridiemHour:function(hour,meridiem){return 12===hour&&(hour=0),""===meridiem&&hour>=4||" "===meridiem||""===meridiem?hour+12:hour},meridiem:function(hour,minute,isLower){return hour<4?"":hour<12?"":hour<17?" ":hour<20?"":""}});var symbolMap$8={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},numberMap$7={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};function relativeTimeMr(number,withoutSuffix,string,isFuture){var output="";if(withoutSuffix)switch(string){case"s":output=" ";break;case"m":output=" ";break;case"mm":output="%d ";break;case"h":output=" ";break;case"hh":output="%d ";break;case"d":output=" ";break;case"dd":output="%d ";break;case"M":output=" ";break;case"MM":output="%d ";break;case"y":output=" ";break;case"yy":output="%d "}else switch(string){case"s":output=" ";break;case"m":output=" ";break;case"mm":output="%d ";break;case"h":output=" ";break;case"hh":output="%d ";break;case"d":output=" ";break;case"dd":output="%d ";break;case"M":output=" ";break;case"MM":output="%d ";break;case"y":output=" ";break;case"yy":output="%d "}return output.replace(/%d/i,number)}hooks.defineLocale("mr",{months:"___________".split("_"),monthsShort:"._._._._._._._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:relativeTimeMr,m:relativeTimeMr,mm:relativeTimeMr,h:relativeTimeMr,hh:relativeTimeMr,d:relativeTimeMr,dd:relativeTimeMr,M:relativeTimeMr,MM:relativeTimeMr,y:relativeTimeMr,yy:relativeTimeMr},preparse:function(string){return string.replace(/[]/g,function(match){return numberMap$7[match]})},postformat:function(string){return string.replace(/\d/g,function(match){return symbolMap$8[match]})},meridiemParse:/|||/,meridiemHour:function(hour,meridiem){return 12===hour&&(hour=0),""===meridiem?hour<4?hour:hour+12:""===meridiem?hour:""===meridiem?hour>=10?hour:hour+12:""===meridiem?hour+12:void 0},meridiem:function(hour,minute,isLower){return hour<4?"":hour<10?"":hour<17?"":hour<20?"":""},week:{dow:0,doy:6}}),hooks.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(hour,meridiem){return 12===hour&&(hour=0),"pagi"===meridiem?hour:"tengahari"===meridiem?hour>=11?hour:hour+12:"petang"===meridiem||"malam"===meridiem?hour+12:void 0},meridiem:function(hours,minutes,isLower){return hours<11?"pagi":hours<15?"tengahari":hours<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}}),hooks.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(hour,meridiem){return 12===hour&&(hour=0),"pagi"===meridiem?hour:"tengahari"===meridiem?hour>=11?hour:hour+12:"petang"===meridiem||"malam"===meridiem?hour+12:void 0},meridiem:function(hours,minutes,isLower){return hours<11?"pagi":hours<15?"tengahari":hours<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}});var symbolMap$9={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},numberMap$8={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};hooks.defineLocale("my",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[.] LT []",nextDay:"[] LT []",nextWeek:"dddd LT []",lastDay:"[.] LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:" %s ",past:" %s ",s:".",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(string){return string.replace(/[]/g,function(match){return numberMap$8[match]})},postformat:function(string){return string.replace(/\d/g,function(match){return symbolMap$9[match]})},week:{dow:1,doy:4}}),hooks.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"s._ma._ti._on._to._fr._l.".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en mned",MM:"%d mneder",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var symbolMap$10={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},numberMap$9={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};hooks.defineLocale("ne",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},preparse:function(string){return string.replace(/[]/g,function(match){return numberMap$9[match]})},postformat:function(string){return string.replace(/\d/g,function(match){return symbolMap$10[match]})},meridiemParse:/|||/,meridiemHour:function(hour,meridiem){return 12===hour&&(hour=0),""===meridiem?hour<4?hour:hour+12:""===meridiem?hour:""===meridiem?hour>=10?hour:hour+12:""===meridiem?hour+12:void 0},meridiem:function(hour,minute,isLower){return hour<3?"":hour<12?"":hour<16?"":hour<20?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:0,doy:6}});var monthsShortWithDots$1="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsShortWithoutDots$1="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),monthsParse=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],monthsRegex$1=/^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;hooks.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(m,format){return m?/-MMM-/.test(format)?monthsShortWithoutDots$1[m.month()]:monthsShortWithDots$1[m.month()]:monthsShortWithDots$1},monthsRegex:monthsRegex$1,monthsShortRegex:monthsRegex$1,monthsStrictRegex:/^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:monthsParse,longMonthsParse:monthsParse,shortMonthsParse:monthsParse,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"Zo_Ma_Di_Wo_Do_Vr_Za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(number){return number+(1===number||8===number||number>=20?"ste":"de")},week:{dow:1,doy:4}});var monthsShortWithDots$2="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsShortWithoutDots$2="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),monthsParse$1=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],monthsRegex$2=/^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;hooks.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(m,format){return m?/-MMM-/.test(format)?monthsShortWithoutDots$2[m.month()]:monthsShortWithDots$2[m.month()]:monthsShortWithDots$2},monthsRegex:monthsRegex$2,monthsShortRegex:monthsRegex$2,monthsStrictRegex:/^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:monthsParse$1,longMonthsParse:monthsParse$1,shortMonthsParse:monthsParse$1,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"Zo_Ma_Di_Wo_Do_Vr_Za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(number){return number+(1===number||8===number||number>=20?"ste":"de")},week:{dow:1,doy:4}}),hooks.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_mndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mn_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_m_ty_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I gr klokka] LT",lastWeek:"[Fregande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein mnad",MM:"%d mnader",y:"eit r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var symbolMap$11={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},numberMap$10={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};hooks.defineLocale("pa-in",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(string){return string.replace(/[]/g,function(match){return numberMap$10[match]})},postformat:function(string){return string.replace(/\d/g,function(match){return symbolMap$11[match]})},meridiemParse:/|||/,meridiemHour:function(hour,meridiem){return 12===hour&&(hour=0),""===meridiem?hour<4?hour:hour+12:""===meridiem?hour:""===meridiem?hour>=10?hour:hour+12:""===meridiem?hour+12:void 0},meridiem:function(hour,minute,isLower){return hour<4?"":hour<10?"":hour<17?"":hour<20?"":""},week:{dow:0,doy:6}});var monthsNominative="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),monthsSubjective="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_");function plural$3(n){return n%10<5&&n%10>1&&~~(n/10)%10!=1}function translate$7(number,withoutSuffix,key){var result=number+" ";switch(key){case"m":return withoutSuffix?"minuta":"minut";case"mm":return result+(plural$3(number)?"minuty":"minut");case"h":return withoutSuffix?"godzina":"godzin";case"hh":return result+(plural$3(number)?"godziny":"godzin");case"MM":return result+(plural$3(number)?"miesice":"miesicy");case"yy":return result+(plural$3(number)?"lata":"lat")}}function relativeTimeWithPlural$2(number,withoutSuffix,key){var separator=" ";return(number%100>=20||number>=100&&number%100==0)&&(separator=" de "),number+separator+{mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"}[key]}function relativeTimeWithPlural$3(number,withoutSuffix,key){var num,forms;return"m"===key?withoutSuffix?"":"":number+" "+(num=+number,forms={mm:withoutSuffix?"__":"__",hh:"__",dd:"__",MM:"__",yy:"__"}[key].split("_"),num%10==1&&num%100!=11?forms[0]:num%10>=2&&num%10<=4&&(num%100<10||num%100>=20)?forms[1]:forms[2])}hooks.defineLocale("pl",{months:function(momentToFormat,format){return momentToFormat?""===format?"("+monthsSubjective[momentToFormat.month()]+"|"+monthsNominative[momentToFormat.month()]+")":/D MMMM/.test(format)?monthsSubjective[momentToFormat.month()]:monthsNominative[momentToFormat.month()]:monthsNominative},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_r_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:"[W] dddd [o] LT",lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:translate$7,mm:translate$7,h:translate$7,hh:translate$7,d:"1 dzie",dd:"%d dni",M:"miesic",MM:translate$7,y:"rok",yy:translate$7},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),hooks.defineLocale("pt-br",{months:"Janeiro_Fevereiro_Maro_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [s] HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrs",s:"poucos segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d"}),hooks.defineLocale("pt",{months:"Janeiro_Fevereiro_Maro_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-Feira_Tera-Feira_Quarta-Feira_Quinta-Feira_Sexta-Feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}}),hooks.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic_luni_mari_miercuri_joi_vineri_smbt".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s n urm",s:"cteva secunde",m:"un minut",mm:relativeTimeWithPlural$2,h:"o or",hh:relativeTimeWithPlural$2,d:"o zi",dd:relativeTimeWithPlural$2,M:"o lun",MM:relativeTimeWithPlural$2,y:"un an",yy:relativeTimeWithPlural$2},week:{dow:1,doy:7}});var monthsParse$2=[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i];hooks.defineLocale("ru",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:{format:"._._._.____._._._._.".split("_"),standalone:"._.__.____._._._._.".split("_")},weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/\[ ?[] ?(?:||)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:monthsParse$2,longMonthsParse:monthsParse$2,shortMonthsParse:monthsParse$2,monthsRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsShortRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsStrictRegex:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[])/i,monthsShortStrictRegex:/^(\.|?\.|[.]|\.|[]|[.]|[.]|\.|?\.|\.|?\.|\.)/i,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(now){if(now.week()===this.week())return 2===this.day()?"[] dddd [] LT":"[] dddd [] LT";switch(this.day()){case 0:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT";case 3:case 5:case 6:return"[ ] dddd [] LT"}},lastWeek:function(now){if(now.week()===this.week())return 2===this.day()?"[] dddd [] LT":"[] dddd [] LT";switch(this.day()){case 0:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT";case 3:case 5:case 6:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:relativeTimeWithPlural$3,mm:relativeTimeWithPlural$3,h:"",hh:relativeTimeWithPlural$3,d:"",dd:relativeTimeWithPlural$3,M:"",MM:relativeTimeWithPlural$3,y:"",yy:relativeTimeWithPlural$3},meridiemParse:/|||/i,isPM:function(input){return/^(|)$/.test(input)},meridiem:function(hour,minute,isLower){return hour<4?"":hour<12?"":hour<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(number,period){switch(period){case"M":case"d":case"DDD":return number+"-";case"D":return number+"-";case"w":case"W":return number+"-";default:return number}},week:{dow:1,doy:7}});var months$6=["","","","","","","","","","","",""],days$1=["","","","","","",""];hooks.defineLocale("sd",{months:months$6,monthsShort:months$6,weekdays:days$1,weekdaysShort:days$1,weekdaysMin:days$1,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(input){return""===input},meridiem:function(hour,minute,isLower){return hour<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd [  ] LT",lastDay:"[] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(string){return string.replace(//g,",")},postformat:function(string){return string.replace(/,/g,"")},week:{dow:1,doy:4}}),hooks.defineLocale("se",{months:"oajagemnnu_guovvamnnu_njukamnnu_cuoomnnu_miessemnnu_geassemnnu_suoidnemnnu_borgemnnu_akamnnu_golggotmnnu_skbmamnnu_juovlamnnu".split("_"),monthsShort:"oj_guov_njuk_cuo_mies_geas_suoi_borg_ak_golg_skb_juov".split("_"),weekdays:"sotnabeaivi_vuossrga_maebrga_gaskavahkku_duorastat_bearjadat_lvvardat".split("_"),weekdaysShort:"sotn_vuos_ma_gask_duor_bear_lv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geaes",past:"mait %s",s:"moadde sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mnnu",MM:"%d mnut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),hooks.defineLocale("si",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [] dddd, a h:mm:ss"},calendar:{sameDay:"[] LT[]",nextDay:"[] LT[]",nextWeek:"dddd LT[]",lastDay:"[] LT[]",lastWeek:"[] dddd LT[]",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(number){return number+" "},meridiemParse:/ | |.|../,isPM:function(input){return".."===input||" "===input},meridiem:function(hours,minutes,isLower){return hours>11?isLower?"..":" ":isLower?"..":" "}});var months$7="janur_februr_marec_aprl_mj_jn_jl_august_september_oktber_november_december".split("_"),monthsShort$4="jan_feb_mar_apr_mj_jn_jl_aug_sep_okt_nov_dec".split("_");function plural$5(n){return n>1&&n<5}function translate$8(number,withoutSuffix,key,isFuture){var result=number+" ";switch(key){case"s":return withoutSuffix||isFuture?"pr seknd":"pr sekundami";case"m":return withoutSuffix?"minta":isFuture?"mintu":"mintou";case"mm":return withoutSuffix||isFuture?result+(plural$5(number)?"minty":"mint"):result+"mintami";case"h":return withoutSuffix?"hodina":isFuture?"hodinu":"hodinou";case"hh":return withoutSuffix||isFuture?result+(plural$5(number)?"hodiny":"hodn"):result+"hodinami";case"d":return withoutSuffix||isFuture?"de":"dom";case"dd":return withoutSuffix||isFuture?result+(plural$5(number)?"dni":"dn"):result+"dami";case"M":return withoutSuffix||isFuture?"mesiac":"mesiacom";case"MM":return withoutSuffix||isFuture?result+(plural$5(number)?"mesiace":"mesiacov"):result+"mesiacmi";case"y":return withoutSuffix||isFuture?"rok":"rokom";case"yy":return withoutSuffix||isFuture?result+(plural$5(number)?"roky":"rokov"):result+"rokmi"}}function processRelativeTime$6(number,withoutSuffix,key,isFuture){var result=number+" ";switch(key){case"s":return withoutSuffix||isFuture?"nekaj sekund":"nekaj sekundami";case"m":return withoutSuffix?"ena minuta":"eno minuto";case"mm":return result+=1===number?withoutSuffix?"minuta":"minuto":2===number?withoutSuffix||isFuture?"minuti":"minutama":number<5?withoutSuffix||isFuture?"minute":"minutami":withoutSuffix||isFuture?"minut":"minutami";case"h":return withoutSuffix?"ena ura":"eno uro";case"hh":return result+=1===number?withoutSuffix?"ura":"uro":2===number?withoutSuffix||isFuture?"uri":"urama":number<5?withoutSuffix||isFuture?"ure":"urami":withoutSuffix||isFuture?"ur":"urami";case"d":return withoutSuffix||isFuture?"en dan":"enim dnem";case"dd":return result+=1===number?withoutSuffix||isFuture?"dan":"dnem":2===number?withoutSuffix||isFuture?"dni":"dnevoma":withoutSuffix||isFuture?"dni":"dnevi";case"M":return withoutSuffix||isFuture?"en mesec":"enim mesecem";case"MM":return result+=1===number?withoutSuffix||isFuture?"mesec":"mesecem":2===number?withoutSuffix||isFuture?"meseca":"mesecema":number<5?withoutSuffix||isFuture?"mesece":"meseci":withoutSuffix||isFuture?"mesecev":"meseci";case"y":return withoutSuffix||isFuture?"eno leto":"enim letom";case"yy":return result+=1===number?withoutSuffix||isFuture?"leto":"letom":2===number?withoutSuffix||isFuture?"leti":"letoma":number<5?withoutSuffix||isFuture?"leta":"leti":withoutSuffix||isFuture?"let":"leti"}}hooks.defineLocale("sk",{months:months$7,monthsShort:monthsShort$4,weekdays:"nedea_pondelok_utorok_streda_tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[vera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul nedeu o] LT";case 1:case 2:return"[minul] dddd [o] LT";case 3:return"[minul stredu o] LT";case 4:case 5:return"[minul] dddd [o] LT";case 6:return"[minul sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:translate$8,m:translate$8,mm:translate$8,h:translate$8,hh:translate$8,d:translate$8,dd:translate$8,M:translate$8,MM:translate$8,y:translate$8,yy:translate$8},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),hooks.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_etrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._et._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_e_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[veraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejnjo] [nedeljo] [ob] LT";case 3:return"[prejnjo] [sredo] [ob] LT";case 6:return"[prejnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"ez %s",past:"pred %s",s:processRelativeTime$6,m:processRelativeTime$6,mm:processRelativeTime$6,h:processRelativeTime$6,hh:processRelativeTime$6,d:processRelativeTime$6,dd:processRelativeTime$6,M:processRelativeTime$6,MM:processRelativeTime$6,y:processRelativeTime$6,yy:processRelativeTime$6},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),hooks.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nn_Dhj".split("_"),weekdays:"E Diel_E Hn_E Mart_E Mrkur_E Enjte_E Premte_E Shtun".split("_"),weekdaysShort:"Die_Hn_Mar_Mr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(input){return"M"===input.charAt(0)},meridiem:function(hours,minutes,isLower){return hours<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n] LT",nextDay:"[Nesr n] LT",nextWeek:"dddd [n] LT",lastDay:"[Dje n] LT",lastWeek:"dddd [e kaluar n] LT",sameElse:"L"},relativeTime:{future:"n %s",past:"%s m par",s:"disa sekonda",m:"nj minut",mm:"%d minuta",h:"nj or",hh:"%d or",d:"nj dit",dd:"%d dit",M:"nj muaj",MM:"%d muaj",y:"nj vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var translator$1={words:{m:[" "," "],mm:["","",""],h:[" "," "],hh:["","",""],dd:["","",""],MM:["","",""],yy:["","",""]},correctGrammaticalCase:function(number,wordKey){return 1===number?wordKey[0]:number>=2&&number<=4?wordKey[1]:wordKey[2]},translate:function(number,withoutSuffix,key){var wordKey=translator$1.words[key];return 1===key.length?withoutSuffix?wordKey[0]:wordKey[1]:number+" "+translator$1.correctGrammaticalCase(number,wordKey)}};hooks.defineLocale("sr-cyrl",{months:"___________".split("_"),monthsShort:"._._._.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:function(){switch(this.day()){case 0:return"[] [] [] LT";case 3:return"[] [] [] LT";case 6:return"[] [] [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},lastDay:"[ ] LT",lastWeek:function(){return["[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT"][this.day()]},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:translator$1.translate,mm:translator$1.translate,h:translator$1.translate,hh:translator$1.translate,d:"",dd:translator$1.translate,M:"",MM:translator$1.translate,y:"",yy:translator$1.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}});var translator$2={words:{m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(number,wordKey){return 1===number?wordKey[0]:number>=2&&number<=4?wordKey[1]:wordKey[2]},translate:function(number,withoutSuffix,key){var wordKey=translator$2.words[key];return 1===key.length?withoutSuffix?wordKey[0]:wordKey[1]:number+" "+translator$2.correctGrammaticalCase(number,wordKey)}};hooks.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){return["[prole] [nedelje] [u] LT","[prolog] [ponedeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",m:translator$2.translate,mm:translator$2.translate,h:translator$2.translate,hh:translator$2.translate,d:"dan",dd:translator$2.translate,M:"mesec",MM:translator$2.translate,y:"godinu",yy:translator$2.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}}),hooks.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(hours,minutes,isLower){return hours<11?"ekuseni":hours<15?"emini":hours<19?"entsambama":"ebusuku"},meridiemHour:function(hour,meridiem){return 12===hour&&(hour=0),"ekuseni"===meridiem?hour:"emini"===meridiem?hour>=11?hour:hour+12:"entsambama"===meridiem||"ebusuku"===meridiem?0===hour?0:hour+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}}),hooks.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_mn_tis_ons_tor_fre_lr".split("_"),weekdaysMin:"s_m_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igr] LT",nextWeek:"[P] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"fr %s sedan",s:"ngra sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mnad",MM:"%d mnader",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}(e|a)/,ordinal:function(number){var b=number%10;return number+(1==~~(number%100/10)?"e":1===b?"a":2===b?"a":"e")},week:{dow:1,doy:4}}),hooks.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"masiku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}});var symbolMap$12={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},numberMap$11={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};hooks.defineLocale("ta",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[ ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",m:" ",mm:"%d ",h:"  ",hh:"%d  ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(number){return number+""},preparse:function(string){return string.replace(/[]/g,function(match){return numberMap$11[match]})},postformat:function(string){return string.replace(/\d/g,function(match){return symbolMap$12[match]})},meridiemParse:/|||||/,meridiem:function(hour,minute,isLower){return hour<2?" ":hour<6?" ":hour<10?" ":hour<14?" ":hour<18?" ":hour<22?" ":" "},meridiemHour:function(hour,meridiem){return 12===hour&&(hour=0),""===meridiem?hour<2?hour:hour+12:""===meridiem||""===meridiem?hour:""===meridiem&&hour>=10?hour:hour+12},week:{dow:0,doy:6}}),hooks.defineLocale("te",{months:"___________".split("_"),monthsShort:"._.__.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",meridiemParse:/|||/,meridiemHour:function(hour,meridiem){return 12===hour&&(hour=0),""===meridiem?hour<4?hour:hour+12:""===meridiem?hour:""===meridiem?hour>=10?hour:hour+12:""===meridiem?hour+12:void 0},meridiem:function(hour,minute,isLower){return hour<4?"":hour<10?"":hour<17?"":hour<20?"":""},week:{dow:0,doy:6}}),hooks.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Juniu_Juliu_Augustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Aug_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sexta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sext_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Sex_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"minutu balun",m:"minutu ida",mm:"minutus %d",h:"horas ida",hh:"horas %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(number){var b=number%10;return number+(1==~~(number%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")},week:{dow:1,doy:4}}),hooks.defineLocale("th",{months:"___________".split("_"),monthsShort:".._.._.._.._.._.._.._.._.._.._.._..".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY  H:mm",LLLL:"dddd D MMMM YYYY  H:mm"},meridiemParse:/|/,isPM:function(input){return""===input},meridiem:function(hour,minute,isLower){return hour<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd[ ] LT",lastDay:"[ ] LT",lastWeek:"[]dddd[ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}}),hooks.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(number){return number},week:{dow:1,doy:4}});var numbersNouns="pagh_wa_cha_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function translate$9(number,withoutSuffix,string,isFuture){var numberNoun=function(number){var hundred=Math.floor(number%1e3/100),ten=Math.floor(number%100/10),one=number%10,word="";hundred>0&&(word+=numbersNouns[hundred]+"vatlh");ten>0&&(word+=(""!==word?" ":"")+numbersNouns[ten]+"maH");one>0&&(word+=(""!==word?" ":"")+numbersNouns[one]);return""===word?"pagh":word}(number);switch(string){case"mm":return numberNoun+" tup";case"hh":return numberNoun+" rep";case"dd":return numberNoun+" jaj";case"MM":return numberNoun+" jar";case"yy":return numberNoun+" DIS"}}hooks.defineLocale("tlh",{months:"tera jar wa_tera jar cha_tera jar wej_tera jar loS_tera jar vagh_tera jar jav_tera jar Soch_tera jar chorgh_tera jar Hut_tera jar wamaH_tera jar wamaH wa_tera jar wamaH cha".split("_"),monthsShort:"jar wa_jar cha_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wamaH_jar wamaH wa_jar wamaH cha".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[waleS] LT",nextWeek:"LLL",lastDay:"[waHu] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function(output){var time=output;return time=-1!==output.indexOf("jaj")?time.slice(0,-3)+"leS":-1!==output.indexOf("jar")?time.slice(0,-3)+"waQ":-1!==output.indexOf("DIS")?time.slice(0,-3)+"nem":time+" pIq"},past:function(output){var time=output;return time=-1!==output.indexOf("jaj")?time.slice(0,-3)+"Hu":-1!==output.indexOf("jar")?time.slice(0,-3)+"wen":-1!==output.indexOf("DIS")?time.slice(0,-3)+"ben":time+" ret"},s:"puS lup",m:"wa tup",mm:translate$9,h:"wa rep",hh:translate$9,d:"wa jaj",dd:translate$9,M:"wa jar",MM:translate$9,y:"wa DIS",yy:translate$9},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}});var suffixes$3={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"};function processRelativeTime$7(number,withoutSuffix,key,isFuture){var format={s:["viensas secunds","'iensas secunds"],m:["'n mut","'iens mut"],mm:[number+" muts",number+" muts"],h:["'n ora","'iensa ora"],hh:[number+" oras",number+" oras"],d:["'n ziua","'iensa ziua"],dd:[number+" ziuas",number+" ziuas"],M:["'n mes","'iens mes"],MM:[number+" mesen",number+" mesen"],y:["'n ar","'iens ar"],yy:[number+" ars",number+" ars"]};return isFuture?format[key][0]:withoutSuffix?format[key][0]:format[key][1]}function relativeTimeWithPlural$4(number,withoutSuffix,key){var num,forms;return"m"===key?withoutSuffix?"":"":"h"===key?withoutSuffix?"":"":number+" "+(num=+number,forms={mm:withoutSuffix?"__":"__",hh:withoutSuffix?"__":"__",dd:"__",MM:"__",yy:"__"}[key].split("_"),num%10==1&&num%100!=11?forms[0]:num%10>=2&&num%10<=4&&(num%100<10||num%100>=20)?forms[1]:forms[2])}function processHoursFunction(str){return function(){return str+""+(11===this.hours()?"":"")+"] LT"}}hooks.defineLocale("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[haftaya] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen hafta] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},dayOfMonthOrdinalParse:/\d{1,2}'(inci|nci|nc|nc|uncu|nc)/,ordinal:function(number){if(0===number)return number+"'nc";var a=number%10;return number+(suffixes$3[a]||suffixes$3[number%100-a]||suffixes$3[number>=100?100:null])},week:{dow:1,doy:7}}),hooks.defineLocale("tzl",{months:"Januar_Fevraglh_Mar_Avru_Mai_Gn_Julia_Guscht_Setemvar_Listopts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Sladi_Lnei_Maitzi_Mrcuri_Xhadi_Vineri_Sturi".split("_"),weekdaysShort:"Sl_Ln_Mai_Mr_Xh_Vi_St".split("_"),weekdaysMin:"S_L_Ma_M_Xh_Vi_S".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(input){return"d'o"===input.toLowerCase()},meridiem:function(hours,minutes,isLower){return hours>11?isLower?"d'o":"D'O":isLower?"d'a":"D'A"},calendar:{sameDay:"[oxhi ] LT",nextDay:"[dem ] LT",nextWeek:"dddd [] LT",lastDay:"[ieiri ] LT",lastWeek:"[sr el] dddd [lasteu ] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:processRelativeTime$7,m:processRelativeTime$7,mm:processRelativeTime$7,h:processRelativeTime$7,hh:processRelativeTime$7,d:processRelativeTime$7,dd:processRelativeTime$7,M:processRelativeTime$7,MM:processRelativeTime$7,y:processRelativeTime$7,yy:processRelativeTime$7},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}}),hooks.defineLocale("tzm-latn",{months:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",m:"minu",mm:"%d minu",h:"saa",hh:"%d tassain",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}}),hooks.defineLocale("tzm",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:"   %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d o",M:"o",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}}),hooks.defineLocale("uk",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:function(m,format){var weekdays={nominative:"______".split("_"),accusative:"______".split("_"),genitive:"______".split("_")};return m?weekdays[/(\[[]\]) ?dddd/.test(format)?"accusative":/\[?(?:|)? ?\] ?dddd/.test(format)?"genitive":"nominative"][m.day()]:weekdays.nominative},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:processHoursFunction("[ "),nextDay:processHoursFunction("[ "),lastDay:processHoursFunction("[ "),nextWeek:processHoursFunction("[] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return processHoursFunction("[] dddd [").call(this);case 1:case 2:case 4:return processHoursFunction("[] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:relativeTimeWithPlural$4,mm:relativeTimeWithPlural$4,h:"",hh:relativeTimeWithPlural$4,d:"",dd:relativeTimeWithPlural$4,M:"",MM:relativeTimeWithPlural$4,y:"",yy:relativeTimeWithPlural$4},meridiemParse:/|||/,isPM:function(input){return/^(|)$/.test(input)},meridiem:function(hour,minute,isLower){return hour<4?"":hour<12?"":hour<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(number,period){switch(period){case"M":case"d":case"DDD":case"w":case"W":return number+"-";case"D":return number+"-";default:return number}},week:{dow:1,doy:7}});var months$8=["","","","","","","","","","","",""],days$2=["","","","","","",""];return hooks.defineLocale("ur",{months:months$8,monthsShort:months$8,weekdays:days$2,weekdaysShort:days$2,weekdaysMin:days$2,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(input){return""===input},meridiem:function(hour,minute,isLower){return hour<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[  ] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(string){return string.replace(//g,",")},postformat:function(string){return string.replace(/,/g,"")},week:{dow:1,doy:4}}),hooks.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}}),hooks.defineLocale("uz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[ ] LT []",nextDay:"[] LT []",nextWeek:"dddd [ ] LT []",lastDay:"[ ] LT []",lastWeek:"[] dddd [ ] LT []",sameElse:"L"},relativeTime:{future:" %s ",past:"  %s ",s:"",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}}),hooks.defineLocale("vi",{months:"thng 1_thng 2_thng 3_thng 4_thng 5_thng 6_thng 7_thng 8_thng 9_thng 10_thng 11_thng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),monthsParseExact:!0,weekdays:"ch nht_th hai_th ba_th t_th nm_th su_th by".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(input){return/^ch$/i.test(input)},meridiem:function(hours,minutes,isLower){return hours<12?isLower?"sa":"SA":isLower?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [nm] YYYY",LLL:"D MMMM [nm] YYYY HH:mm",LLLL:"dddd, D MMMM [nm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hm nay lc] LT",nextDay:"[Ngy mai lc] LT",nextWeek:"dddd [tun ti lc] LT",lastDay:"[Hm qua lc] LT",lastWeek:"dddd [tun ri lc] LT",sameElse:"L"},relativeTime:{future:"%s ti",past:"%s trc",s:"vi giy",m:"mt pht",mm:"%d pht",h:"mt gi",hh:"%d gi",d:"mt ngy",dd:"%d ngy",M:"mt thng",MM:"%d thng",y:"mt nm",yy:"%d nm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(number){return number},week:{dow:1,doy:4}}),hooks.defineLocale("x-pseudo",{months:"J~~r_F~br~r_~Mrc~h_p~rl_~M_~J~_Jl~_~gst~_Sp~tmb~r_~ctb~r_~vm~br_~Dc~mbr".split("_"),monthsShort:"J~_~Fb_~Mr_~pr_~M_~J_~Jl_~g_~Sp_~ct_~v_~Dc".split("_"),monthsParseExact:!0,weekdays:"S~d~_M~d~_T~sd~_Wd~sd~_T~hrs~d_~Frd~_S~tr~d".split("_"),weekdaysShort:"S~_~M_~T_~Wd_~Th_~Fr_~St".split("_"),weekdaysMin:"S~_M~_T_~W_T~h_Fr~_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~d~ t] LT",nextDay:"[T~m~rr~w t] LT",nextWeek:"dddd [t] LT",lastDay:"[~st~rd~ t] LT",lastWeek:"[L~st] dddd [t] LT",sameElse:"L"},relativeTime:{future:"~ %s",past:"%s ~g",s:" ~fw ~sc~ds",m:" ~m~t",mm:"%d m~~ts",h:"~ h~r",hh:"%d h~rs",d:" ~d",dd:"%d d~s",M:" ~m~th",MM:"%d m~t~hs",y:" ~r",yy:"%d ~rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(number){var b=number%10;return number+(1==~~(number%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th")},week:{dow:1,doy:4}}),hooks.defineLocale("yo",{months:"Sr_Erele_rna_Igbe_Ebibi_Okudu_Agmo_Ogun_Owewe_wara_Belu_p".split("_"),monthsShort:"Sr_Erl_rn_Igb_Ebi_Oku_Ag_Ogu_Owe_wa_Bel_p".split("_"),weekdays:"Aiku_Aje_Isgun_jru_jb_ti_Abamta".split("_"),weekdaysShort:"Aik_Aje_Is_jr_jb_ti_Aba".split("_"),weekdaysMin:"Ai_Aj_Is_r_b_t_Ab".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Oni ni] LT",nextDay:"[la ni] LT",nextWeek:"dddd [s ton'b] [ni] LT",lastDay:"[Ana ni] LT",lastWeek:"dddd [s tol] [ni] LT",sameElse:"L"},relativeTime:{future:"ni %s",past:"%s kja",s:"isju aaya die",m:"isju kan",mm:"isju %d",h:"wakati kan",hh:"wakati %d",d:"j kan",dd:"j %d",M:"osu kan",MM:"osu %d",y:"dun kan",yy:"dun %d"},dayOfMonthOrdinalParse:/j\s\d{1,2}/,ordinal:"j %d",week:{dow:1,doy:4}}),hooks.defineLocale("zh-cn",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYYMMMD",LL:"YYYYMMMD",LLL:"YYYYMMMDAhmm",LLLL:"YYYYMMMDddddAhmm",l:"YYYYMMMD",ll:"YYYYMMMD",lll:"YYYYMMMD HH:mm",llll:"YYYYMMMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(hour,meridiem){return 12===hour&&(hour=0),""===meridiem||""===meridiem||""===meridiem?hour:""===meridiem||""===meridiem?hour+12:hour>=11?hour:hour+12},meridiem:function(hour,minute,isLower){var hm=100*hour+minute;return hm<600?"":hm<900?"":hm<1130?"":hm<1230?"":hm<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(number,period){switch(period){case"d":case"D":case"DDD":return number+"";case"M":return number+"";case"w":case"W":return number+"";default:return number}},relativeTime:{future:"%s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},week:{dow:1,doy:4}}),hooks.defineLocale("zh-hk",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYYMMMD",LL:"YYYYMMMD",LLL:"YYYYMMMD HH:mm",LLLL:"YYYYMMMDdddd HH:mm",l:"YYYYMMMD",ll:"YYYYMMMD",lll:"YYYYMMMD HH:mm",llll:"YYYYMMMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(hour,meridiem){return 12===hour&&(hour=0),""===meridiem||""===meridiem||""===meridiem?hour:""===meridiem?hour>=11?hour:hour+12:""===meridiem||""===meridiem?hour+12:void 0},meridiem:function(hour,minute,isLower){var hm=100*hour+minute;return hm<600?"":hm<900?"":hm<1130?"":hm<1230?"":hm<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(number,period){switch(period){case"d":case"D":case"DDD":return number+"";case"M":return number+"";case"w":case"W":return number+"";default:return number}},relativeTime:{future:"%s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}}),hooks.defineLocale("zh-tw",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYYMMMD",LL:"YYYYMMMD",LLL:"YYYYMMMD HH:mm",LLLL:"YYYYMMMDdddd HH:mm",l:"YYYYMMMD",ll:"YYYYMMMD",lll:"YYYYMMMD HH:mm",llll:"YYYYMMMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(hour,meridiem){return 12===hour&&(hour=0),""===meridiem||""===meridiem||""===meridiem?hour:""===meridiem?hour>=11?hour:hour+12:""===meridiem||""===meridiem?hour+12:void 0},meridiem:function(hour,minute,isLower){var hm=100*hour+minute;return hm<600?"":hm<900?"":hm<1130?"":hm<1230?"":hm<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(number,period){switch(period){case"d":case"D":case"DDD":return number+"";case"M":return number+"";case"w":case"W":return number+"";default:return number}},relativeTime:{future:"%s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}}),hooks.locale("en"),hooks},"function"==typeof define&&define.amd?define(factory):global.moment=factory()}).call(window)},1729:function(module,exports){var define=void 0;(function(){(function(){var undefined,upper,lower,VERSION="3.7.0",BIND_FLAG=1,BIND_KEY_FLAG=2,CURRY_BOUND_FLAG=4,CURRY_FLAG=8,CURRY_RIGHT_FLAG=16,PARTIAL_FLAG=32,PARTIAL_RIGHT_FLAG=64,ARY_FLAG=128,REARG_FLAG=256,DEFAULT_TRUNC_LENGTH=30,DEFAULT_TRUNC_OMISSION="...",HOT_COUNT=150,HOT_SPAN=16,LAZY_DROP_WHILE_FLAG=0,LAZY_FILTER_FLAG=1,LAZY_MAP_FLAG=2,FUNC_ERROR_TEXT="Expected a function",PLACEHOLDER="__lodash_placeholder__",argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",stringTag="[object String]",arrayBufferTag="[object ArrayBuffer]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",reEmptyStringLeading=/\b__p \+= '';/g,reEmptyStringMiddle=/\b(__p \+=) '' \+/g,reEmptyStringTrailing=/(__e\(.*?\)|\b__t\)) \+\n'';/g,reEscapedHtml=/&(?:amp|lt|gt|quot|#39|#96);/g,reUnescapedHtml=/[&<>"'`]/g,reHasEscapedHtml=RegExp(reEscapedHtml.source),reHasUnescapedHtml=RegExp(reUnescapedHtml.source),reEscape=/<%-([\s\S]+?)%>/g,reEvaluate=/<%([\s\S]+?)%>/g,reInterpolate=/<%=([\s\S]+?)%>/g,reIsDeepProp=/\.|\[(?:[^[\]]+|(["'])(?:(?!\1)[^\n\\]|\\.)*?)\1\]/,reIsPlainProp=/^\w*$/,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,reRegExpChars=/[.*+?^${}()|[\]\/\\]/g,reHasRegExpChars=RegExp(reRegExpChars.source),reComboMark=/[\u0300-\u036f\ufe20-\ufe23]/g,reEscapeChar=/\\(\\)?/g,reEsTemplate=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,reFlags=/\w*$/,reHasHexPrefix=/^0[xX]/,reIsHostCtor=/^\[object .+?Constructor\]$/,reLatin1=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,reNoMatch=/($^)/,reUnescapedString=/['\n\r\u2028\u2029\\]/g,reWords=(upper="[A-Z\\xc0-\\xd6\\xd8-\\xde]",lower="[a-z\\xdf-\\xf6\\xf8-\\xff]+",RegExp(upper+"+(?="+upper+lower+")|"+upper+"?"+lower+"|"+upper+"+|[0-9]+","g")),whitespace=" \t\v\f\ufeff\n\r\u2028\u2029",contextProps=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","document","isFinite","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","window"],shadowProps=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],templateCounter=-1,typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags["[object Map]"]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags["[object Set]"]=typedArrayTags[stringTag]=typedArrayTags["[object WeakMap]"]=!1;var cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[stringTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0,cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags["[object Map]"]=cloneableTags["[object Set]"]=cloneableTags["[object WeakMap]"]=!1;var debounceOptions={leading:!1,maxWait:0,trailing:!1},deburredLetters={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss"},htmlEscapes={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},htmlUnescapes={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},objectTypes={function:!0,object:!0},stringEscapes={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},freeExports=objectTypes[void 0]&&void 0,freeModule=objectTypes[void 0]&&void 0,freeGlobal=freeExports&&freeModule&&"object"==typeof global&&global&&global.Object&&global,freeSelf=objectTypes[typeof self]&&self&&self.Object&&self,freeWindow=objectTypes[typeof window]&&window&&window.Object&&window,moduleExports=freeModule&&freeModule.exports===freeExports&&freeExports,root=freeGlobal||freeWindow!==(this&&this.window)&&freeWindow||freeSelf||this;function baseCompareAscending(value,other){if(value!==other){var valIsReflexive=value==value,othIsReflexive=other==other;if(value>other||!valIsReflexive||value===undefined&&othIsReflexive)return 1;if(value<other||!othIsReflexive||other===undefined&&valIsReflexive)return-1}return 0}function baseFindIndex(array,predicate,fromRight){for(var length=array.length,index=fromRight?length:-1;fromRight?index--:++index<length;)if(predicate(array[index],index,array))return index;return-1}function baseIndexOf(array,value,fromIndex){if(value!=value)return indexOfNaN(array,fromIndex);for(var index=fromIndex-1,length=array.length;++index<length;)if(array[index]===value)return index;return-1}function baseIsFunction(value){return"function"==typeof value||!1}function baseToString(value){return"string"==typeof value?value:null==value?"":value+""}function charAtCallback(string){return string.charCodeAt(0)}function charsLeftIndex(string,chars){for(var index=-1,length=string.length;++index<length&&chars.indexOf(string.charAt(index))>-1;);return index}function charsRightIndex(string,chars){for(var index=string.length;index--&&chars.indexOf(string.charAt(index))>-1;);return index}function compareAscending(object,other){return baseCompareAscending(object.criteria,other.criteria)||object.index-other.index}function deburrLetter(letter){return deburredLetters[letter]}function escapeHtmlChar(chr){return htmlEscapes[chr]}function escapeStringChar(chr){return"\\"+stringEscapes[chr]}function indexOfNaN(array,fromIndex,fromRight){for(var length=array.length,index=fromIndex+(fromRight?0:-1);fromRight?index--:++index<length;){var other=array[index];if(other!=other)return index}return-1}var isHostObject=function(){try{Object({toString:0}+"")}catch(e){return function(){return!1}}return function(value){return"function"!=typeof value.toString&&"string"==typeof(value+"")}}();function isObjectLike(value){return!!value&&"object"==typeof value}function isSpace(charCode){return charCode<=160&&charCode>=9&&charCode<=13||32==charCode||160==charCode||5760==charCode||6158==charCode||charCode>=8192&&(charCode<=8202||8232==charCode||8233==charCode||8239==charCode||8287==charCode||12288==charCode||65279==charCode)}function replaceHolders(array,placeholder){for(var index=-1,length=array.length,resIndex=-1,result=[];++index<length;)array[index]===placeholder&&(array[index]=PLACEHOLDER,result[++resIndex]=index);return result}function trimmedLeftIndex(string){for(var index=-1,length=string.length;++index<length&&isSpace(string.charCodeAt(index)););return index}function trimmedRightIndex(string){for(var index=string.length;index--&&isSpace(string.charCodeAt(index)););return index}function unescapeHtmlChar(chr){return htmlUnescapes[chr]}var _=function runInContext(context){var Array=(context=context?_.defaults(root.Object(),context,_.pick(root,contextProps)):root).Array,Date=context.Date,Error=context.Error,Function=context.Function,Math=context.Math,Number=context.Number,Object=context.Object,RegExp=context.RegExp,String=context.String,TypeError=context.TypeError,arrayProto=Array.prototype,errorProto=Error.prototype,objectProto=Object.prototype,stringProto=String.prototype,document=(document=context.window)&&document.document,fnToString=Function.prototype.toString,hasOwnProperty=objectProto.hasOwnProperty,idCounter=0,objToString=objectProto.toString,oldDash=context._,reIsNative=RegExp("^"+escapeRegExp(objToString).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ArrayBuffer=isNative(ArrayBuffer=context.ArrayBuffer)&&ArrayBuffer,bufferSlice=isNative(bufferSlice=ArrayBuffer&&new ArrayBuffer(0).slice)&&bufferSlice,ceil=Math.ceil,clearTimeout=context.clearTimeout,floor=Math.floor,getOwnPropertySymbols=isNative(getOwnPropertySymbols=Object.getOwnPropertySymbols)&&getOwnPropertySymbols,getPrototypeOf=isNative(getPrototypeOf=Object.getPrototypeOf)&&getPrototypeOf,push=arrayProto.push,preventExtensions=isNative(Object.preventExtensions=Object.preventExtensions)&&preventExtensions,propertyIsEnumerable=objectProto.propertyIsEnumerable,Set=isNative(Set=context.Set)&&Set,setTimeout=context.setTimeout,splice=arrayProto.splice,Uint8Array=isNative(Uint8Array=context.Uint8Array)&&Uint8Array,WeakMap=isNative(WeakMap=context.WeakMap)&&WeakMap,Float64Array=function(){try{var func=isNative(func=context.Float64Array)&&func,result=new func(new ArrayBuffer(10),0,1)&&func}catch(e){}return result}(),nativeAssign=function(){var object={1:0},func=preventExtensions&&isNative(func=Object.assign)&&func;try{func(preventExtensions(object),"xo")}catch(e){}return!object[1]&&func}(),nativeIsArray=isNative(nativeIsArray=Array.isArray)&&nativeIsArray,nativeCreate=isNative(nativeCreate=Object.create)&&nativeCreate,nativeIsFinite=context.isFinite,nativeKeys=isNative(nativeKeys=Object.keys)&&nativeKeys,nativeMax=Math.max,nativeMin=Math.min,nativeNow=isNative(nativeNow=Date.now)&&nativeNow,nativeNumIsFinite=isNative(nativeNumIsFinite=Number.isFinite)&&nativeNumIsFinite,nativeParseInt=context.parseInt,nativeRandom=Math.random,NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,POSITIVE_INFINITY=Number.POSITIVE_INFINITY,MAX_ARRAY_LENGTH=Math.pow(2,32)-1,MAX_ARRAY_INDEX=MAX_ARRAY_LENGTH-1,HALF_MAX_ARRAY_LENGTH=MAX_ARRAY_LENGTH>>>1,FLOAT64_BYTES_PER_ELEMENT=Float64Array?Float64Array.BYTES_PER_ELEMENT:0,MAX_SAFE_INTEGER=Math.pow(2,53)-1,metaMap=WeakMap&&new WeakMap,realNames={},ctorByTag={};ctorByTag[float32Tag]=context.Float32Array,ctorByTag[float64Tag]=context.Float64Array,ctorByTag[int8Tag]=context.Int8Array,ctorByTag[int16Tag]=context.Int16Array,ctorByTag[int32Tag]=context.Int32Array,ctorByTag[uint8Tag]=context.Uint8Array,ctorByTag[uint8ClampedTag]=context.Uint8ClampedArray,ctorByTag[uint16Tag]=context.Uint16Array,ctorByTag[uint32Tag]=context.Uint32Array;var nonEnumProps={};function lodash(value){if(isObjectLike(value)&&!isArray(value)&&!(value instanceof LazyWrapper)){if(value instanceof LodashWrapper)return value;if(hasOwnProperty.call(value,"__chain__")&&hasOwnProperty.call(value,"__wrapped__"))return wrapperClone(value)}return new LodashWrapper(value)}function baseLodash(){}function LodashWrapper(value,chainAll,actions){this.__wrapped__=value,this.__actions__=actions||[],this.__chain__=!!chainAll}nonEnumProps[arrayTag]=nonEnumProps[dateTag]=nonEnumProps[numberTag]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},nonEnumProps[boolTag]=nonEnumProps[stringTag]={constructor:!0,toString:!0,valueOf:!0},nonEnumProps[errorTag]=nonEnumProps[funcTag]=nonEnumProps[regexpTag]={constructor:!0,toString:!0},nonEnumProps[objectTag]={constructor:!0},arrayEach(shadowProps,function(key){for(var tag in nonEnumProps)if(hasOwnProperty.call(nonEnumProps,tag)){var props=nonEnumProps[tag];props[key]=hasOwnProperty.call(props,key)}});var support=lodash.support={};function LazyWrapper(value){this.__wrapped__=value,this.__actions__=null,this.__dir__=1,this.__dropCount__=0,this.__filtered__=!1,this.__iteratees__=null,this.__takeCount__=POSITIVE_INFINITY,this.__views__=null}function MapCache(){this.__data__={}}function SetCache(values){var length=values?values.length:0;for(this.data={hash:nativeCreate(null),set:new Set};length--;)this.push(values[length])}function cacheIndexOf(cache,value){var data=cache.data;return("string"==typeof value||isObject(value)?data.set.has(value):data.hash[value])?0:-1}function arrayCopy(source,array){var index=-1,length=source.length;for(array||(array=Array(length));++index<length;)array[index]=source[index];return array}function arrayEach(array,iteratee){for(var index=-1,length=array.length;++index<length&&!1!==iteratee(array[index],index,array););return array}function arrayEvery(array,predicate){for(var index=-1,length=array.length;++index<length;)if(!predicate(array[index],index,array))return!1;return!0}function arrayFilter(array,predicate){for(var index=-1,length=array.length,resIndex=-1,result=[];++index<length;){var value=array[index];predicate(value,index,array)&&(result[++resIndex]=value)}return result}function arrayMap(array,iteratee){for(var index=-1,length=array.length,result=Array(length);++index<length;)result[index]=iteratee(array[index],index,array);return result}function arrayMax(array){for(var index=-1,length=array.length,result=NEGATIVE_INFINITY;++index<length;){var value=array[index];value>result&&(result=value)}return result}function arraySome(array,predicate){for(var index=-1,length=array.length;++index<length;)if(predicate(array[index],index,array))return!0;return!1}function assignDefaults(objectValue,sourceValue){return objectValue===undefined?sourceValue:objectValue}function assignOwnDefaults(objectValue,sourceValue,key,object){return objectValue!==undefined&&hasOwnProperty.call(object,key)?objectValue:sourceValue}function assignWith(object,source,customizer){var props=keys(source);push.apply(props,getSymbols(source));for(var index=-1,length=props.length;++index<length;){var key=props[index],value=object[key],result=customizer(value,source[key],key,object,source);(result==result?result===value:value!=value)&&(value!==undefined||key in object)||(object[key]=result)}return object}!function(x){var Ctor=function(){this.x=x},object={0:x,length:x},props=[];for(var key in Ctor.prototype={valueOf:x,y:x},new Ctor)props.push(key);support.argsTag=objToString.call(arguments)==argsTag,support.enumErrorProps=propertyIsEnumerable.call(errorProto,"message")||propertyIsEnumerable.call(errorProto,"name"),support.enumPrototypes=propertyIsEnumerable.call(Ctor,"prototype"),support.funcDecomp=/\bthis\b/.test(function(){return this}),support.funcNames="string"==typeof Function.name,support.nodeTag=objToString.call(document)!=objectTag,support.nonEnumStrings=!propertyIsEnumerable.call("x",0),support.nonEnumShadows=!/valueOf/.test(props),support.ownLast="x"!=props[0],support.spliceObjects=(splice.call(object,0,1),!object[0]),support.unindexedChars="x"[0]+Object("x")[0]!="xx";try{support.dom=11===document.createDocumentFragment().nodeType}catch(e){support.dom=!1}try{support.nonEnumArgs=!propertyIsEnumerable.call(arguments,1)}catch(e){support.nonEnumArgs=!0}}(1,0),lodash.templateSettings={escape:reEscape,evaluate:reEvaluate,interpolate:reInterpolate,variable:"",imports:{_:lodash}};var baseAssign=nativeAssign||function(object,source){return null==source?object:baseCopy(source,getSymbols(source),baseCopy(source,keys(source),object))};function baseAt(collection,props){for(var index=-1,length=collection.length,isArr=isLength(length),propsLength=props.length,result=Array(propsLength);++index<propsLength;){var key=props[index];result[index]=isArr?isIndex(key,length)?collection[key]:undefined:collection[key]}return result}function baseCopy(source,props,object){object||(object={});for(var index=-1,length=props.length;++index<length;){var key=props[index];object[key]=source[key]}return object}function baseCallback(func,thisArg,argCount){var type=typeof func;return"function"==type?thisArg===undefined?func:bindCallback(func,thisArg,argCount):null==func?identity:"object"==type?baseMatches(func):thisArg===undefined?property(func):baseMatchesProperty(func,thisArg)}function baseClone(value,isDeep,customizer,key,object,stackA,stackB){var result;if(customizer&&(result=object?customizer(value,key,object):customizer(value)),result!==undefined)return result;if(!isObject(value))return value;var isArr=isArray(value);if(isArr){if(result=function(array){var length=array.length,result=new array.constructor(length);return length&&"string"==typeof array[0]&&hasOwnProperty.call(array,"index")&&(result.index=array.index,result.input=array.input),result}(value),!isDeep)return arrayCopy(value,result)}else{var tag=objToString.call(value),isFunc=tag==funcTag;if(tag!=objectTag&&tag!=argsTag&&(!isFunc||object))return cloneableTags[tag]?function(object,tag,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return bufferClone(object);case boolTag:case dateTag:return new Ctor(+object);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:Ctor instanceof Ctor&&(Ctor=ctorByTag[tag]);var buffer=object.buffer;return new Ctor(isDeep?bufferClone(buffer):buffer,object.byteOffset,object.length);case numberTag:case stringTag:return new Ctor(object);case regexpTag:var result=new Ctor(object.source,reFlags.exec(object));result.lastIndex=object.lastIndex}return result}(value,tag,isDeep):object?value:{};if(isHostObject(value))return object?value:{};if(result=function(object){var Ctor=object.constructor;return"function"==typeof Ctor&&Ctor instanceof Ctor||(Ctor=Object),new Ctor}(isFunc?{}:value),!isDeep)return baseAssign(result,value)}stackA||(stackA=[]),stackB||(stackB=[]);for(var length=stackA.length;length--;)if(stackA[length]==value)return stackB[length];return stackA.push(value),stackB.push(result),(isArr?arrayEach:baseForOwn)(value,function(subValue,key){result[key]=baseClone(subValue,isDeep,customizer,key,value,stackA,stackB)}),result}var baseCreate=function(){function Object(){}return function(prototype){if(isObject(prototype)){Object.prototype=prototype;var result=new Object;Object.prototype=null}return result||context.Object()}}();function baseDelay(func,wait,args){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return setTimeout(function(){func.apply(undefined,args)},wait)}function baseDifference(array,values){var length=array?array.length:0,result=[];if(!length)return result;var index=-1,indexOf=getIndexOf(),isCommon=indexOf==baseIndexOf,cache=isCommon&&values.length>=200?createCache(values):null,valuesLength=values.length;cache&&(indexOf=cacheIndexOf,isCommon=!1,values=cache);outer:for(;++index<length;){var value=array[index];if(isCommon&&value==value){for(var valuesIndex=valuesLength;valuesIndex--;)if(values[valuesIndex]===value)continue outer;result.push(value)}else indexOf(values,value,0)<0&&result.push(value)}return result}var baseEach=createBaseEach(baseForOwn),baseEachRight=createBaseEach(baseForOwnRight,!0);function baseEvery(collection,predicate){var result=!0;return baseEach(collection,function(value,index,collection){return result=!!predicate(value,index,collection)}),result}function baseFilter(collection,predicate){var result=[];return baseEach(collection,function(value,index,collection){predicate(value,index,collection)&&result.push(value)}),result}function baseFind(collection,predicate,eachFunc,retKey){var result;return eachFunc(collection,function(value,key,collection){if(predicate(value,key,collection))return result=retKey?key:value,!1}),result}function baseFlatten(array,isDeep,isStrict){for(var index=-1,length=array.length,resIndex=-1,result=[];++index<length;){var value=array[index];if(isObjectLike(value)&&isLength(value.length)&&(isArray(value)||isArguments(value))){isDeep&&(value=baseFlatten(value,isDeep,isStrict));var valIndex=-1,valLength=value.length;for(result.length+=valLength;++valIndex<valLength;)result[++resIndex]=value[valIndex]}else isStrict||(result[++resIndex]=value)}return result}var baseFor=createBaseFor(),baseForRight=createBaseFor(!0);function baseForIn(object,iteratee){return baseFor(object,iteratee,keysIn)}function baseForOwn(object,iteratee){return baseFor(object,iteratee,keys)}function baseForOwnRight(object,iteratee){return baseForRight(object,iteratee,keys)}function baseFunctions(object,props){for(var index=-1,length=props.length,resIndex=-1,result=[];++index<length;){var key=props[index];isFunction(object[key])&&(result[++resIndex]=key)}return result}function baseGet(object,path,pathKey){if(null!=object){object=toObject(object),pathKey!==undefined&&pathKey in object&&(path=[pathKey]);for(var index=-1,length=path.length;null!=object&&++index<length;)var result=object=toObject(object)[path[index]];return result}}function baseIsEqual(value,other,customizer,isLoose,stackA,stackB){if(value===other)return 0!==value||1/value==1/other;var valType=typeof value,othType=typeof other;return"function"!=valType&&"object"!=valType&&"function"!=othType&&"object"!=othType||null==value||null==other?value!=value&&other!=other:function(object,other,equalFunc,customizer,isLoose,stackA,stackB){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=arrayTag,othTag=arrayTag;objIsArr||((objTag=objToString.call(object))==argsTag?objTag=objectTag:objTag!=objectTag&&(objIsArr=isTypedArray(object))),othIsArr||((othTag=objToString.call(other))==argsTag?othTag=objectTag:othTag!=objectTag&&(othIsArr=isTypedArray(other)));var objIsObj=objTag==objectTag&&!isHostObject(object),othIsObj=othTag==objectTag&&!isHostObject(other),isSameTag=objTag==othTag;if(isSameTag&&!objIsArr&&!objIsObj)return function(object,other,tag){switch(tag){case boolTag:case dateTag:return+object==+other;case errorTag:return object.name==other.name&&object.message==other.message;case numberTag:return object!=+object?other!=+other:0==object?1/object==1/other:object==+other;case regexpTag:case stringTag:return object==other+""}return!1}(object,other,objTag);if(!isLoose){var valWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(valWrapped||othWrapped)return equalFunc(valWrapped?object.value():object,othWrapped?other.value():other,customizer,isLoose,stackA,stackB)}if(!isSameTag)return!1;stackA||(stackA=[]),stackB||(stackB=[]);for(var length=stackA.length;length--;)if(stackA[length]==object)return stackB[length]==other;stackA.push(object),stackB.push(other);var result=(objIsArr?function(array,other,equalFunc,customizer,isLoose,stackA,stackB){var index=-1,arrLength=array.length,othLength=other.length,result=!0;if(arrLength!=othLength&&!(isLoose&&othLength>arrLength))return!1;for(;result&&++index<arrLength;){var arrValue=array[index],othValue=other[index];if(result=undefined,customizer&&(result=isLoose?customizer(othValue,arrValue,index):customizer(arrValue,othValue,index)),result===undefined)if(isLoose)for(var othIndex=othLength;othIndex--&&(othValue=other[othIndex],!(result=arrValue&&arrValue===othValue||equalFunc(arrValue,othValue,customizer,isLoose,stackA,stackB))););else result=arrValue&&arrValue===othValue||equalFunc(arrValue,othValue,customizer,isLoose,stackA,stackB)}return!!result}:function(object,other,equalFunc,customizer,isLoose,stackA,stackB){var objProps=keys(object),objLength=objProps.length,othLength=keys(other).length;if(objLength!=othLength&&!isLoose)return!1;for(var skipCtor=isLoose,index=-1;++index<objLength;){var key=objProps[index],result=isLoose?key in other:hasOwnProperty.call(other,key);if(result){var objValue=object[key],othValue=other[key];result=undefined,customizer&&(result=isLoose?customizer(othValue,objValue,key):customizer(objValue,othValue,key)),result===undefined&&(result=objValue&&objValue===othValue||equalFunc(objValue,othValue,customizer,isLoose,stackA,stackB))}if(!result)return!1;skipCtor||(skipCtor="constructor"==key)}if(!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;if(objCtor!=othCtor&&"constructor"in object&&"constructor"in other&&!("function"==typeof objCtor&&objCtor instanceof objCtor&&"function"==typeof othCtor&&othCtor instanceof othCtor))return!1}return!0})(object,other,equalFunc,customizer,isLoose,stackA,stackB);return stackA.pop(),stackB.pop(),result}(value,other,baseIsEqual,customizer,isLoose,stackA,stackB)}function baseIsMatch(object,props,values,strictCompareFlags,customizer){for(var index=-1,length=props.length,noCustomizer=!customizer;++index<length;)if(noCustomizer&&strictCompareFlags[index]?values[index]!==object[props[index]]:!(props[index]in object))return!1;for(index=-1;++index<length;){var key=props[index],objValue=object[key],srcValue=values[index];if(noCustomizer&&strictCompareFlags[index])var result=objValue!==undefined||key in object;else(result=customizer?customizer(objValue,srcValue,key):undefined)===undefined&&(result=baseIsEqual(srcValue,objValue,customizer,!0));if(!result)return!1}return!0}function baseMap(collection,iteratee){var index=-1,length=getLength(collection),result=isLength(length)?Array(length):[];return baseEach(collection,function(value,key,collection){result[++index]=iteratee(value,key,collection)}),result}function baseMatches(source){var props=keys(source),length=props.length;if(!length)return constant(!0);if(1==length){var key=props[0],value=source[key];if(isStrictComparable(value))return function(object){return null!=object&&(object=toObject(object))[key]===value&&(value!==undefined||key in object)}}for(var values=Array(length),strictCompareFlags=Array(length);length--;)value=source[props[length]],values[length]=value,strictCompareFlags[length]=isStrictComparable(value);return function(object){return null!=object&&baseIsMatch(toObject(object),props,values,strictCompareFlags)}}function baseMatchesProperty(path,value){var isArr=isArray(path),isCommon=isKey(path)&&isStrictComparable(value),pathKey=path+"";return path=toPath(path),function(object){if(null==object)return!1;var key=pathKey;if(object=toObject(object),(isArr||!isCommon)&&!(key in object)){if(null==(object=1==path.length?object:baseGet(object,baseSlice(path,0,-1))))return!1;key=last(path),object=toObject(object)}return object[key]===value?value!==undefined||key in object:baseIsEqual(value,object[key],null,!0)}}function baseProperty(key){return function(object){return null==object?undefined:toObject(object)[key]}}function basePullAt(array,indexes){for(var length=indexes.length;length--;){var index=parseFloat(indexes[length]);if(index!=previous&&isIndex(index)){var previous=index;splice.call(array,index,1)}}return array}function baseRandom(min,max){return min+floor(nativeRandom()*(max-min+1))}var baseSetData=metaMap?function(func,data){return metaMap.set(func,data),func}:identity;function baseSlice(array,start,end){var index=-1,length=array.length;(start=null==start?0:+start||0)<0&&(start=-start>length?0:length+start),(end=end===undefined||end>length?length:+end||0)<0&&(end+=length),length=start>end?0:end-start>>>0,start>>>=0;for(var result=Array(length);++index<length;)result[index]=array[index+start];return result}function baseSome(collection,predicate){var result;return baseEach(collection,function(value,index,collection){return!(result=predicate(value,index,collection))}),!!result}function baseSortBy(array,comparer){var length=array.length;for(array.sort(comparer);length--;)array[length]=array[length].value;return array}function baseSortByOrder(collection,iteratees,orders){var callback=getCallback(),index=-1;return iteratees=arrayMap(iteratees,function(iteratee){return callback(iteratee)}),baseSortBy(baseMap(collection,function(value){return{criteria:arrayMap(iteratees,function(iteratee){return iteratee(value)}),index:++index,value:value}}),function(object,other){return function(object,other,orders){for(var index=-1,objCriteria=object.criteria,othCriteria=other.criteria,length=objCriteria.length,ordersLength=orders.length;++index<length;){var result=baseCompareAscending(objCriteria[index],othCriteria[index]);if(result)return index>=ordersLength?result:result*(orders[index]?1:-1)}return object.index-other.index}(object,other,orders)})}function baseUniq(array,iteratee){var index=-1,indexOf=getIndexOf(),length=array.length,isCommon=indexOf==baseIndexOf,isLarge=isCommon&&length>=200,seen=isLarge?createCache():null,result=[];seen?(indexOf=cacheIndexOf,isCommon=!1):(isLarge=!1,seen=iteratee?[]:result);outer:for(;++index<length;){var value=array[index],computed=iteratee?iteratee(value,index,array):value;if(isCommon&&value==value){for(var seenIndex=seen.length;seenIndex--;)if(seen[seenIndex]===computed)continue outer;iteratee&&seen.push(computed),result.push(value)}else indexOf(seen,computed,0)<0&&((iteratee||isLarge)&&seen.push(computed),result.push(value))}return result}function baseValues(object,props){for(var index=-1,length=props.length,result=Array(length);++index<length;)result[index]=object[props[index]];return result}function baseWhile(array,predicate,isDrop,fromRight){for(var length=array.length,index=fromRight?length:-1;(fromRight?index--:++index<length)&&predicate(array[index],index,array););return isDrop?baseSlice(array,fromRight?0:index,fromRight?index+1:length):baseSlice(array,fromRight?index+1:0,fromRight?length:index)}function baseWrapperValue(value,actions){var result=value;result instanceof LazyWrapper&&(result=result.value());for(var index=-1,length=actions.length;++index<length;){var args=[result],action=actions[index];push.apply(args,action.args),result=action.func.apply(action.thisArg,args)}return result}function binaryIndex(array,value,retHighest){var low=0,high=array?array.length:low;if("number"==typeof value&&value==value&&high<=HALF_MAX_ARRAY_LENGTH){for(;low<high;){var mid=low+high>>>1,computed=array[mid];(retHighest?computed<=value:computed<value)?low=mid+1:high=mid}return high}return binaryIndexBy(array,value,identity,retHighest)}function binaryIndexBy(array,value,iteratee,retHighest){value=iteratee(value);for(var low=0,high=array?array.length:0,valIsNaN=value!=value,valIsUndef=value===undefined;low<high;){var mid=floor((low+high)/2),computed=iteratee(array[mid]),isReflexive=computed==computed;if(valIsNaN)var setLow=isReflexive||retHighest;else setLow=valIsUndef?isReflexive&&(retHighest||computed!==undefined):retHighest?computed<=value:computed<value;setLow?low=mid+1:high=mid}return nativeMin(high,MAX_ARRAY_INDEX)}function bindCallback(func,thisArg,argCount){if("function"!=typeof func)return identity;if(thisArg===undefined)return func;switch(argCount){case 1:return function(value){return func.call(thisArg,value)};case 3:return function(value,index,collection){return func.call(thisArg,value,index,collection)};case 4:return function(accumulator,value,index,collection){return func.call(thisArg,accumulator,value,index,collection)};case 5:return function(value,other,key,object,source){return func.call(thisArg,value,other,key,object,source)}}return function(){return func.apply(thisArg,arguments)}}function bufferClone(buffer){return bufferSlice.call(buffer,0)}function composeArgs(args,partials,holders){for(var holdersLength=holders.length,argsIndex=-1,argsLength=nativeMax(args.length-holdersLength,0),leftIndex=-1,leftLength=partials.length,result=Array(argsLength+leftLength);++leftIndex<leftLength;)result[leftIndex]=partials[leftIndex];for(;++argsIndex<holdersLength;)result[holders[argsIndex]]=args[argsIndex];for(;argsLength--;)result[leftIndex++]=args[argsIndex++];return result}function composeArgsRight(args,partials,holders){for(var holdersIndex=-1,holdersLength=holders.length,argsIndex=-1,argsLength=nativeMax(args.length-holdersLength,0),rightIndex=-1,rightLength=partials.length,result=Array(argsLength+rightLength);++argsIndex<argsLength;)result[argsIndex]=args[argsIndex];for(var pad=argsIndex;++rightIndex<rightLength;)result[pad+rightIndex]=partials[rightIndex];for(;++holdersIndex<holdersLength;)result[pad+holders[holdersIndex]]=args[argsIndex++];return result}function createAggregator(setter,initializer){return function(collection,iteratee,thisArg){var result=initializer?initializer():{};if(iteratee=getCallback(iteratee,thisArg,3),isArray(collection))for(var index=-1,length=collection.length;++index<length;){var value=collection[index];setter(result,value,iteratee(value,index,collection),collection)}else baseEach(collection,function(value,key,collection){setter(result,value,iteratee(value,key,collection),collection)});return result}}function createAssigner(assigner){return restParam(function(object,sources){var index=-1,length=null==object?0:sources.length,customizer=length>2&&sources[length-2],guard=length>2&&sources[2],thisArg=length>1&&sources[length-1];for("function"==typeof customizer?(customizer=bindCallback(customizer,thisArg,5),length-=2):length-=(customizer="function"==typeof thisArg?thisArg:null)?1:0,guard&&isIterateeCall(sources[0],sources[1],guard)&&(customizer=length<3?null:customizer,length=1);++index<length;){var source=sources[index];source&&assigner(object,source,customizer)}return object})}function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){var length=collection?getLength(collection):0;if(!isLength(length))return eachFunc(collection,iteratee);for(var index=fromRight?length:-1,iterable=toObject(collection);(fromRight?index--:++index<length)&&!1!==iteratee(iterable[index],index,iterable););return collection}}function createBaseFor(fromRight){return function(object,iteratee,keysFunc){for(var iterable=toObject(object),props=keysFunc(object),length=props.length,index=fromRight?length:-1;fromRight?index--:++index<length;){var key=props[index];if(!1===iteratee(iterable[key],key,iterable))break}return object}}bufferSlice||(bufferClone=ArrayBuffer&&Uint8Array?function(buffer){var byteLength=buffer.byteLength,floatLength=Float64Array?floor(byteLength/FLOAT64_BYTES_PER_ELEMENT):0,offset=floatLength*FLOAT64_BYTES_PER_ELEMENT,result=new ArrayBuffer(byteLength);if(floatLength){var view=new Float64Array(result,0,floatLength);view.set(new Float64Array(buffer,0,floatLength))}return byteLength!=offset&&(view=new Uint8Array(result,offset)).set(new Uint8Array(buffer,offset)),result}:constant(null));var createCache=nativeCreate&&Set?function(values){return new SetCache(values)}:constant(null);function createCompounder(callback){return function(string){for(var index=-1,array=words(deburr(string)),length=array.length,result="";++index<length;)result=callback(result,array[index],index);return result}}function createCtorWrapper(Ctor){return function(){var thisBinding=baseCreate(Ctor.prototype),result=Ctor.apply(thisBinding,arguments);return isObject(result)?result:thisBinding}}function createCurry(flag){return function curryFunc(func,arity,guard){guard&&isIterateeCall(func,arity,guard)&&(arity=null);var result=createWrapper(func,flag,null,null,null,null,null,arity);return result.placeholder=curryFunc.placeholder,result}}function createExtremum(arrayFunc,isMin){return function(collection,iteratee,thisArg){thisArg&&isIterateeCall(collection,iteratee,thisArg)&&(iteratee=null);var func=getCallback(),noIteratee=null==iteratee;if(func===baseCallback&&noIteratee||(noIteratee=!1,iteratee=func(iteratee,thisArg,3)),noIteratee){var isArr=isArray(collection);if(isArr||!isString(collection))return arrayFunc(isArr?collection:toIterable(collection));iteratee=charAtCallback}return function(collection,iteratee,isMin){var exValue=isMin?POSITIVE_INFINITY:NEGATIVE_INFINITY,computed=exValue,result=computed;return baseEach(collection,function(value,index,collection){var current=iteratee(value,index,collection);((isMin?current<computed:current>computed)||current===exValue&&current===result)&&(computed=current,result=value)}),result}(collection,iteratee,isMin)}}function createFind(eachFunc,fromRight){return function(collection,predicate,thisArg){if(predicate=getCallback(predicate,thisArg,3),isArray(collection)){var index=baseFindIndex(collection,predicate,fromRight);return index>-1?collection[index]:undefined}return baseFind(collection,predicate,eachFunc)}}function createFindIndex(fromRight){return function(array,predicate,thisArg){return array&&array.length?baseFindIndex(array,predicate=getCallback(predicate,thisArg,3),fromRight):-1}}function createFindKey(objectFunc){return function(object,predicate,thisArg){return baseFind(object,predicate=getCallback(predicate,thisArg,3),objectFunc,!0)}}function createFlow(fromRight){return function(){var length=arguments.length;if(!length)return function(){return arguments[0]};for(var wrapper,index=fromRight?length:-1,leftIndex=0,funcs=Array(length);fromRight?index--:++index<length;){var func=funcs[leftIndex++]=arguments[index];if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);var funcName=wrapper?"":getFuncName(func);wrapper="wrapper"==funcName?new LodashWrapper([]):wrapper}for(index=wrapper?-1:length;++index<length;){func=funcs[index];var data="wrapper"==(funcName=getFuncName(func))?getData(func):null;wrapper=data&&isLaziable(data[0])?wrapper[getFuncName(data[0])].apply(wrapper,data[3]):1==func.length&&isLaziable(func)?wrapper[funcName]():wrapper.thru(func)}return function(){var args=arguments;if(wrapper&&1==args.length&&isArray(args[0]))return wrapper.plant(args[0]).value();for(var index=0,result=funcs[index].apply(this,args);++index<length;)result=funcs[index].call(this,result);return result}}}function createForEach(arrayFunc,eachFunc){return function(collection,iteratee,thisArg){return"function"==typeof iteratee&&thisArg===undefined&&isArray(collection)?arrayFunc(collection,iteratee):eachFunc(collection,bindCallback(iteratee,thisArg,3))}}function createForIn(objectFunc){return function(object,iteratee,thisArg){return"function"==typeof iteratee&&thisArg===undefined||(iteratee=bindCallback(iteratee,thisArg,3)),objectFunc(object,iteratee,keysIn)}}function createForOwn(objectFunc){return function(object,iteratee,thisArg){return"function"==typeof iteratee&&thisArg===undefined||(iteratee=bindCallback(iteratee,thisArg,3)),objectFunc(object,iteratee)}}function createPadDir(fromRight){return function(string,length,chars){return(string=baseToString(string))&&(fromRight?string:"")+createPadding(string,length,chars)+(fromRight?"":string)}}function createPartial(flag){var partialFunc=restParam(function(func,partials){var holders=replaceHolders(partials,partialFunc.placeholder);return createWrapper(func,flag,null,partials,holders)});return partialFunc}function createReduce(arrayFunc,eachFunc){return function(collection,iteratee,accumulator,thisArg){var initFromArray=arguments.length<3;return"function"==typeof iteratee&&thisArg===undefined&&isArray(collection)?arrayFunc(collection,iteratee,accumulator,initFromArray):function(collection,iteratee,accumulator,initFromCollection,eachFunc){return eachFunc(collection,function(value,index,collection){accumulator=initFromCollection?(initFromCollection=!1,value):iteratee(accumulator,value,index,collection)}),accumulator}(collection,getCallback(iteratee,thisArg,4),accumulator,initFromArray,eachFunc)}}function createHybridWrapper(func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity){var isAry=bitmask&ARY_FLAG,isBind=bitmask&BIND_FLAG,isBindKey=bitmask&BIND_KEY_FLAG,isCurry=bitmask&CURRY_FLAG,isCurryBound=bitmask&CURRY_BOUND_FLAG,isCurryRight=bitmask&CURRY_RIGHT_FLAG,Ctor=!isBindKey&&createCtorWrapper(func),key=func;return function wrapper(){for(var length=arguments.length,index=length,args=Array(length);index--;)args[index]=arguments[index];if(partials&&(args=composeArgs(args,partials,holders)),partialsRight&&(args=composeArgsRight(args,partialsRight,holdersRight)),isCurry||isCurryRight){var placeholder=wrapper.placeholder,argsHolders=replaceHolders(args,placeholder);if((length-=argsHolders.length)<arity){var newArgPos=argPos?arrayCopy(argPos):null,newArity=nativeMax(arity-length,0);bitmask|=isCurry?PARTIAL_FLAG:PARTIAL_RIGHT_FLAG,bitmask&=~(isCurry?PARTIAL_RIGHT_FLAG:PARTIAL_FLAG),isCurryBound||(bitmask&=~(BIND_FLAG|BIND_KEY_FLAG));var newData=[func,bitmask,thisArg,isCurry?args:null,isCurry?argsHolders:null,isCurry?null:args,isCurry?null:argsHolders,newArgPos,ary,newArity],result=createHybridWrapper.apply(undefined,newData);return isLaziable(func)&&setData(result,newData),result.placeholder=placeholder,result}}var thisBinding=isBind?thisArg:this;return isBindKey&&(func=thisBinding[key]),argPos&&(args=function(array,indexes){for(var arrLength=array.length,length=nativeMin(indexes.length,arrLength),oldArray=arrayCopy(array);length--;){var index=indexes[length];array[length]=isIndex(index,arrLength)?oldArray[index]:undefined}return array}(args,argPos)),isAry&&ary<args.length&&(args.length=ary),(this&&this!==root&&this instanceof wrapper?Ctor||createCtorWrapper(func):func).apply(thisBinding,args)}}function createPadding(string,length,chars){var strLength=string.length;if(strLength>=(length=+length)||!nativeIsFinite(length))return"";var padLength=length-strLength;return repeat(chars=null==chars?" ":chars+"",ceil(padLength/chars.length)).slice(0,padLength)}function createSortedIndex(retHighest){return function(array,value,iteratee,thisArg){var func=getCallback(iteratee);return func===baseCallback&&null==iteratee?binaryIndex(array,value,retHighest):binaryIndexBy(array,value,func(iteratee,thisArg,1),retHighest)}}function createWrapper(func,bitmask,thisArg,partials,holders,argPos,ary,arity){var isBindKey=bitmask&BIND_KEY_FLAG;if(!isBindKey&&"function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);var length=partials?partials.length:0;if(length||(bitmask&=~(PARTIAL_FLAG|PARTIAL_RIGHT_FLAG),partials=holders=null),length-=holders?holders.length:0,bitmask&PARTIAL_RIGHT_FLAG){var partialsRight=partials,holdersRight=holders;partials=holders=null}var data=isBindKey?null:getData(func),newData=[func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity];if(data&&(function(data,source){var bitmask=data[1],srcBitmask=source[1],newBitmask=bitmask|srcBitmask,isCommon=newBitmask<ARY_FLAG,isCombo=srcBitmask==ARY_FLAG&&bitmask==CURRY_FLAG||srcBitmask==ARY_FLAG&&bitmask==REARG_FLAG&&data[7].length<=source[8]||srcBitmask==(ARY_FLAG|REARG_FLAG)&&bitmask==CURRY_FLAG;if(!isCommon&&!isCombo)return data;srcBitmask&BIND_FLAG&&(data[2]=source[2],newBitmask|=bitmask&BIND_FLAG?0:CURRY_BOUND_FLAG);var value=source[3];if(value){var partials=data[3];data[3]=partials?composeArgs(partials,value,source[4]):arrayCopy(value),data[4]=partials?replaceHolders(data[3],PLACEHOLDER):arrayCopy(source[4])}(value=source[5])&&(partials=data[5],data[5]=partials?composeArgsRight(partials,value,source[6]):arrayCopy(value),data[6]=partials?replaceHolders(data[5],PLACEHOLDER):arrayCopy(source[6])),(value=source[7])&&(data[7]=arrayCopy(value)),srcBitmask&ARY_FLAG&&(data[8]=null==data[8]?source[8]:nativeMin(data[8],source[8])),null==data[9]&&(data[9]=source[9]),data[0]=source[0],data[1]=newBitmask}(newData,data),bitmask=newData[1],arity=newData[9]),newData[9]=null==arity?isBindKey?0:func.length:nativeMax(arity-length,0)||0,bitmask==BIND_FLAG)var result=function(func,thisArg){var Ctor=createCtorWrapper(func);return function wrapper(){return(this&&this!==root&&this instanceof wrapper?Ctor:func).apply(thisArg,arguments)}}(newData[0],newData[2]);else result=bitmask!=PARTIAL_FLAG&&bitmask!=(BIND_FLAG|PARTIAL_FLAG)||newData[4].length?createHybridWrapper.apply(undefined,newData):function(func,bitmask,thisArg,partials){var isBind=bitmask&BIND_FLAG,Ctor=createCtorWrapper(func);return function wrapper(){for(var argsIndex=-1,argsLength=arguments.length,leftIndex=-1,leftLength=partials.length,args=Array(argsLength+leftLength);++leftIndex<leftLength;)args[leftIndex]=partials[leftIndex];for(;argsLength--;)args[leftIndex++]=arguments[++argsIndex];return(this&&this!==root&&this instanceof wrapper?Ctor:func).apply(isBind?thisArg:this,args)}}.apply(undefined,newData);return(data?baseSetData:setData)(result,newData)}function getCallback(func,thisArg,argCount){var result=lodash.callback||callback;return result=result===callback?baseCallback:result,argCount?result(func,thisArg,argCount):result}var getData=metaMap?function(func){return metaMap.get(func)}:noop,getFuncName=support.funcNames?"constant"==constant.name?baseProperty("name"):function(func){for(var result=func.name,array=realNames[result],length=array?array.length:0;length--;){var data=array[length],otherFunc=data.func;if(null==otherFunc||otherFunc==func)return data.name}return result}:constant("");function getIndexOf(collection,target,fromIndex){var result=lodash.indexOf||indexOf;return result=result===indexOf?baseIndexOf:result,collection?result(collection,target,fromIndex):result}var getLength=baseProperty("length"),getSymbols=getOwnPropertySymbols?function(object){return getOwnPropertySymbols(toObject(object))}:constant([]);function invokePath(object,path,args){null==object||isKey(path,object)||(object=1==(path=toPath(path)).length?object:baseGet(object,baseSlice(path,0,-1)),path=last(path));var func=null==object?object:object[path];return null==func?undefined:func.apply(object,args)}function isIndex(value,length){return value=+value,length=null==length?MAX_SAFE_INTEGER:length,value>-1&&value%1==0&&value<length}function isIterateeCall(value,index,object){if(!isObject(object))return!1;var type=typeof index;if("number"==type)var length=getLength(object),prereq=isLength(length)&&isIndex(index,length);else prereq="string"==type&&index in object;if(prereq){var other=object[index];return value==value?value===other:other!=other}return!1}function isKey(value,object){var type=typeof value;return!!("string"==type&&reIsPlainProp.test(value)||"number"==type)||!isArray(value)&&(!reIsDeepProp.test(value)||null!=object&&value in toObject(object))}function isLaziable(func){var funcName=getFuncName(func);return!!funcName&&func===lodash[funcName]&&funcName in LazyWrapper.prototype}function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isStrictComparable(value){return value==value&&(0===value?1/value>0:!isObject(value))}function pickByArray(object,props){object=toObject(object);for(var index=-1,length=props.length,result={};++index<length;){var key=props[index];key in object&&(result[key]=object[key])}return result}function pickByCallback(object,predicate){var result={};return baseForIn(object,function(value,key,object){predicate(value,key,object)&&(result[key]=value)}),result}var count,lastCalled,setData=(count=0,lastCalled=0,function(key,value){var stamp=now(),remaining=HOT_SPAN-(stamp-lastCalled);if(lastCalled=stamp,remaining>0){if(++count>=HOT_COUNT)return key}else count=0;return baseSetData(key,value)});function shimIsPlainObject(value){var Ctor,result,support=lodash.support;return!(!isObjectLike(value)||objToString.call(value)!=objectTag||isHostObject(value)||!hasOwnProperty.call(value,"constructor")&&!("function"!=typeof(Ctor=value.constructor)||Ctor instanceof Ctor)||!support.argsTag&&isArguments(value))&&(support.ownLast?(baseForIn(value,function(subValue,key,object){return result=hasOwnProperty.call(object,key),!1}),!1!==result):(baseForIn(value,function(subValue,key){result=key}),result===undefined||hasOwnProperty.call(value,result)))}function shimKeys(object){for(var props=keysIn(object),propsLength=props.length,length=propsLength&&object.length,support=lodash.support,allowIndexes=length&&isLength(length)&&(isArray(object)||support.nonEnumStrings&&isString(object)||support.nonEnumArgs&&isArguments(object)),index=-1,result=[];++index<propsLength;){var key=props[index];(allowIndexes&&isIndex(key,length)||hasOwnProperty.call(object,key))&&result.push(key)}return result}function toIterable(value){return null==value?[]:isLength(getLength(value))?lodash.support.unindexedChars&&isString(value)?value.split(""):isObject(value)?value:Object(value):values(value)}function toObject(value){if(lodash.support.unindexedChars&&isString(value)){for(var index=-1,length=value.length,result=Object(value);++index<length;)result[index]=value.charAt(index);return result}return isObject(value)?value:Object(value)}function toPath(value){if(isArray(value))return value;var result=[];return baseToString(value).replace(rePropName,function(match,number,quote,string){result.push(quote?string.replace(reEscapeChar,"$1"):number||match)}),result}function wrapperClone(wrapper){return wrapper instanceof LazyWrapper?wrapper.clone():new LodashWrapper(wrapper.__wrapped__,wrapper.__chain__,arrayCopy(wrapper.__actions__))}var difference=restParam(function(array,values){return isArray(array)||isArguments(array)?baseDifference(array,baseFlatten(values,!1,!0)):[]});function drop(array,n,guard){return array&&array.length?((guard?isIterateeCall(array,n,guard):null==n)&&(n=1),baseSlice(array,n<0?0:n)):[]}function dropRight(array,n,guard){var length=array?array.length:0;return length?((guard?isIterateeCall(array,n,guard):null==n)&&(n=1),baseSlice(array,0,(n=length-(+n||0))<0?0:n)):[]}var findIndex=createFindIndex(),findLastIndex=createFindIndex(!0);function first(array){return array?array[0]:undefined}function indexOf(array,value,fromIndex){var length=array?array.length:0;if(!length)return-1;if("number"==typeof fromIndex)fromIndex=fromIndex<0?nativeMax(length+fromIndex,0):fromIndex;else if(fromIndex){var index=binaryIndex(array,value),other=array[index];return(value==value?value===other:other!=other)?index:-1}return baseIndexOf(array,value,fromIndex||0)}function last(array){var length=array?array.length:0;return length?array[length-1]:undefined}var pullAt=restParam(function(array,indexes){array||(array=[]);var result=baseAt(array,indexes=baseFlatten(indexes));return basePullAt(array,indexes.sort(baseCompareAscending)),result});function rest(array){return drop(array,1)}var sortedIndex=createSortedIndex(),sortedLastIndex=createSortedIndex(!0);var union=restParam(function(arrays){return baseUniq(baseFlatten(arrays,!1,!0))});function uniq(array,isSorted,iteratee,thisArg){if(!array||!array.length)return[];null!=isSorted&&"boolean"!=typeof isSorted&&(iteratee=isIterateeCall(array,isSorted,thisArg=iteratee)?null:isSorted,isSorted=!1);var func=getCallback();return func===baseCallback&&null==iteratee||(iteratee=func(iteratee,thisArg,3)),isSorted&&getIndexOf()==baseIndexOf?function(array,iteratee){for(var seen,index=-1,length=array.length,resIndex=-1,result=[];++index<length;){var value=array[index],computed=iteratee?iteratee(value,index,array):value;index&&seen===computed||(seen=computed,result[++resIndex]=value)}return result}(array,iteratee):baseUniq(array,iteratee)}function unzip(array){for(var index=-1,length=(array&&array.length&&arrayMax(arrayMap(array,getLength)))>>>0,result=Array(length);++index<length;)result[index]=arrayMap(array,baseProperty(index));return result}var without=restParam(function(array,values){return isArray(array)||isArguments(array)?baseDifference(array,values):[]});var zip=restParam(unzip);function zipObject(props,values){var index=-1,length=props?props.length:0,result={};for(!length||values||isArray(props[0])||(values=[]);++index<length;){var key=props[index];values?result[key]=values[index]:key&&(result[key[0]]=key[1])}return result}function chain(value){var result=lodash(value);return result.__chain__=!0,result}function thru(value,interceptor,thisArg){return interceptor.call(thisArg,value)}var at=restParam(function(collection,props){return isLength(collection?getLength(collection):0)&&(collection=toIterable(collection)),baseAt(collection,baseFlatten(props))}),countBy=createAggregator(function(result,value,key){hasOwnProperty.call(result,key)?++result[key]:result[key]=1});function every(collection,predicate,thisArg){var func=isArray(collection)?arrayEvery:baseEvery;return thisArg&&isIterateeCall(collection,predicate,thisArg)&&(predicate=null),"function"==typeof predicate&&thisArg===undefined||(predicate=getCallback(predicate,thisArg,3)),func(collection,predicate)}function filter(collection,predicate,thisArg){return(isArray(collection)?arrayFilter:baseFilter)(collection,predicate=getCallback(predicate,thisArg,3))}var find=createFind(baseEach),findLast=createFind(baseEachRight,!0);var forEach=createForEach(arrayEach,baseEach),forEachRight=createForEach(function(array,iteratee){for(var length=array.length;length--&&!1!==iteratee(array[length],length,array););return array},baseEachRight),groupBy=createAggregator(function(result,value,key){hasOwnProperty.call(result,key)?result[key].push(value):result[key]=[value]});function includes(collection,target,fromIndex,guard){var length=collection?getLength(collection):0;return isLength(length)||(length=(collection=values(collection)).length),!!length&&(fromIndex="number"!=typeof fromIndex||guard&&isIterateeCall(target,fromIndex,guard)?0:fromIndex<0?nativeMax(length+fromIndex,0):fromIndex||0,"string"==typeof collection||!isArray(collection)&&isString(collection)?fromIndex<length&&collection.indexOf(target,fromIndex)>-1:getIndexOf(collection,target,fromIndex)>-1)}var indexBy=createAggregator(function(result,value,key){result[key]=value}),invoke=restParam(function(collection,path,args){var index=-1,isFunc="function"==typeof path,isProp=isKey(path),length=getLength(collection),result=isLength(length)?Array(length):[];return baseEach(collection,function(value){var func=isFunc?path:isProp&&null!=value&&value[path];result[++index]=func?func.apply(value,args):invokePath(value,path,args)}),result});function map(collection,iteratee,thisArg){return(isArray(collection)?arrayMap:baseMap)(collection,iteratee=getCallback(iteratee,thisArg,3))}var partition=createAggregator(function(result,value,key){result[key?0:1].push(value)},function(){return[[],[]]});var reduce=createReduce(function(array,iteratee,accumulator,initFromArray){var index=-1,length=array.length;for(initFromArray&&length&&(accumulator=array[++index]);++index<length;)accumulator=iteratee(accumulator,array[index],index,array);return accumulator},baseEach),reduceRight=createReduce(function(array,iteratee,accumulator,initFromArray){var length=array.length;for(initFromArray&&length&&(accumulator=array[--length]);length--;)accumulator=iteratee(accumulator,array[length],length,array);return accumulator},baseEachRight);function sample(collection,n,guard){if(guard?isIterateeCall(collection,n,guard):null==n){var length=(collection=toIterable(collection)).length;return length>0?collection[baseRandom(0,length-1)]:undefined}var result=shuffle(collection);return result.length=nativeMin(n<0?0:+n||0,result.length),result}function shuffle(collection){for(var index=-1,length=(collection=toIterable(collection)).length,result=Array(length);++index<length;){var rand=baseRandom(0,index);index!=rand&&(result[index]=result[rand]),result[rand]=collection[index]}return result}function some(collection,predicate,thisArg){var func=isArray(collection)?arraySome:baseSome;return thisArg&&isIterateeCall(collection,predicate,thisArg)&&(predicate=null),"function"==typeof predicate&&thisArg===undefined||(predicate=getCallback(predicate,thisArg,3)),func(collection,predicate)}var sortByAll=restParam(function(collection,iteratees){if(null==collection)return[];var guard=iteratees[2];return guard&&isIterateeCall(iteratees[0],iteratees[1],guard)&&(iteratees.length=1),baseSortByOrder(collection,baseFlatten(iteratees),[])});var now=nativeNow||function(){return(new Date).getTime()};function before(n,func){var result;if("function"!=typeof func){if("function"!=typeof n)throw new TypeError(FUNC_ERROR_TEXT);var temp=n;n=func,func=temp}return function(){return--n>0&&(result=func.apply(this,arguments)),n<=1&&(func=null),result}}var bind=restParam(function(func,thisArg,partials){var bitmask=BIND_FLAG;if(partials.length){var holders=replaceHolders(partials,bind.placeholder);bitmask|=PARTIAL_FLAG}return createWrapper(func,bitmask,thisArg,partials,holders)}),bindAll=restParam(function(object,methodNames){for(var index=-1,length=(methodNames=methodNames.length?baseFlatten(methodNames):functions(object)).length;++index<length;){var key=methodNames[index];object[key]=createWrapper(object[key],BIND_FLAG,object)}return object}),bindKey=restParam(function(object,key,partials){var bitmask=BIND_FLAG|BIND_KEY_FLAG;if(partials.length){var holders=replaceHolders(partials,bindKey.placeholder);bitmask|=PARTIAL_FLAG}return createWrapper(key,bitmask,object,partials,holders)}),curry=createCurry(CURRY_FLAG),curryRight=createCurry(CURRY_RIGHT_FLAG);function debounce(func,wait,options){var args,maxTimeoutId,result,stamp,thisArg,timeoutId,trailingCall,lastCalled=0,maxWait=!1,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);if(wait=wait<0?0:+wait||0,!0===options){var leading=!0;trailing=!1}else isObject(options)&&(leading=options.leading,maxWait="maxWait"in options&&nativeMax(+options.maxWait||0,wait),trailing="trailing"in options?options.trailing:trailing);function delayed(){var remaining=wait-(now()-stamp);if(remaining<=0||remaining>wait){maxTimeoutId&&clearTimeout(maxTimeoutId);var isCalled=trailingCall;maxTimeoutId=timeoutId=trailingCall=undefined,isCalled&&(lastCalled=now(),result=func.apply(thisArg,args),timeoutId||maxTimeoutId||(args=thisArg=null))}else timeoutId=setTimeout(delayed,remaining)}function maxDelayed(){timeoutId&&clearTimeout(timeoutId),maxTimeoutId=timeoutId=trailingCall=undefined,(trailing||maxWait!==wait)&&(lastCalled=now(),result=func.apply(thisArg,args),timeoutId||maxTimeoutId||(args=thisArg=null))}function debounced(){if(args=arguments,stamp=now(),thisArg=this,trailingCall=trailing&&(timeoutId||!leading),!1===maxWait)var leadingCall=leading&&!timeoutId;else{maxTimeoutId||leading||(lastCalled=stamp);var remaining=maxWait-(stamp-lastCalled),isCalled=remaining<=0||remaining>maxWait;isCalled?(maxTimeoutId&&(maxTimeoutId=clearTimeout(maxTimeoutId)),lastCalled=stamp,result=func.apply(thisArg,args)):maxTimeoutId||(maxTimeoutId=setTimeout(maxDelayed,remaining))}return isCalled&&timeoutId?timeoutId=clearTimeout(timeoutId):timeoutId||wait===maxWait||(timeoutId=setTimeout(delayed,wait)),leadingCall&&(isCalled=!0,result=func.apply(thisArg,args)),!isCalled||timeoutId||maxTimeoutId||(args=thisArg=null),result}return debounced.cancel=function(){timeoutId&&clearTimeout(timeoutId),maxTimeoutId&&clearTimeout(maxTimeoutId),maxTimeoutId=timeoutId=trailingCall=undefined},debounced}var defer=restParam(function(func,args){return baseDelay(func,1,args)}),delay=restParam(function(func,wait,args){return baseDelay(func,wait,args)}),flow=createFlow(),flowRight=createFlow(!0);function memoize(func,resolver){if("function"!=typeof func||resolver&&"function"!=typeof resolver)throw new TypeError(FUNC_ERROR_TEXT);var memoized=function(){var args=arguments,cache=memoized.cache,key=resolver?resolver.apply(this,args):args[0];if(cache.has(key))return cache.get(key);var result=func.apply(this,args);return cache.set(key,result),result};return memoized.cache=new memoize.Cache,memoized}var partial=createPartial(PARTIAL_FLAG),partialRight=createPartial(PARTIAL_RIGHT_FLAG),rearg=restParam(function(func,indexes){return createWrapper(func,REARG_FLAG,null,null,null,baseFlatten(indexes))});function restParam(func,start){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return start=nativeMax(start===undefined?func.length-1:+start||0,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),rest=Array(length);++index<length;)rest[index]=args[start+index];switch(start){case 0:return func.call(this,rest);case 1:return func.call(this,args[0],rest);case 2:return func.call(this,args[0],args[1],rest)}var otherArgs=Array(start+1);for(index=-1;++index<start;)otherArgs[index]=args[index];return otherArgs[start]=rest,func.apply(this,otherArgs)}}function isArguments(value){return isLength(isObjectLike(value)?value.length:undefined)&&objToString.call(value)==argsTag}support.argsTag||(isArguments=function(value){return isLength(isObjectLike(value)?value.length:undefined)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")});var isArray=nativeIsArray||function(value){return isObjectLike(value)&&isLength(value.length)&&objToString.call(value)==arrayTag};function isElement(value){return!!value&&1===value.nodeType&&isObjectLike(value)&&(lodash.support.nodeTag?objToString.call(value).indexOf("Element")>-1:isHostObject(value))}function isError(value){return isObjectLike(value)&&"string"==typeof value.message&&objToString.call(value)==errorTag}support.dom||(isElement=function(value){return!!value&&1===value.nodeType&&isObjectLike(value)&&!isPlainObject(value)});var isFinite=nativeNumIsFinite||function(value){return"number"==typeof value&&nativeIsFinite(value)},isFunction=baseIsFunction(/x/)||Uint8Array&&!baseIsFunction(Uint8Array)?function(value){return objToString.call(value)==funcTag}:baseIsFunction;function isObject(value){var type=typeof value;return"function"==type||!!value&&"object"==type}function isNative(value){return null!=value&&(objToString.call(value)==funcTag?reIsNative.test(fnToString.call(value)):isObjectLike(value)&&(isHostObject(value)?reIsNative:reIsHostCtor).test(value))}function isNumber(value){return"number"==typeof value||isObjectLike(value)&&objToString.call(value)==numberTag}var isPlainObject=getPrototypeOf?function(value){if(!value||objToString.call(value)!=objectTag||!lodash.support.argsTag&&isArguments(value))return!1;var valueOf=value.valueOf,objProto=isNative(valueOf)&&(objProto=getPrototypeOf(valueOf))&&getPrototypeOf(objProto);return objProto?value==objProto||getPrototypeOf(value)==objProto:shimIsPlainObject(value)}:shimIsPlainObject;function isRegExp(value){return isObject(value)&&objToString.call(value)==regexpTag}function isString(value){return"string"==typeof value||isObjectLike(value)&&objToString.call(value)==stringTag}function isTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[objToString.call(value)]}function toPlainObject(value){return baseCopy(value,keysIn(value))}var assign=createAssigner(function(object,source,customizer){return customizer?assignWith(object,source,customizer):baseAssign(object,source)});var defaults=restParam(function(args){var object=args[0];return null==object?object:(args.push(assignDefaults),assign.apply(undefined,args))}),findKey=createFindKey(baseForOwn),findLastKey=createFindKey(baseForOwnRight),forIn=createForIn(baseFor),forInRight=createForIn(baseForRight),forOwn=createForOwn(baseForOwn),forOwnRight=createForOwn(baseForOwnRight);function functions(object){return baseFunctions(object,keysIn(object))}var keys=nativeKeys?function(object){if(object)var Ctor=object.constructor,length=object.length;return"function"==typeof Ctor&&Ctor.prototype===object||("function"==typeof object?lodash.support.enumPrototypes:isLength(length))?shimKeys(object):isObject(object)?nativeKeys(object):[]}:shimKeys;function keysIn(object){if(null==object)return[];isObject(object)||(object=Object(object));var length=object.length,support=lodash.support;length=length&&isLength(length)&&(isArray(object)||support.nonEnumStrings&&isString(object)||support.nonEnumArgs&&isArguments(object))&&length||0;for(var Ctor=object.constructor,index=-1,proto=isFunction(Ctor)&&Ctor.prototype||objectProto,isProto=proto===object,result=Array(length),skipIndexes=length>0,skipErrorProps=support.enumErrorProps&&(object===errorProto||object instanceof Error),skipProto=support.enumPrototypes&&isFunction(object);++index<length;)result[index]=index+"";for(var key in object)skipProto&&"prototype"==key||skipErrorProps&&("message"==key||"name"==key)||skipIndexes&&isIndex(key,length)||"constructor"==key&&(isProto||!hasOwnProperty.call(object,key))||result.push(key);if(support.nonEnumShadows&&object!==objectProto){var tag=object===stringProto?stringTag:object===errorProto?errorTag:objToString.call(object),nonEnums=nonEnumProps[tag]||nonEnumProps[objectTag];for(tag==objectTag&&(proto=objectProto),length=shadowProps.length;length--;){var nonEnum=nonEnums[key=shadowProps[length]];isProto&&nonEnum||(nonEnum?!hasOwnProperty.call(object,key):object[key]===proto[key])||result.push(key)}}return result}var merge=createAssigner(function baseMerge(object,source,customizer,stackA,stackB){if(!isObject(object))return object;var isSrcArr=isLength(source.length)&&(isArray(source)||isTypedArray(source));if(!isSrcArr){var props=keys(source);push.apply(props,getSymbols(source))}return arrayEach(props||source,function(srcValue,key){if(props&&(srcValue=source[key=srcValue]),isObjectLike(srcValue))stackA||(stackA=[]),stackB||(stackB=[]),function(object,source,key,mergeFunc,customizer,stackA,stackB){for(var length=stackA.length,srcValue=source[key];length--;)if(stackA[length]==srcValue)return void(object[key]=stackB[length]);var value=object[key],result=customizer?customizer(value,srcValue,key,object,source):undefined,isCommon=result===undefined;isCommon&&(result=srcValue,isLength(srcValue.length)&&(isArray(srcValue)||isTypedArray(srcValue))?result=isArray(value)?value:getLength(value)?arrayCopy(value):[]:isPlainObject(srcValue)||isArguments(srcValue)?result=isArguments(value)?toPlainObject(value):isPlainObject(value)?value:{}:isCommon=!1),stackA.push(srcValue),stackB.push(result),isCommon?object[key]=mergeFunc(result,srcValue,customizer,stackA,stackB):(result==result?result!==value:value==value)&&(object[key]=result)}(object,source,key,baseMerge,customizer,stackA,stackB);else{var value=object[key],result=customizer?customizer(value,srcValue,key,object,source):undefined,isCommon=result===undefined;isCommon&&(result=srcValue),!isSrcArr&&result===undefined||!isCommon&&(result==result?result===value:value!=value)||(object[key]=result)}}),object}),omit=restParam(function(object,props){if(null==object)return{};if("function"!=typeof props[0])return props=arrayMap(baseFlatten(props),String),pickByArray(object,baseDifference(keysIn(object),props));var predicate=bindCallback(props[0],props[1],3);return pickByCallback(object,function(value,key,object){return!predicate(value,key,object)})});var pick=restParam(function(object,props){return null==object?{}:"function"==typeof props[0]?pickByCallback(object,bindCallback(props[0],props[1],3)):pickByArray(object,baseFlatten(props))});function values(object){return baseValues(object,keys(object))}var camelCase=createCompounder(function(result,word,index){return word=word.toLowerCase(),result+(index?word.charAt(0).toUpperCase()+word.slice(1):word)});function deburr(string){return(string=baseToString(string))&&string.replace(reLatin1,deburrLetter).replace(reComboMark,"")}function escapeRegExp(string){return(string=baseToString(string))&&reHasRegExpChars.test(string)?string.replace(reRegExpChars,"\\$&"):string}var kebabCase=createCompounder(function(result,word,index){return result+(index?"-":"")+word.toLowerCase()});var padLeft=createPadDir(),padRight=createPadDir(!0);function parseInt(string,radix,guard){return guard&&isIterateeCall(string,radix,guard)&&(radix=0),nativeParseInt(string,radix)}function repeat(string,n){var result="";if(string=baseToString(string),(n=+n)<1||!string||!nativeIsFinite(n))return result;do{n%2&&(result+=string),n=floor(n/2),string+=string}while(n);return result}8!=nativeParseInt(whitespace+"08")&&(parseInt=function(string,radix,guard){return(guard?isIterateeCall(string,radix,guard):null==radix)?radix=0:radix&&(radix=+radix),string=trim(string),nativeParseInt(string,radix||(reHasHexPrefix.test(string)?16:10))});var snakeCase=createCompounder(function(result,word,index){return result+(index?"_":"")+word.toLowerCase()}),startCase=createCompounder(function(result,word,index){return result+(index?" ":"")+(word.charAt(0).toUpperCase()+word.slice(1))});function trim(string,chars,guard){var value=string;return(string=baseToString(string))?(guard?isIterateeCall(value,chars,guard):null==chars)?string.slice(trimmedLeftIndex(string),trimmedRightIndex(string)+1):(chars+="",string.slice(charsLeftIndex(string,chars),charsRightIndex(string,chars)+1)):string}function words(string,pattern,guard){return guard&&isIterateeCall(string,pattern,guard)&&(pattern=null),(string=baseToString(string)).match(pattern||reWords)||[]}var attempt=restParam(function(func,args){try{return func.apply(undefined,args)}catch(e){return isError(e)?e:new Error(e)}});function callback(func,thisArg,guard){return guard&&isIterateeCall(func,thisArg,guard)&&(thisArg=null),baseCallback(func,thisArg)}function constant(value){return function(){return value}}function identity(value){return value}var method=restParam(function(path,args){return function(object){return invokePath(object,path,args)}}),methodOf=restParam(function(object,args){return function(path){return invokePath(object,path,args)}});function mixin(object,source,options){if(null==options){var isObj=isObject(source),props=isObj&&keys(source),methodNames=props&&props.length&&baseFunctions(source,props);(methodNames?methodNames.length:isObj)||(methodNames=!1,options=source,source=object,object=this)}methodNames||(methodNames=baseFunctions(source,keys(source)));var chain=!0,index=-1,isFunc=isFunction(object),length=methodNames.length;!1===options?chain=!1:isObject(options)&&"chain"in options&&(chain=options.chain);for(;++index<length;){var methodName=methodNames[index],func=source[methodName];object[methodName]=func,isFunc&&(object.prototype[methodName]=function(func){return function(){var chainAll=this.__chain__;if(chain||chainAll){var result=object(this.__wrapped__);return(result.__actions__=arrayCopy(this.__actions__)).push({func:func,args:arguments,thisArg:object}),result.__chain__=chainAll,result}var args=[this.value()];return push.apply(args,arguments),func.apply(object,args)}}(func))}return object}function noop(){}function property(path){return isKey(path)?baseProperty(path):function(path){var pathKey=path+"";return path=toPath(path),function(object){return baseGet(object,path,pathKey)}}(path)}var source,max=createExtremum(arrayMax),min=createExtremum(function(array){for(var index=-1,length=array.length,result=POSITIVE_INFINITY;++index<length;){var value=array[index];value<result&&(result=value)}return result},!0);return lodash.prototype=baseLodash.prototype,LodashWrapper.prototype=baseCreate(baseLodash.prototype),LodashWrapper.prototype.constructor=LodashWrapper,LazyWrapper.prototype=baseCreate(baseLodash.prototype),LazyWrapper.prototype.constructor=LazyWrapper,MapCache.prototype.delete=function(key){return this.has(key)&&delete this.__data__[key]},MapCache.prototype.get=function(key){return"__proto__"==key?undefined:this.__data__[key]},MapCache.prototype.has=function(key){return"__proto__"!=key&&hasOwnProperty.call(this.__data__,key)},MapCache.prototype.set=function(key,value){return"__proto__"!=key&&(this.__data__[key]=value),this},SetCache.prototype.push=function(value){var data=this.data;"string"==typeof value||isObject(value)?data.set.add(value):data.hash[value]=!0},memoize.Cache=MapCache,lodash.after=function(n,func){if("function"!=typeof func){if("function"!=typeof n)throw new TypeError(FUNC_ERROR_TEXT);var temp=n;n=func,func=temp}return n=nativeIsFinite(n=+n)?n:0,function(){if(--n<1)return func.apply(this,arguments)}},lodash.ary=function(func,n,guard){return guard&&isIterateeCall(func,n,guard)&&(n=null),n=func&&null==n?func.length:nativeMax(+n||0,0),createWrapper(func,ARY_FLAG,null,null,null,null,n)},lodash.assign=assign,lodash.at=at,lodash.before=before,lodash.bind=bind,lodash.bindAll=bindAll,lodash.bindKey=bindKey,lodash.callback=callback,lodash.chain=chain,lodash.chunk=function(array,size,guard){size=(guard?isIterateeCall(array,size,guard):null==size)?1:nativeMax(+size||1,1);for(var index=0,length=array?array.length:0,resIndex=-1,result=Array(ceil(length/size));index<length;)result[++resIndex]=baseSlice(array,index,index+=size);return result},lodash.compact=function(array){for(var index=-1,length=array?array.length:0,resIndex=-1,result=[];++index<length;){var value=array[index];value&&(result[++resIndex]=value)}return result},lodash.constant=constant,lodash.countBy=countBy,lodash.create=function(prototype,properties,guard){var result=baseCreate(prototype);return guard&&isIterateeCall(prototype,properties,guard)&&(properties=null),properties?baseAssign(result,properties):result},lodash.curry=curry,lodash.curryRight=curryRight,lodash.debounce=debounce,lodash.defaults=defaults,lodash.defer=defer,lodash.delay=delay,lodash.difference=difference,lodash.drop=drop,lodash.dropRight=dropRight,lodash.dropRightWhile=function(array,predicate,thisArg){return array&&array.length?baseWhile(array,getCallback(predicate,thisArg,3),!0,!0):[]},lodash.dropWhile=function(array,predicate,thisArg){return array&&array.length?baseWhile(array,getCallback(predicate,thisArg,3),!0):[]},lodash.fill=function(array,value,start,end){var length=array?array.length:0;return length?(start&&"number"!=typeof start&&isIterateeCall(array,value,start)&&(start=0,end=length),function(array,value,start,end){var length=array.length;for((start=null==start?0:+start||0)<0&&(start=-start>length?0:length+start),(end=end===undefined||end>length?length:+end||0)<0&&(end+=length),length=start>end?0:end>>>0,start>>>=0;start<length;)array[start++]=value;return array}(array,value,start,end)):[]},lodash.filter=filter,lodash.flatten=function(array,isDeep,guard){var length=array?array.length:0;return guard&&isIterateeCall(array,isDeep,guard)&&(isDeep=!1),length?baseFlatten(array,isDeep):[]},lodash.flattenDeep=function(array){return array&&array.length?baseFlatten(array,!0):[]},lodash.flow=flow,lodash.flowRight=flowRight,lodash.forEach=forEach,lodash.forEachRight=forEachRight,lodash.forIn=forIn,lodash.forInRight=forInRight,lodash.forOwn=forOwn,lodash.forOwnRight=forOwnRight,lodash.functions=functions,lodash.groupBy=groupBy,lodash.indexBy=indexBy,lodash.initial=function(array){return dropRight(array,1)},lodash.intersection=function(){for(var args=[],argsIndex=-1,argsLength=arguments.length,caches=[],indexOf=getIndexOf(),isCommon=indexOf==baseIndexOf,result=[];++argsIndex<argsLength;){var value=arguments[argsIndex];(isArray(value)||isArguments(value))&&(args.push(value),caches.push(isCommon&&value.length>=120?createCache(argsIndex&&value):null))}if((argsLength=args.length)<2)return result;var array=args[0],index=-1,length=array?array.length:0,seen=caches[0];outer:for(;++index<length;)if(value=array[index],(seen?cacheIndexOf(seen,value):indexOf(result,value,0))<0){for(argsIndex=argsLength;--argsIndex;){var cache=caches[argsIndex];if((cache?cacheIndexOf(cache,value):indexOf(args[argsIndex],value,0))<0)continue outer}seen&&seen.push(value),result.push(value)}return result},lodash.invert=function(object,multiValue,guard){guard&&isIterateeCall(object,multiValue,guard)&&(multiValue=null);for(var index=-1,props=keys(object),length=props.length,result={};++index<length;){var key=props[index],value=object[key];multiValue?hasOwnProperty.call(result,value)?result[value].push(key):result[value]=[key]:result[value]=key}return result},lodash.invoke=invoke,lodash.keys=keys,lodash.keysIn=keysIn,lodash.map=map,lodash.mapValues=function(object,iteratee,thisArg){var result={};return iteratee=getCallback(iteratee,thisArg,3),baseForOwn(object,function(value,key,object){result[key]=iteratee(value,key,object)}),result},lodash.matches=function(source){return baseMatches(baseClone(source,!0))},lodash.matchesProperty=function(path,value){return baseMatchesProperty(path,baseClone(value,!0))},lodash.memoize=memoize,lodash.merge=merge,lodash.method=method,lodash.methodOf=methodOf,lodash.mixin=mixin,lodash.negate=function(predicate){if("function"!=typeof predicate)throw new TypeError(FUNC_ERROR_TEXT);return function(){return!predicate.apply(this,arguments)}},lodash.omit=omit,lodash.once=function(func){return before(2,func)},lodash.pairs=function(object){for(var index=-1,props=keys(object),length=props.length,result=Array(length);++index<length;){var key=props[index];result[index]=[key,object[key]]}return result},lodash.partial=partial,lodash.partialRight=partialRight,lodash.partition=partition,lodash.pick=pick,lodash.pluck=function(collection,path){return map(collection,property(path))},lodash.property=property,lodash.propertyOf=function(object){return function(path){return baseGet(object,toPath(path),path+"")}},lodash.pull=function(){var args=arguments,array=args[0];if(!array||!array.length)return array;for(var index=0,indexOf=getIndexOf(),length=args.length;++index<length;)for(var fromIndex=0,value=args[index];(fromIndex=indexOf(array,value,fromIndex))>-1;)splice.call(array,fromIndex,1);return array},lodash.pullAt=pullAt,lodash.range=function(start,end,step){step&&isIterateeCall(start,end,step)&&(end=step=null),start=+start||0,step=null==step?1:+step||0,null==end?(end=start,start=0):end=+end||0;for(var index=-1,length=nativeMax(ceil((end-start)/(step||1)),0),result=Array(length);++index<length;)result[index]=start,start+=step;return result},lodash.rearg=rearg,lodash.reject=function(collection,predicate,thisArg){var func=isArray(collection)?arrayFilter:baseFilter;return predicate=getCallback(predicate,thisArg,3),func(collection,function(value,index,collection){return!predicate(value,index,collection)})},lodash.remove=function(array,predicate,thisArg){var result=[];if(!array||!array.length)return result;var index=-1,indexes=[],length=array.length;for(predicate=getCallback(predicate,thisArg,3);++index<length;){var value=array[index];predicate(value,index,array)&&(result.push(value),indexes.push(index))}return basePullAt(array,indexes),result},lodash.rest=rest,lodash.restParam=restParam,lodash.set=function(object,path,value){if(null==object)return object;for(var pathKey=path+"",index=-1,length=(path=null!=object[pathKey]||isKey(path,object)?[pathKey]:toPath(path)).length,endIndex=length-1,nested=object;null!=nested&&++index<length;){var key=path[index];isObject(nested)&&(index==endIndex?nested[key]=value:null==nested[key]&&(nested[key]=isIndex(path[index+1])?[]:{})),nested=nested[key]}return object},lodash.shuffle=shuffle,lodash.slice=function(array,start,end){var length=array?array.length:0;return length?(end&&"number"!=typeof end&&isIterateeCall(array,start,end)&&(start=0,end=length),baseSlice(array,start,end)):[]},lodash.sortBy=function(collection,iteratee,thisArg){if(null==collection)return[];thisArg&&isIterateeCall(collection,iteratee,thisArg)&&(iteratee=null);var index=-1;return iteratee=getCallback(iteratee,thisArg,3),baseSortBy(baseMap(collection,function(value,key,collection){return{criteria:iteratee(value,key,collection),index:++index,value:value}}),compareAscending)},lodash.sortByAll=sortByAll,lodash.sortByOrder=function(collection,iteratees,orders,guard){return null==collection?[]:(guard&&isIterateeCall(iteratees,orders,guard)&&(orders=null),isArray(iteratees)||(iteratees=null==iteratees?[]:[iteratees]),isArray(orders)||(orders=null==orders?[]:[orders]),baseSortByOrder(collection,iteratees,orders))},lodash.spread=function(func){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return function(array){return func.apply(this,array)}},lodash.take=function(array,n,guard){return array&&array.length?((guard?isIterateeCall(array,n,guard):null==n)&&(n=1),baseSlice(array,0,n<0?0:n)):[]},lodash.takeRight=function(array,n,guard){var length=array?array.length:0;return length?((guard?isIterateeCall(array,n,guard):null==n)&&(n=1),baseSlice(array,(n=length-(+n||0))<0?0:n)):[]},lodash.takeRightWhile=function(array,predicate,thisArg){return array&&array.length?baseWhile(array,getCallback(predicate,thisArg,3),!1,!0):[]},lodash.takeWhile=function(array,predicate,thisArg){return array&&array.length?baseWhile(array,getCallback(predicate,thisArg,3)):[]},lodash.tap=function(value,interceptor,thisArg){return interceptor.call(thisArg,value),value},lodash.throttle=function(func,wait,options){var leading=!0,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return!1===options?leading=!1:isObject(options)&&(leading="leading"in options?!!options.leading:leading,trailing="trailing"in options?!!options.trailing:trailing),debounceOptions.leading=leading,debounceOptions.maxWait=+wait,debounceOptions.trailing=trailing,debounce(func,wait,debounceOptions)},lodash.thru=thru,lodash.times=function(n,iteratee,thisArg){if((n=floor(n))<1||!nativeIsFinite(n))return[];var index=-1,result=Array(nativeMin(n,MAX_ARRAY_LENGTH));for(iteratee=bindCallback(iteratee,thisArg,1);++index<n;)index<MAX_ARRAY_LENGTH?result[index]=iteratee(index):iteratee(index);return result},lodash.toArray=function(value){var length=value?getLength(value):0;return isLength(length)?length?lodash.support.unindexedChars&&isString(value)?value.split(""):arrayCopy(value):[]:values(value)},lodash.toPlainObject=toPlainObject,lodash.transform=function(object,iteratee,accumulator,thisArg){var isArr=isArray(object)||isTypedArray(object);if(iteratee=getCallback(iteratee,thisArg,4),null==accumulator)if(isArr||isObject(object)){var Ctor=object.constructor;accumulator=isArr?isArray(object)?new Ctor:[]:baseCreate(isFunction(Ctor)&&Ctor.prototype)}else accumulator={};return(isArr?arrayEach:baseForOwn)(object,function(value,index,object){return iteratee(accumulator,value,index,object)}),accumulator},lodash.union=union,lodash.uniq=uniq,lodash.unzip=unzip,lodash.values=values,lodash.valuesIn=function(object){return baseValues(object,keysIn(object))},lodash.where=function(collection,source){return filter(collection,baseMatches(source))},lodash.without=without,lodash.wrap=function(value,wrapper){return createWrapper(wrapper=null==wrapper?identity:wrapper,PARTIAL_FLAG,null,[value],[])},lodash.xor=function(){for(var index=-1,length=arguments.length;++index<length;){var array=arguments[index];if(isArray(array)||isArguments(array))var result=result?baseDifference(result,array).concat(baseDifference(array,result)):array}return result?baseUniq(result):[]},lodash.zip=zip,lodash.zipObject=zipObject,lodash.backflow=flowRight,lodash.collect=map,lodash.compose=flowRight,lodash.each=forEach,lodash.eachRight=forEachRight,lodash.extend=assign,lodash.iteratee=callback,lodash.methods=functions,lodash.object=zipObject,lodash.select=filter,lodash.tail=rest,lodash.unique=uniq,mixin(lodash,lodash),lodash.add=function(augend,addend){return(+augend||0)+(+addend||0)},lodash.attempt=attempt,lodash.camelCase=camelCase,lodash.capitalize=function(string){return(string=baseToString(string))&&string.charAt(0).toUpperCase()+string.slice(1)},lodash.clone=function(value,isDeep,customizer,thisArg){return isDeep&&"boolean"!=typeof isDeep&&isIterateeCall(value,isDeep,customizer)?isDeep=!1:"function"==typeof isDeep&&(thisArg=customizer,customizer=isDeep,isDeep=!1),baseClone(value,isDeep,customizer="function"==typeof customizer&&bindCallback(customizer,thisArg,1))},lodash.cloneDeep=function(value,customizer,thisArg){return baseClone(value,!0,customizer="function"==typeof customizer&&bindCallback(customizer,thisArg,1))},lodash.deburr=deburr,lodash.endsWith=function(string,target,position){target+="";var length=(string=baseToString(string)).length;return position=position===undefined?length:nativeMin(position<0?0:+position||0,length),(position-=target.length)>=0&&string.indexOf(target,position)==position},lodash.escape=function(string){return(string=baseToString(string))&&reHasUnescapedHtml.test(string)?string.replace(reUnescapedHtml,escapeHtmlChar):string},lodash.escapeRegExp=escapeRegExp,lodash.every=every,lodash.find=find,lodash.findIndex=findIndex,lodash.findKey=findKey,lodash.findLast=findLast,lodash.findLastIndex=findLastIndex,lodash.findLastKey=findLastKey,lodash.findWhere=function(collection,source){return find(collection,baseMatches(source))},lodash.first=first,lodash.get=function(object,path,defaultValue){var result=null==object?undefined:baseGet(object,toPath(path),path+"");return result===undefined?defaultValue:result},lodash.has=function(object,path){if(null==object)return!1;var result=hasOwnProperty.call(object,path);return result||isKey(path)||(object=1==(path=toPath(path)).length?object:baseGet(object,baseSlice(path,0,-1)),path=last(path),result=null!=object&&hasOwnProperty.call(object,path)),result||lodash.support.nonEnumStrings&&isString(object)&&isIndex(path,object.length)},lodash.identity=identity,lodash.includes=includes,lodash.indexOf=indexOf,lodash.inRange=function(value,start,end){return start=+start||0,void 0===end?(end=start,start=0):end=+end||0,value>=nativeMin(start,end)&&value<nativeMax(start,end)},lodash.isArguments=isArguments,lodash.isArray=isArray,lodash.isBoolean=function(value){return!0===value||!1===value||isObjectLike(value)&&objToString.call(value)==boolTag},lodash.isDate=function(value){return isObjectLike(value)&&objToString.call(value)==dateTag},lodash.isElement=isElement,lodash.isEmpty=function(value){if(null==value)return!0;var length=getLength(value);return isLength(length)&&(isArray(value)||isString(value)||isArguments(value)||isObjectLike(value)&&isFunction(value.splice))?!length:!keys(value).length},lodash.isEqual=function(value,other,customizer,thisArg){if(!(customizer="function"==typeof customizer&&bindCallback(customizer,thisArg,3))&&isStrictComparable(value)&&isStrictComparable(other))return value===other;var result=customizer?customizer(value,other):undefined;return result===undefined?baseIsEqual(value,other,customizer):!!result},lodash.isError=isError,lodash.isFinite=isFinite,lodash.isFunction=isFunction,lodash.isMatch=function(object,source,customizer,thisArg){var props=keys(source),length=props.length;if(!length)return!0;if(null==object)return!1;if(customizer="function"==typeof customizer&&bindCallback(customizer,thisArg,3),object=toObject(object),!customizer&&1==length){var key=props[0],value=source[key];if(isStrictComparable(value))return value===object[key]&&(value!==undefined||key in object)}for(var values=Array(length),strictCompareFlags=Array(length);length--;)value=values[length]=source[props[length]],strictCompareFlags[length]=isStrictComparable(value);return baseIsMatch(object,props,values,strictCompareFlags,customizer)},lodash.isNaN=function(value){return isNumber(value)&&value!=+value},lodash.isNative=isNative,lodash.isNull=function(value){return null===value},lodash.isNumber=isNumber,lodash.isObject=isObject,lodash.isPlainObject=isPlainObject,lodash.isRegExp=isRegExp,lodash.isString=isString,lodash.isTypedArray=isTypedArray,lodash.isUndefined=function(value){return value===undefined},lodash.kebabCase=kebabCase,lodash.last=last,lodash.lastIndexOf=function(array,value,fromIndex){var length=array?array.length:0;if(!length)return-1;var index=length;if("number"==typeof fromIndex)index=(fromIndex<0?nativeMax(length+fromIndex,0):nativeMin(fromIndex||0,length-1))+1;else if(fromIndex){var other=array[index=binaryIndex(array,value,!0)-1];return(value==value?value===other:other!=other)?index:-1}if(value!=value)return indexOfNaN(array,index,!0);for(;index--;)if(array[index]===value)return index;return-1},lodash.max=max,lodash.min=min,lodash.noConflict=function(){return context._=oldDash,this},lodash.noop=noop,lodash.now=now,lodash.pad=function(string,length,chars){length=+length;var strLength=(string=baseToString(string)).length;if(strLength>=length||!nativeIsFinite(length))return string;var mid=(length-strLength)/2,leftLength=floor(mid);return(chars=createPadding("",ceil(mid),chars)).slice(0,leftLength)+string+chars},lodash.padLeft=padLeft,lodash.padRight=padRight,lodash.parseInt=parseInt,lodash.random=function(min,max,floating){floating&&isIterateeCall(min,max,floating)&&(max=floating=null);var noMin=null==min,noMax=null==max;if(null==floating&&(noMax&&"boolean"==typeof min?(floating=min,min=1):"boolean"==typeof max&&(floating=max,noMax=!0)),noMin&&noMax&&(max=1,noMax=!1),min=+min||0,noMax?(max=min,min=0):max=+max||0,floating||min%1||max%1){var rand=nativeRandom();return nativeMin(min+rand*(max-min+parseFloat("1e-"+((rand+"").length-1))),max)}return baseRandom(min,max)},lodash.reduce=reduce,lodash.reduceRight=reduceRight,lodash.repeat=repeat,lodash.result=function(object,path,defaultValue){var result=null==object?undefined:toObject(object)[path];return result===undefined&&(null==object||isKey(path,object)||(result=null==(object=1==(path=toPath(path)).length?object:baseGet(object,baseSlice(path,0,-1)))?undefined:toObject(object)[last(path)]),result=result===undefined?defaultValue:result),isFunction(result)?result.call(object):result},lodash.runInContext=runInContext,lodash.size=function(collection){var length=collection?getLength(collection):0;return isLength(length)?length:keys(collection).length},lodash.snakeCase=snakeCase,lodash.some=some,lodash.sortedIndex=sortedIndex,lodash.sortedLastIndex=sortedLastIndex,lodash.startCase=startCase,lodash.startsWith=function(string,target,position){return string=baseToString(string),position=null==position?0:nativeMin(position<0?0:+position||0,string.length),string.lastIndexOf(target,position)==position},lodash.sum=function(collection,iteratee,thisArg){thisArg&&isIterateeCall(collection,iteratee,thisArg)&&(iteratee=null);var func=getCallback(),noIteratee=null==iteratee;return func===baseCallback&&noIteratee||(noIteratee=!1,iteratee=func(iteratee,thisArg,3)),noIteratee?function(array){for(var length=array.length,result=0;length--;)result+=+array[length]||0;return result}(isArray(collection)?collection:toIterable(collection)):function(collection,iteratee){var result=0;return baseEach(collection,function(value,index,collection){result+=+iteratee(value,index,collection)||0}),result}(collection,iteratee)},lodash.template=function(string,options,otherOptions){var settings=lodash.templateSettings;otherOptions&&isIterateeCall(string,options,otherOptions)&&(options=otherOptions=null),string=baseToString(string),options=assignWith(baseAssign({},otherOptions||options),settings,assignOwnDefaults);var isEscaping,isEvaluating,imports=assignWith(baseAssign({},options.imports),settings.imports,assignOwnDefaults),importsKeys=keys(imports),importsValues=baseValues(imports,importsKeys),index=0,interpolate=options.interpolate||reNoMatch,source="__p += '",reDelimiters=RegExp((options.escape||reNoMatch).source+"|"+interpolate.source+"|"+(interpolate===reInterpolate?reEsTemplate:reNoMatch).source+"|"+(options.evaluate||reNoMatch).source+"|$","g"),sourceURL="//# sourceURL="+("sourceURL"in options?options.sourceURL:"lodash.templateSources["+ ++templateCounter+"]")+"\n";string.replace(reDelimiters,function(match,escapeValue,interpolateValue,esTemplateValue,evaluateValue,offset){return interpolateValue||(interpolateValue=esTemplateValue),source+=string.slice(index,offset).replace(reUnescapedString,escapeStringChar),escapeValue&&(isEscaping=!0,source+="' +\n__e("+escapeValue+") +\n'"),evaluateValue&&(isEvaluating=!0,source+="';\n"+evaluateValue+";\n__p += '"),interpolateValue&&(source+="' +\n((__t = ("+interpolateValue+")) == null ? '' : __t) +\n'"),index=offset+match.length,match}),source+="';\n";var variable=options.variable;variable||(source="with (obj) {\n"+source+"\n}\n"),source=(isEvaluating?source.replace(reEmptyStringLeading,""):source).replace(reEmptyStringMiddle,"$1").replace(reEmptyStringTrailing,"$1;"),source="function("+(variable||"obj")+") {\n"+(variable?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(isEscaping?", __e = _.escape":"")+(isEvaluating?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+source+"return __p\n}";var result=attempt(function(){return Function(importsKeys,sourceURL+"return "+source).apply(undefined,importsValues)});if(result.source=source,isError(result))throw result;return result},lodash.trim=trim,lodash.trimLeft=function(string,chars,guard){var value=string;return(string=baseToString(string))?(guard?isIterateeCall(value,chars,guard):null==chars)?string.slice(trimmedLeftIndex(string)):string.slice(charsLeftIndex(string,chars+"")):string},lodash.trimRight=function(string,chars,guard){var value=string;return(string=baseToString(string))?(guard?isIterateeCall(value,chars,guard):null==chars)?string.slice(0,trimmedRightIndex(string)+1):string.slice(0,charsRightIndex(string,chars+"")+1):string},lodash.trunc=function(string,options,guard){guard&&isIterateeCall(string,options,guard)&&(options=null);var length=DEFAULT_TRUNC_LENGTH,omission=DEFAULT_TRUNC_OMISSION;if(null!=options)if(isObject(options)){var separator="separator"in options?options.separator:separator;length="length"in options?+options.length||0:length,omission="omission"in options?baseToString(options.omission):omission}else length=+options||0;if(length>=(string=baseToString(string)).length)return string;var end=length-omission.length;if(end<1)return omission;var result=string.slice(0,end);if(null==separator)return result+omission;if(isRegExp(separator)){if(string.slice(end).search(separator)){var match,newEnd,substring=string.slice(0,end);for(separator.global||(separator=RegExp(separator.source,(reFlags.exec(separator)||"")+"g")),separator.lastIndex=0;match=separator.exec(substring);)newEnd=match.index;result=result.slice(0,null==newEnd?end:newEnd)}}else if(string.indexOf(separator,end)!=end){var index=result.lastIndexOf(separator);index>-1&&(result=result.slice(0,index))}return result+omission},lodash.unescape=function(string){return(string=baseToString(string))&&reHasEscapedHtml.test(string)?string.replace(reEscapedHtml,unescapeHtmlChar):string},lodash.uniqueId=function(prefix){var id=++idCounter;return baseToString(prefix)+id},lodash.words=words,lodash.all=every,lodash.any=some,lodash.contains=includes,lodash.detect=find,lodash.foldl=reduce,lodash.foldr=reduceRight,lodash.head=first,lodash.include=includes,lodash.inject=reduce,mixin(lodash,(source={},baseForOwn(lodash,function(func,methodName){lodash.prototype[methodName]||(source[methodName]=func)}),source),!1),lodash.sample=sample,lodash.prototype.sample=function(n){return this.__chain__||null!=n?this.thru(function(value){return sample(value,n)}):sample(this.value())},lodash.VERSION=VERSION,arrayEach(["bind","bindKey","curry","curryRight","partial","partialRight"],function(methodName){lodash[methodName].placeholder=lodash}),arrayEach(["dropWhile","filter","map","takeWhile"],function(methodName,type){var isFilter=type!=LAZY_MAP_FLAG,isDropWhile=type==LAZY_DROP_WHILE_FLAG;LazyWrapper.prototype[methodName]=function(iteratee,thisArg){var filtered=this.__filtered__,result=filtered&&isDropWhile?new LazyWrapper(this):this.clone();return(result.__iteratees__||(result.__iteratees__=[])).push({done:!1,count:0,index:0,iteratee:getCallback(iteratee,thisArg,1),limit:-1,type:type}),result.__filtered__=filtered||isFilter,result}}),arrayEach(["drop","take"],function(methodName,index){var whileName=methodName+"While";LazyWrapper.prototype[methodName]=function(n){var filtered=this.__filtered__,result=filtered&&!index?this.dropWhile():this.clone();return n=null==n?1:nativeMax(floor(n)||0,0),filtered?index?result.__takeCount__=nativeMin(result.__takeCount__,n):last(result.__iteratees__).limit=n:(result.__views__||(result.__views__=[])).push({size:n,type:methodName+(result.__dir__<0?"Right":"")}),result},LazyWrapper.prototype[methodName+"Right"]=function(n){return this.reverse()[methodName](n).reverse()},LazyWrapper.prototype[methodName+"RightWhile"]=function(predicate,thisArg){return this.reverse()[whileName](predicate,thisArg).reverse()}}),arrayEach(["first","last"],function(methodName,index){var takeName="take"+(index?"Right":"");LazyWrapper.prototype[methodName]=function(){return this[takeName](1).value()[0]}}),arrayEach(["initial","rest"],function(methodName,index){var dropName="drop"+(index?"":"Right");LazyWrapper.prototype[methodName]=function(){return this[dropName](1)}}),arrayEach(["pluck","where"],function(methodName,index){var operationName=index?"filter":"map",createCallback=index?baseMatches:property;LazyWrapper.prototype[methodName]=function(value){return this[operationName](createCallback(value))}}),LazyWrapper.prototype.compact=function(){return this.filter(identity)},LazyWrapper.prototype.reject=function(predicate,thisArg){return predicate=getCallback(predicate,thisArg,1),this.filter(function(value){return!predicate(value)})},LazyWrapper.prototype.slice=function(start,end){var result=(start=null==start?0:+start||0)<0?this.takeRight(-start):this.drop(start);return end!==undefined&&(result=(end=+end||0)<0?result.dropRight(-end):result.take(end-start)),result},LazyWrapper.prototype.toArray=function(){return this.drop(0)},baseForOwn(LazyWrapper.prototype,function(func,methodName){var lodashFunc=lodash[methodName];if(lodashFunc){var checkIteratee=/^(?:filter|map|reject)|While$/.test(methodName),retUnwrapped=/^(?:first|last)$/.test(methodName);lodash.prototype[methodName]=function(){var args=arguments,chainAll=(args.length,this.__chain__),value=this.__wrapped__,isHybrid=!!this.__actions__.length,isLazy=value instanceof LazyWrapper,iteratee=args[0],useLazy=isLazy||isArray(value);useLazy&&checkIteratee&&"function"==typeof iteratee&&1!=iteratee.length&&(isLazy=useLazy=!1);var onlyLazy=isLazy&&!isHybrid;if(retUnwrapped&&!chainAll)return onlyLazy?func.call(value):lodashFunc.call(lodash,this.value());var interceptor=function(value){var otherArgs=[value];return push.apply(otherArgs,args),lodashFunc.apply(lodash,otherArgs)};if(useLazy){var wrapper=onlyLazy?value:new LazyWrapper(this),result=func.apply(wrapper,args);return retUnwrapped||!isHybrid&&!result.__actions__||(result.__actions__||(result.__actions__=[])).push({func:thru,args:[interceptor],thisArg:lodash}),new LodashWrapper(result,chainAll)}return this.thru(interceptor)}}}),arrayEach(["concat","join","pop","push","replace","shift","sort","splice","split","unshift"],function(methodName){var protoFunc=(/^(?:replace|split)$/.test(methodName)?stringProto:arrayProto)[methodName],chainName=/^(?:push|sort|unshift)$/.test(methodName)?"tap":"thru",fixObjects=!support.spliceObjects&&/^(?:pop|shift|splice)$/.test(methodName),retUnwrapped=/^(?:join|pop|replace|shift)$/.test(methodName),func=fixObjects?function(){var result=protoFunc.apply(this,arguments);return 0===this.length&&delete this[0],result}:protoFunc;lodash.prototype[methodName]=function(){var args=arguments;return retUnwrapped&&!this.__chain__?func.apply(this.value(),args):this[chainName](function(value){return func.apply(value,args)})}}),baseForOwn(LazyWrapper.prototype,function(func,methodName){var lodashFunc=lodash[methodName];if(lodashFunc){var key=lodashFunc.name;(realNames[key]||(realNames[key]=[])).push({name:methodName,func:lodashFunc})}}),realNames[createHybridWrapper(null,BIND_KEY_FLAG).name]=[{name:"wrapper",func:null}],LazyWrapper.prototype.clone=function(){var actions=this.__actions__,iteratees=this.__iteratees__,views=this.__views__,result=new LazyWrapper(this.__wrapped__);return result.__actions__=actions?arrayCopy(actions):null,result.__dir__=this.__dir__,result.__filtered__=this.__filtered__,result.__iteratees__=iteratees?arrayCopy(iteratees):null,result.__takeCount__=this.__takeCount__,result.__views__=views?arrayCopy(views):null,result},LazyWrapper.prototype.reverse=function(){if(this.__filtered__){var result=new LazyWrapper(this);result.__dir__=-1,result.__filtered__=!0}else(result=this.clone()).__dir__*=-1;return result},LazyWrapper.prototype.value=function(){var array=this.__wrapped__.value();if(!isArray(array))return baseWrapperValue(array,this.__actions__);var dir=this.__dir__,isRight=dir<0,view=function(start,end,transforms){for(var index=-1,length=transforms?transforms.length:0;++index<length;){var data=transforms[index],size=data.size;switch(data.type){case"drop":start+=size;break;case"dropRight":end-=size;break;case"take":end=nativeMin(end,start+size);break;case"takeRight":start=nativeMax(start,end-size)}}return{start:start,end:end}}(0,array.length,this.__views__),start=view.start,end=view.end,length=end-start,index=isRight?end:start-1,takeCount=nativeMin(length,this.__takeCount__),iteratees=this.__iteratees__,iterLength=iteratees?iteratees.length:0,resIndex=0,result=[];outer:for(;length--&&resIndex<takeCount;){for(var iterIndex=-1,value=array[index+=dir];++iterIndex<iterLength;){var data=iteratees[iterIndex],iteratee=data.iteratee,type=data.type;if(type==LAZY_DROP_WHILE_FLAG){if(data.done&&(isRight?index>data.index:index<data.index)&&(data.count=0,data.done=!1),data.index=index,!data.done){var limit=data.limit;if(!(data.done=limit>-1?data.count++>=limit:!iteratee(value)))continue outer}}else{var computed=iteratee(value);if(type==LAZY_MAP_FLAG)value=computed;else if(!computed){if(type==LAZY_FILTER_FLAG)continue outer;break outer}}}result[resIndex++]=value}return result},lodash.prototype.chain=function(){return chain(this)},lodash.prototype.commit=function(){return new LodashWrapper(this.value(),this.__chain__)},lodash.prototype.plant=function(value){for(var result,parent=this;parent instanceof baseLodash;){var clone=wrapperClone(parent);result?previous.__wrapped__=clone:result=clone;var previous=clone;parent=parent.__wrapped__}return previous.__wrapped__=value,result},lodash.prototype.reverse=function(){var value=this.__wrapped__;return value instanceof LazyWrapper?(this.__actions__.length&&(value=new LazyWrapper(this)),new LodashWrapper(value.reverse(),this.__chain__)):this.thru(function(value){return value.reverse()})},lodash.prototype.toString=function(){return this.value()+""},lodash.prototype.run=lodash.prototype.toJSON=lodash.prototype.valueOf=lodash.prototype.value=function(){return baseWrapperValue(this.__wrapped__,this.__actions__)},lodash.prototype.collect=lodash.prototype.map,lodash.prototype.head=lodash.prototype.first,lodash.prototype.select=lodash.prototype.filter,lodash.prototype.tail=lodash.prototype.rest,lodash}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(root._=_,define(function(){return _})):freeExports&&freeModule?moduleExports?(freeModule.exports=_)._=_:freeExports._=_:root._=_,root.socrataLodash=_}).call(this)}).call(window)},1730:function(module,exports){var define=void 0,require=void 0,module=void 0,exports=void 0;(function(){var $,mouseHandled;!function($,undefined){function focusable(element,isTabIndexNotNaN){var nodeName=element.nodeName.toLowerCase();if("area"===nodeName){var img,map=element.parentNode,mapName=map.name;return!(!element.href||!mapName||"map"!==map.nodeName.toLowerCase())&&(!!(img=$("img[usemap=#"+mapName+"]")[0])&&visible(img))}return(/input|select|textarea|button|object/.test(nodeName)?!element.disabled:"a"==nodeName&&element.href||isTabIndexNotNaN)&&visible(element)}function visible(element){return!$(element).parents().andSelf().filter(function(){return"hidden"===$.curCSS(this,"visibility")||$.expr.filters.hidden(this)}).length}$.ui=$.ui||{},$.ui.version||($.extend($.ui,{version:"1.8.23",keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}),$.fn.extend({propAttr:$.fn.prop||$.fn.attr,_focus:$.fn.focus,focus:function(delay,fn){return"number"==typeof delay?this.each(function(){var elem=this;setTimeout(function(){$(elem).focus(),fn&&fn.call(elem)},delay)}):this._focus.apply(this,arguments)},scrollParent:function(){var scrollParent;return scrollParent=$.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test($.curCSS(this,"position",1))&&/(auto|scroll)/.test($.curCSS(this,"overflow",1)+$.curCSS(this,"overflow-y",1)+$.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test($.curCSS(this,"overflow",1)+$.curCSS(this,"overflow-y",1)+$.curCSS(this,"overflow-x",1))}).eq(0),/fixed/.test(this.css("position"))||!scrollParent.length?$(document):scrollParent},zIndex:function(zIndex){if(void 0!==zIndex)return this.css("zIndex",zIndex);if(this.length)for(var position,value,elem=$(this[0]);elem.length&&elem[0]!==document;){if(("absolute"===(position=elem.css("position"))||"relative"===position||"fixed"===position)&&(value=parseInt(elem.css("zIndex"),10),!isNaN(value)&&0!==value))return value;elem=elem.parent()}return 0},disableSelection:function(){return this.bind(($.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(event){event.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),$("<a>").outerWidth(1).jquery||$.each(["Width","Height"],function(i,name){var side="Width"===name?["Left","Right"]:["Top","Bottom"],type=name.toLowerCase(),orig={innerWidth:$.fn.innerWidth,innerHeight:$.fn.innerHeight,outerWidth:$.fn.outerWidth,outerHeight:$.fn.outerHeight};function reduce(elem,size,border,margin){return $.each(side,function(){size-=parseFloat($.curCSS(elem,"padding"+this,!0))||0,border&&(size-=parseFloat($.curCSS(elem,"border"+this+"Width",!0))||0),margin&&(size-=parseFloat($.curCSS(elem,"margin"+this,!0))||0)}),size}$.fn["inner"+name]=function(size){return void 0===size?orig["inner"+name].call(this):this.each(function(){$(this).css(type,reduce(this,size)+"px")})},$.fn["outer"+name]=function(size,margin){return"number"!=typeof size?orig["outer"+name].call(this,size):this.each(function(){$(this).css(type,reduce(this,size,!0,margin)+"px")})}}),$.extend($.expr[":"],{data:$.expr.createPseudo?$.expr.createPseudo(function(dataName){return function(elem){return!!$.data(elem,dataName)}}):function(elem,i,match){return!!$.data(elem,match[3])},focusable:function(element){return focusable(element,!isNaN($.attr(element,"tabindex")))},tabbable:function(element){var tabIndex=$.attr(element,"tabindex"),isTabIndexNaN=isNaN(tabIndex);return(isTabIndexNaN||tabIndex>=0)&&focusable(element,!isTabIndexNaN)}}),$(function(){var body=document.body,div=body.appendChild(div=document.createElement("div"));div.offsetHeight,$.extend(div.style,{minHeight:"100px",height:"auto",padding:0,borderWidth:0}),$.support.minHeight=100===div.offsetHeight,$.support.selectstart="onselectstart"in div,body.removeChild(div).style.display="none"}),$.curCSS||($.curCSS=$.css),$.extend($.ui,{plugin:{add:function(module,option,set){var proto=$.ui[module].prototype;for(var i in set)proto.plugins[i]=proto.plugins[i]||[],proto.plugins[i].push([option,set[i]])},call:function(instance,name,args){var set=instance.plugins[name];if(set&&instance.element[0].parentNode)for(var i=0;i<set.length;i++)instance.options[set[i][0]]&&set[i][1].apply(instance.element,args)}},contains:function(a,b){return document.compareDocumentPosition?16&a.compareDocumentPosition(b):a!==b&&a.contains(b)},hasScroll:function(el,a){if("hidden"===$(el).css("overflow"))return!1;var has,scroll=a&&"left"===a?"scrollLeft":"scrollTop";return el[scroll]>0||(el[scroll]=1,has=el[scroll]>0,el[scroll]=0,has)},isOverAxis:function(x,reference,size){return x>reference&&x<reference+size},isOver:function(y,x,top,left,height,width){return $.ui.isOverAxis(y,top,height)&&$.ui.isOverAxis(x,left,width)}}))}(jQuery),function($,undefined){if($.cleanData){var _cleanData=$.cleanData;$.cleanData=function(elems){for(var elem,i=0;null!=(elem=elems[i]);i++)try{$(elem).triggerHandler("remove")}catch(e){}_cleanData(elems)}}else{var _remove=$.fn.remove;$.fn.remove=function(selector,keepData){return this.each(function(){return keepData||selector&&!$.filter(selector,[this]).length||$("*",this).add([this]).each(function(){try{$(this).triggerHandler("remove")}catch(e){}}),_remove.call($(this),selector,keepData)})}}$.widget=function(name,base,prototype){var fullName,namespace=name.split(".")[0];fullName=namespace+"-"+(name=name.split(".")[1]),prototype||(prototype=base,base=$.Widget),$.expr[":"][fullName]=function(elem){return!!$.data(elem,name)},$[namespace]=$[namespace]||{},$[namespace][name]=function(options,element){arguments.length&&this._createWidget(options,element)};var basePrototype=new base;basePrototype.options=$.extend(!0,{},basePrototype.options),$[namespace][name].prototype=$.extend(!0,basePrototype,{namespace:namespace,widgetName:name,widgetEventPrefix:$[namespace][name].prototype.widgetEventPrefix||name,widgetBaseClass:fullName},prototype),$.widget.bridge(name,$[namespace][name])},$.widget.bridge=function(name,object){$.fn[name]=function(options){var isMethodCall="string"==typeof options,args=Array.prototype.slice.call(arguments,1),returnValue=this;return options=!isMethodCall&&args.length?$.extend.apply(null,[!0,options].concat(args)):options,isMethodCall&&"_"===options.charAt(0)?returnValue:(isMethodCall?this.each(function(){var instance=$.data(this,name),methodValue=instance&&$.isFunction(instance[options])?instance[options].apply(instance,args):instance;if(methodValue!==instance&&void 0!==methodValue)return returnValue=methodValue,!1}):this.each(function(){var instance=$.data(this,name);instance?instance.option(options||{})._init():$.data(this,name,new object(options,this))}),returnValue)}},$.Widget=function(options,element){arguments.length&&this._createWidget(options,element)},$.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",options:{disabled:!1},_createWidget:function(options,element){$.data(element,this.widgetName,this),this.element=$(element),this.options=$.extend(!0,{},this.options,this._getCreateOptions(),options);var self=this;this.element.bind("remove."+this.widgetName,function(){self.destroy()}),this._create(),this._trigger("create"),this._init()},_getCreateOptions:function(){return $.metadata&&$.metadata.get(this.element[0])[this.widgetName]},_create:function(){},_init:function(){},destroy:function(){this.element.unbind("."+this.widgetName).removeData(this.widgetName),this.widget().unbind("."+this.widgetName).removeAttr("aria-disabled").removeClass(this.widgetBaseClass+"-disabled ui-state-disabled")},widget:function(){return this.element},option:function(key,value){var options=key;if(0===arguments.length)return $.extend({},this.options);if("string"==typeof key){if(void 0===value)return this.options[key];(options={})[key]=value}return this._setOptions(options),this},_setOptions:function(options){var self=this;return $.each(options,function(key,value){self._setOption(key,value)}),this},_setOption:function(key,value){return this.options[key]=value,"disabled"===key&&this.widget()[value?"addClass":"removeClass"](this.widgetBaseClass+"-disabled ui-state-disabled").attr("aria-disabled",value),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_trigger:function(type,event,data){var prop,orig,callback=this.options[type];if(data=data||{},(event=$.Event(event)).type=(type===this.widgetEventPrefix?type:this.widgetEventPrefix+type).toLowerCase(),event.target=this.element[0],orig=event.originalEvent)for(prop in orig)prop in event||(event[prop]=orig[prop]);return this.element.trigger(event,data),!($.isFunction(callback)&&!1===callback.call(this.element[0],event,data)||event.isDefaultPrevented())}}}(jQuery),$=jQuery,mouseHandled=!1,$(document).mouseup(function(e){mouseHandled=!1}),$.widget("ui.mouse",{options:{cancel:":input,option",distance:1,delay:0},_mouseInit:function(){var self=this;this.element.bind("mousedown."+this.widgetName,function(event){return self._mouseDown(event)}).bind("click."+this.widgetName,function(event){if(!0===$.data(event.target,self.widgetName+".preventClickEvent"))return $.removeData(event.target,self.widgetName+".preventClickEvent"),event.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&$(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(event){if(!mouseHandled){this._mouseStarted&&this._mouseUp(event),this._mouseDownEvent=event;var self=this,btnIsLeft=1==event.which,elIsCancel=!("string"!=typeof this.options.cancel||!event.target.nodeName)&&$(event.target).closest(this.options.cancel).length;return!(btnIsLeft&&!elIsCancel&&this._mouseCapture(event)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){self.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(event)&&this._mouseDelayMet(event)&&(this._mouseStarted=!1!==this._mouseStart(event),!this._mouseStarted)?(event.preventDefault(),0):(!0===$.data(event.target,this.widgetName+".preventClickEvent")&&$.removeData(event.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(event){return self._mouseMove(event)},this._mouseUpDelegate=function(event){return self._mouseUp(event)},$(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),event.preventDefault(),mouseHandled=!0,0)))}},_mouseMove:function(event){return!$.browser.msie||document.documentMode>=9||event.button?this._mouseStarted?(this._mouseDrag(event),event.preventDefault()):(this._mouseDistanceMet(event)&&this._mouseDelayMet(event)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,event),this._mouseStarted?this._mouseDrag(event):this._mouseUp(event)),!this._mouseStarted):this._mouseUp(event)},_mouseUp:function(event){return $(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,event.target==this._mouseDownEvent.target&&$.data(event.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(event)),!1},_mouseDistanceMet:function(event){return Math.max(Math.abs(this._mouseDownEvent.pageX-event.pageX),Math.abs(this._mouseDownEvent.pageY-event.pageY))>=this.options.distance},_mouseDelayMet:function(event){return this.mouseDelayMet},_mouseStart:function(event){},_mouseDrag:function(event){},_mouseStop:function(event){},_mouseCapture:function(event){return!0}}),function($,undefined){$.ui=$.ui||{};var horizontalPositions=/left|center|right/,verticalPositions=/top|center|bottom/,center="center",support={},_position=$.fn.position,_offset=$.fn.offset;$.fn.position=function(options){if(!options||!options.of)return _position.apply(this,arguments);options=$.extend({},options);var targetWidth,targetHeight,basePosition,target=$(options.of),targetElem=target[0],collision=(options.collision||"flip").split(" "),offset=options.offset?options.offset.split(" "):[0,0];return 9===targetElem.nodeType?(targetWidth=target.width(),targetHeight=target.height(),basePosition={top:0,left:0}):targetElem.setTimeout?(targetWidth=target.width(),targetHeight=target.height(),basePosition={top:target.scrollTop(),left:target.scrollLeft()}):targetElem.preventDefault?(options.at="left top",targetWidth=targetHeight=0,basePosition={top:options.of.pageY,left:options.of.pageX}):(targetWidth=target.outerWidth(),targetHeight=target.outerHeight(),basePosition=target.offset()),$.each(["my","at"],function(){var pos=(options[this]||"").split(" ");1===pos.length&&(pos=horizontalPositions.test(pos[0])?pos.concat([center]):verticalPositions.test(pos[0])?[center].concat(pos):[center,center]),pos[0]=horizontalPositions.test(pos[0])?pos[0]:center,pos[1]=verticalPositions.test(pos[1])?pos[1]:center,options[this]=pos}),1===collision.length&&(collision[1]=collision[0]),offset[0]=parseInt(offset[0],10)||0,1===offset.length&&(offset[1]=offset[0]),offset[1]=parseInt(offset[1],10)||0,"right"===options.at[0]?basePosition.left+=targetWidth:options.at[0]===center&&(basePosition.left+=targetWidth/2),"bottom"===options.at[1]?basePosition.top+=targetHeight:options.at[1]===center&&(basePosition.top+=targetHeight/2),basePosition.left+=offset[0],basePosition.top+=offset[1],this.each(function(){var collisionPosition,elem=$(this),elemWidth=elem.outerWidth(),elemHeight=elem.outerHeight(),marginLeft=parseInt($.curCSS(this,"marginLeft",!0))||0,marginTop=parseInt($.curCSS(this,"marginTop",!0))||0,collisionWidth=elemWidth+marginLeft+(parseInt($.curCSS(this,"marginRight",!0))||0),collisionHeight=elemHeight+marginTop+(parseInt($.curCSS(this,"marginBottom",!0))||0),position=$.extend({},basePosition);"right"===options.my[0]?position.left-=elemWidth:options.my[0]===center&&(position.left-=elemWidth/2),"bottom"===options.my[1]?position.top-=elemHeight:options.my[1]===center&&(position.top-=elemHeight/2),support.fractions||(position.left=Math.round(position.left),position.top=Math.round(position.top)),collisionPosition={left:position.left-marginLeft,top:position.top-marginTop},$.each(["left","top"],function(i,dir){$.ui.position[collision[i]]&&$.ui.position[collision[i]][dir](position,{targetWidth:targetWidth,targetHeight:targetHeight,elemWidth:elemWidth,elemHeight:elemHeight,collisionPosition:collisionPosition,collisionWidth:collisionWidth,collisionHeight:collisionHeight,offset:offset,my:options.my,at:options.at})}),$.fn.bgiframe&&elem.bgiframe(),elem.offset($.extend(position,{using:options.using}))})},$.ui.position={fit:{left:function(position,data){var win=$(window),over=data.collisionPosition.left+data.collisionWidth-win.width()-win.scrollLeft();position.left=over>0?position.left-over:Math.max(position.left-data.collisionPosition.left,position.left)},top:function(position,data){var win=$(window),over=data.collisionPosition.top+data.collisionHeight-win.height()-win.scrollTop();position.top=over>0?position.top-over:Math.max(position.top-data.collisionPosition.top,position.top)}},flip:{left:function(position,data){if(data.at[0]!==center){var win=$(window),over=data.collisionPosition.left+data.collisionWidth-win.width()-win.scrollLeft(),myOffset="left"===data.my[0]?-data.elemWidth:"right"===data.my[0]?data.elemWidth:0,atOffset="left"===data.at[0]?data.targetWidth:-data.targetWidth,offset=-2*data.offset[0];position.left+=data.collisionPosition.left<0?myOffset+atOffset+offset:over>0?myOffset+atOffset+offset:0}},top:function(position,data){if(data.at[1]!==center){var win=$(window),over=data.collisionPosition.top+data.collisionHeight-win.height()-win.scrollTop(),myOffset="top"===data.my[1]?-data.elemHeight:"bottom"===data.my[1]?data.elemHeight:0,atOffset="top"===data.at[1]?data.targetHeight:-data.targetHeight,offset=-2*data.offset[1];position.top+=data.collisionPosition.top<0?myOffset+atOffset+offset:over>0?myOffset+atOffset+offset:0}}}},$.offset.setOffset||($.offset.setOffset=function(elem,options){/static/.test($.curCSS(elem,"position"))&&(elem.style.position="relative");var curElem=$(elem),curOffset=curElem.offset(),curTop=parseInt($.curCSS(elem,"top",!0),10)||0,curLeft=parseInt($.curCSS(elem,"left",!0),10)||0,props={top:options.top-curOffset.top+curTop,left:options.left-curOffset.left+curLeft};"using"in options?options.using.call(elem,props):curElem.css(props)},$.fn.offset=function(options){var elem=this[0];return elem&&elem.ownerDocument?options?$.isFunction(options)?this.each(function(i){$(this).offset(options.call(this,i,$(this).offset()))}):this.each(function(){$.offset.setOffset(this,options)}):_offset.call(this):null}),$.curCSS||($.curCSS=$.css),function(){var testElement,testElementParent,testElementStyle,offset,offsetTotal,body=document.getElementsByTagName("body")[0],div=document.createElement("div");for(var i in testElement=document.createElement(body?"div":"body"),testElementStyle={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},body&&$.extend(testElementStyle,{position:"absolute",left:"-1000px",top:"-1000px"}),testElementStyle)testElement.style[i]=testElementStyle[i];testElement.appendChild(div),(testElementParent=body||document.documentElement).insertBefore(testElement,testElementParent.firstChild),div.style.cssText="position: absolute; left: 10.7432222px; top: 10.432325px; height: 30px; width: 201px;",offset=$(div).offset(function(_,offset){return offset}).offset(),testElement.innerHTML="",testElementParent.removeChild(testElement),offsetTotal=offset.top+offset.left+(body?2e3:0),support.fractions=offsetTotal>21&&offsetTotal<22}()}(jQuery),function($,undefined){$.widget("ui.draggable",$.ui.mouse,{widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1},_create:function(){"original"!=this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},destroy:function(){if(this.element.data("draggable"))return this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy(),this},_mouseCapture:function(event){var o=this.options;return!(this.helper||o.disabled||$(event.target).is(".ui-resizable-handle"))&&(this.handle=this._getHandle(event),!!this.handle&&(o.iframeFix&&$(!0===o.iframeFix?"iframe":o.iframeFix).each(function(){$('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css($(this).offset()).appendTo("body")}),!0))},_mouseStart:function(event){var o=this.options;return this.helper=this._createHelper(event),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),$.ui.ddmanager&&($.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},$.extend(this.offset,{click:{left:event.pageX-this.offset.left,top:event.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(event),this.originalPageX=event.pageX,this.originalPageY=event.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),o.containment&&this._setContainment(),!1===this._trigger("start",event)?(this._clear(),!1):(this._cacheHelperProportions(),$.ui.ddmanager&&!o.dropBehaviour&&$.ui.ddmanager.prepareOffsets(this,event),this._mouseDrag(event,!0),$.ui.ddmanager&&$.ui.ddmanager.dragStart(this,event),!0)},_mouseDrag:function(event,noPropagation){if(this.position=this._generatePosition(event),this.positionAbs=this._convertPositionTo("absolute"),!noPropagation){var ui=this._uiHash();if(!1===this._trigger("drag",event,ui))return this._mouseUp({}),!1;this.position=ui.position}return this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px"),$.ui.ddmanager&&$.ui.ddmanager.drag(this,event),!1},_mouseStop:function(event){var dropped=!1;$.ui.ddmanager&&!this.options.dropBehaviour&&(dropped=$.ui.ddmanager.drop(this,event)),this.dropped&&(dropped=this.dropped,this.dropped=!1);for(var element=this.element[0],elementInDom=!1;element&&(element=element.parentNode);)element==document&&(elementInDom=!0);if(!elementInDom&&"original"===this.options.helper)return!1;if("invalid"==this.options.revert&&!dropped||"valid"==this.options.revert&&dropped||!0===this.options.revert||$.isFunction(this.options.revert)&&this.options.revert.call(this.element,dropped)){var self=this;$(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==self._trigger("stop",event)&&self._clear()})}else!1!==this._trigger("stop",event)&&this._clear();return!1},_mouseUp:function(event){return!0===this.options.iframeFix&&$("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),$.ui.ddmanager&&$.ui.ddmanager.dragStop(this,event),$.ui.mouse.prototype._mouseUp.call(this,event)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(event){var handle=!this.options.handle||!$(this.options.handle,this.element).length;return $(this.options.handle,this.element).find("*").andSelf().each(function(){this==event.target&&(handle=!0)}),handle},_createHelper:function(event){var o=this.options,helper=$.isFunction(o.helper)?$(o.helper.apply(this.element[0],[event])):"clone"==o.helper?this.element.clone().removeAttr("id"):this.element;return helper.parents("body").length||helper.appendTo("parent"==o.appendTo?this.element[0].parentNode:o.appendTo),helper[0]==this.element[0]||/(fixed|absolute)/.test(helper.css("position"))||helper.css("position","absolute"),helper},_adjustOffsetFromHelper:function(obj){"string"==typeof obj&&(obj=obj.split(" ")),$.isArray(obj)&&(obj={left:+obj[0],top:+obj[1]||0}),"left"in obj&&(this.offset.click.left=obj.left+this.margins.left),"right"in obj&&(this.offset.click.left=this.helperProportions.width-obj.right+this.margins.left),"top"in obj&&(this.offset.click.top=obj.top+this.margins.top),"bottom"in obj&&(this.offset.click.top=this.helperProportions.height-obj.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var po=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&$.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(po.left+=this.scrollParent.scrollLeft(),po.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&$.browser.msie)&&(po={top:0,left:0}),{top:po.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:po.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var p=this.element.position();return{top:p.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:p.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var o=this.options;if("parent"==o.containment&&(o.containment=this.helper[0].parentNode),"document"!=o.containment&&"window"!=o.containment||(this.containment=["document"==o.containment?0:$(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"==o.containment?0:$(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"==o.containment?0:$(window).scrollLeft())+$("document"==o.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"==o.containment?0:$(window).scrollTop())+($("document"==o.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(o.containment)||o.containment.constructor==Array)o.containment.constructor==Array&&(this.containment=o.containment);else{var c=$(o.containment),ce=c[0];if(!ce)return;c.offset();var over="hidden"!=$(ce).css("overflow");this.containment=[(parseInt($(ce).css("borderLeftWidth"),10)||0)+(parseInt($(ce).css("paddingLeft"),10)||0),(parseInt($(ce).css("borderTopWidth"),10)||0)+(parseInt($(ce).css("paddingTop"),10)||0),(over?Math.max(ce.scrollWidth,ce.offsetWidth):ce.offsetWidth)-(parseInt($(ce).css("borderLeftWidth"),10)||0)-(parseInt($(ce).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(over?Math.max(ce.scrollHeight,ce.offsetHeight):ce.offsetHeight)-(parseInt($(ce).css("borderTopWidth"),10)||0)-(parseInt($(ce).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=c}},_convertPositionTo:function(d,pos){pos||(pos=this.position);var mod="absolute"==d?1:-1,scroll=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&$.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),scrollIsRootNode=/(html|body)/i.test(scroll[0].tagName);return{top:pos.top+this.offset.relative.top*mod+this.offset.parent.top*mod-($.browser.safari&&$.browser.version<526&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():scrollIsRootNode?0:scroll.scrollTop())*mod),left:pos.left+this.offset.relative.left*mod+this.offset.parent.left*mod-($.browser.safari&&$.browser.version<526&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():scrollIsRootNode?0:scroll.scrollLeft())*mod)}},_generatePosition:function(event){var o=this.options,scroll="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&$.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,scrollIsRootNode=/(html|body)/i.test(scroll[0].tagName),pageX=event.pageX,pageY=event.pageY;if(this.originalPosition){var containment;if(this.containment){if(this.relative_container){var co=this.relative_container.offset();containment=[this.containment[0]+co.left,this.containment[1]+co.top,this.containment[2]+co.left,this.containment[3]+co.top]}else containment=this.containment;event.pageX-this.offset.click.left<containment[0]&&(pageX=containment[0]+this.offset.click.left),event.pageY-this.offset.click.top<containment[1]&&(pageY=containment[1]+this.offset.click.top),event.pageX-this.offset.click.left>containment[2]&&(pageX=containment[2]+this.offset.click.left),event.pageY-this.offset.click.top>containment[3]&&(pageY=containment[3]+this.offset.click.top)}if(o.grid){var top=o.grid[1]?this.originalPageY+Math.round((pageY-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY;pageY=containment&&(top-this.offset.click.top<containment[1]||top-this.offset.click.top>containment[3])?top-this.offset.click.top<containment[1]?top+o.grid[1]:top-o.grid[1]:top;var left=o.grid[0]?this.originalPageX+Math.round((pageX-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX;pageX=containment&&(left-this.offset.click.left<containment[0]||left-this.offset.click.left>containment[2])?left-this.offset.click.left<containment[0]?left+o.grid[0]:left-o.grid[0]:left}}return{top:pageY-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+($.browser.safari&&$.browser.version<526&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():scrollIsRootNode?0:scroll.scrollTop()),left:pageX-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+($.browser.safari&&$.browser.version<526&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():scrollIsRootNode?0:scroll.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]==this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(type,event,ui){return ui=ui||this._uiHash(),$.ui.plugin.call(this,type,[event,ui]),"drag"==type&&(this.positionAbs=this._convertPositionTo("absolute")),$.Widget.prototype._trigger.call(this,type,event,ui)},plugins:{},_uiHash:function(event){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),$.extend($.ui.draggable,{version:"1.8.23"}),$.ui.plugin.add("draggable","connectToSortable",{start:function(event,ui){var inst=$(this).data("draggable"),o=inst.options,uiSortable=$.extend({},ui,{item:inst.element});inst.sortables=[],$(o.connectToSortable).each(function(){var sortable=$.data(this,"sortable");sortable&&!sortable.options.disabled&&(inst.sortables.push({instance:sortable,shouldRevert:sortable.options.revert}),sortable.refreshPositions(),sortable._trigger("activate",event,uiSortable))})},stop:function(event,ui){var inst=$(this).data("draggable"),uiSortable=$.extend({},ui,{item:inst.element});$.each(inst.sortables,function(){this.instance.isOver?(this.instance.isOver=0,inst.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(event),this.instance.options.helper=this.instance.options._helper,"original"==inst.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",event,uiSortable))})},drag:function(event,ui){var inst=$(this).data("draggable"),self=this;$.each(inst.sortables,function(i){this.instance.positionAbs=inst.positionAbs,this.instance.helperProportions=inst.helperProportions,this.instance.offset.click=inst.offset.click,this.instance._intersectsWith(this.instance.containerCache)?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=$(self).clone().removeAttr("id").appendTo(this.instance.element).data("sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return ui.helper[0]},event.target=this.instance.currentItem[0],this.instance._mouseCapture(event,!0),this.instance._mouseStart(event,!0,!0),this.instance.offset.click.top=inst.offset.click.top,this.instance.offset.click.left=inst.offset.click.left,this.instance.offset.parent.left-=inst.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=inst.offset.parent.top-this.instance.offset.parent.top,inst._trigger("toSortable",event),inst.dropped=this.instance.element,inst.currentItem=inst.element,this.instance.fromOutside=inst),this.instance.currentItem&&this.instance._mouseDrag(event)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",event,this.instance._uiHash(this.instance)),this.instance._mouseStop(event,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),inst._trigger("fromSortable",event),inst.dropped=!1)})}}),$.ui.plugin.add("draggable","cursor",{start:function(event,ui){var t=$("body"),o=$(this).data("draggable").options;t.css("cursor")&&(o._cursor=t.css("cursor")),t.css("cursor",o.cursor)},stop:function(event,ui){var o=$(this).data("draggable").options;o._cursor&&$("body").css("cursor",o._cursor)}}),$.ui.plugin.add("draggable","opacity",{start:function(event,ui){var t=$(ui.helper),o=$(this).data("draggable").options;t.css("opacity")&&(o._opacity=t.css("opacity")),t.css("opacity",o.opacity)},stop:function(event,ui){var o=$(this).data("draggable").options;o._opacity&&$(ui.helper).css("opacity",o._opacity)}}),$.ui.plugin.add("draggable","scroll",{start:function(event,ui){var i=$(this).data("draggable");i.scrollParent[0]!=document&&"HTML"!=i.scrollParent[0].tagName&&(i.overflowOffset=i.scrollParent.offset())},drag:function(event,ui){var i=$(this).data("draggable"),o=i.options,scrolled=!1;i.scrollParent[0]!=document&&"HTML"!=i.scrollParent[0].tagName?(o.axis&&"x"==o.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-event.pageY<o.scrollSensitivity?i.scrollParent[0].scrollTop=scrolled=i.scrollParent[0].scrollTop+o.scrollSpeed:event.pageY-i.overflowOffset.top<o.scrollSensitivity&&(i.scrollParent[0].scrollTop=scrolled=i.scrollParent[0].scrollTop-o.scrollSpeed)),o.axis&&"y"==o.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-event.pageX<o.scrollSensitivity?i.scrollParent[0].scrollLeft=scrolled=i.scrollParent[0].scrollLeft+o.scrollSpeed:event.pageX-i.overflowOffset.left<o.scrollSensitivity&&(i.scrollParent[0].scrollLeft=scrolled=i.scrollParent[0].scrollLeft-o.scrollSpeed))):(o.axis&&"x"==o.axis||(event.pageY-$(document).scrollTop()<o.scrollSensitivity?scrolled=$(document).scrollTop($(document).scrollTop()-o.scrollSpeed):$(window).height()-(event.pageY-$(document).scrollTop())<o.scrollSensitivity&&(scrolled=$(document).scrollTop($(document).scrollTop()+o.scrollSpeed))),o.axis&&"y"==o.axis||(event.pageX-$(document).scrollLeft()<o.scrollSensitivity?scrolled=$(document).scrollLeft($(document).scrollLeft()-o.scrollSpeed):$(window).width()-(event.pageX-$(document).scrollLeft())<o.scrollSensitivity&&(scrolled=$(document).scrollLeft($(document).scrollLeft()+o.scrollSpeed)))),!1!==scrolled&&$.ui.ddmanager&&!o.dropBehaviour&&$.ui.ddmanager.prepareOffsets(i,event)}}),$.ui.plugin.add("draggable","snap",{start:function(event,ui){var i=$(this).data("draggable"),o=i.options;i.snapElements=[],$(o.snap.constructor!=String?o.snap.items||":data(draggable)":o.snap).each(function(){var $t=$(this),$o=$t.offset();this!=i.element[0]&&i.snapElements.push({item:this,width:$t.outerWidth(),height:$t.outerHeight(),top:$o.top,left:$o.left})})},drag:function(event,ui){for(var inst=$(this).data("draggable"),o=inst.options,d=o.snapTolerance,x1=ui.offset.left,x2=x1+inst.helperProportions.width,y1=ui.offset.top,y2=y1+inst.helperProportions.height,i=inst.snapElements.length-1;i>=0;i--){var l=inst.snapElements[i].left,r=l+inst.snapElements[i].width,t=inst.snapElements[i].top,b=t+inst.snapElements[i].height;if(l-d<x1&&x1<r+d&&t-d<y1&&y1<b+d||l-d<x1&&x1<r+d&&t-d<y2&&y2<b+d||l-d<x2&&x2<r+d&&t-d<y1&&y1<b+d||l-d<x2&&x2<r+d&&t-d<y2&&y2<b+d){if("inner"!=o.snapMode){var ts=Math.abs(t-y2)<=d,bs=Math.abs(b-y1)<=d,ls=Math.abs(l-x2)<=d,rs=Math.abs(r-x1)<=d;ts&&(ui.position.top=inst._convertPositionTo("relative",{top:t-inst.helperProportions.height,left:0}).top-inst.margins.top),bs&&(ui.position.top=inst._convertPositionTo("relative",{top:b,left:0}).top-inst.margins.top),ls&&(ui.position.left=inst._convertPositionTo("relative",{top:0,left:l-inst.helperProportions.width}).left-inst.margins.left),rs&&(ui.position.left=inst._convertPositionTo("relative",{top:0,left:r}).left-inst.margins.left)}var first=ts||bs||ls||rs;if("outer"!=o.snapMode){ts=Math.abs(t-y1)<=d,bs=Math.abs(b-y2)<=d,ls=Math.abs(l-x1)<=d,rs=Math.abs(r-x2)<=d;ts&&(ui.position.top=inst._convertPositionTo("relative",{top:t,left:0}).top-inst.margins.top),bs&&(ui.position.top=inst._convertPositionTo("relative",{top:b-inst.helperProportions.height,left:0}).top-inst.margins.top),ls&&(ui.position.left=inst._convertPositionTo("relative",{top:0,left:l}).left-inst.margins.left),rs&&(ui.position.left=inst._convertPositionTo("relative",{top:0,left:r-inst.helperProportions.width}).left-inst.margins.left)}!inst.snapElements[i].snapping&&(ts||bs||ls||rs||first)&&inst.options.snap.snap&&inst.options.snap.snap.call(inst.element,event,$.extend(inst._uiHash(),{snapItem:inst.snapElements[i].item})),inst.snapElements[i].snapping=ts||bs||ls||rs||first}else inst.snapElements[i].snapping&&inst.options.snap.release&&inst.options.snap.release.call(inst.element,event,$.extend(inst._uiHash(),{snapItem:inst.snapElements[i].item})),inst.snapElements[i].snapping=!1}}}),$.ui.plugin.add("draggable","stack",{start:function(event,ui){var o=$(this).data("draggable").options,group=$.makeArray($(o.stack)).sort(function(a,b){return(parseInt($(a).css("zIndex"),10)||0)-(parseInt($(b).css("zIndex"),10)||0)});if(group.length){var min=parseInt(group[0].style.zIndex)||0;$(group).each(function(i){this.style.zIndex=min+i}),this[0].style.zIndex=min+group.length}}}),$.ui.plugin.add("draggable","zIndex",{start:function(event,ui){var t=$(ui.helper),o=$(this).data("draggable").options;t.css("zIndex")&&(o._zIndex=t.css("zIndex")),t.css("zIndex",o.zIndex)},stop:function(event,ui){var o=$(this).data("draggable").options;o._zIndex&&$(ui.helper).css("zIndex",o._zIndex)}})}(jQuery),function($,undefined){$.widget("ui.droppable",{widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect"},_create:function(){var o=this.options,accept=o.accept;this.isover=0,this.isout=1,this.accept=$.isFunction(accept)?accept:function(d){return d.is(accept)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},$.ui.ddmanager.droppables[o.scope]=$.ui.ddmanager.droppables[o.scope]||[],$.ui.ddmanager.droppables[o.scope].push(this),o.addClasses&&this.element.addClass("ui-droppable")},destroy:function(){for(var drop=$.ui.ddmanager.droppables[this.options.scope],i=0;i<drop.length;i++)drop[i]==this&&drop.splice(i,1);return this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable"),this},_setOption:function(key,value){"accept"==key&&(this.accept=$.isFunction(value)?value:function(d){return d.is(value)}),$.Widget.prototype._setOption.apply(this,arguments)},_activate:function(event){var draggable=$.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),draggable&&this._trigger("activate",event,this.ui(draggable))},_deactivate:function(event){var draggable=$.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),draggable&&this._trigger("deactivate",event,this.ui(draggable))},_over:function(event){var draggable=$.ui.ddmanager.current;draggable&&(draggable.currentItem||draggable.element)[0]!=this.element[0]&&this.accept.call(this.element[0],draggable.currentItem||draggable.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",event,this.ui(draggable)))},_out:function(event){var draggable=$.ui.ddmanager.current;draggable&&(draggable.currentItem||draggable.element)[0]!=this.element[0]&&this.accept.call(this.element[0],draggable.currentItem||draggable.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",event,this.ui(draggable)))},_drop:function(event,custom){var draggable=custom||$.ui.ddmanager.current;if(!draggable||(draggable.currentItem||draggable.element)[0]==this.element[0])return!1;var childrenIntersection=!1;return this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var inst=$.data(this,"droppable");if(inst.options.greedy&&!inst.options.disabled&&inst.options.scope==draggable.options.scope&&inst.accept.call(inst.element[0],draggable.currentItem||draggable.element)&&$.ui.intersect(draggable,$.extend(inst,{offset:inst.element.offset()}),inst.options.tolerance))return childrenIntersection=!0,!1}),!childrenIntersection&&(!!this.accept.call(this.element[0],draggable.currentItem||draggable.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",event,this.ui(draggable)),this.element))},ui:function(c){return{draggable:c.currentItem||c.element,helper:c.helper,position:c.position,offset:c.positionAbs}}}),$.extend($.ui.droppable,{version:"1.8.23"}),$.ui.intersect=function(draggable,droppable,toleranceMode){if(!droppable.offset)return!1;var x1=(draggable.positionAbs||draggable.position.absolute).left,x2=x1+draggable.helperProportions.width,y1=(draggable.positionAbs||draggable.position.absolute).top,y2=y1+draggable.helperProportions.height,l=droppable.offset.left,r=l+droppable.proportions.width,t=droppable.offset.top,b=t+droppable.proportions.height;switch(toleranceMode){case"fit":return l<=x1&&x2<=r&&t<=y1&&y2<=b;case"intersect":return l<x1+draggable.helperProportions.width/2&&x2-draggable.helperProportions.width/2<r&&t<y1+draggable.helperProportions.height/2&&y2-draggable.helperProportions.height/2<b;case"pointer":var draggableLeft=(draggable.positionAbs||draggable.position.absolute).left+(draggable.clickOffset||draggable.offset.click).left,draggableTop=(draggable.positionAbs||draggable.position.absolute).top+(draggable.clickOffset||draggable.offset.click).top;return $.ui.isOver(draggableTop,draggableLeft,t,l,droppable.proportions.height,droppable.proportions.width);case"touch":return(y1>=t&&y1<=b||y2>=t&&y2<=b||y1<t&&y2>b)&&(x1>=l&&x1<=r||x2>=l&&x2<=r||x1<l&&x2>r);default:return!1}},$.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(t,event){var m=$.ui.ddmanager.droppables[t.options.scope]||[],type=event?event.type:null,list=(t.currentItem||t.element).find(":data(droppable)").andSelf();droppablesLoop:for(var i=0;i<m.length;i++)if(!(m[i].options.disabled||t&&!m[i].accept.call(m[i].element[0],t.currentItem||t.element))){for(var j=0;j<list.length;j++)if(list[j]==m[i].element[0]){m[i].proportions.height=0;continue droppablesLoop}m[i].visible="none"!=m[i].element.css("display"),m[i].visible&&("mousedown"==type&&m[i]._activate.call(m[i],event),m[i].offset=m[i].element.offset(),m[i].proportions={width:m[i].element[0].offsetWidth,height:m[i].element[0].offsetHeight})}},drop:function(draggable,event){var dropped=!1;return $.each($.ui.ddmanager.droppables[draggable.options.scope]||[],function(){this.options&&(!this.options.disabled&&this.visible&&$.ui.intersect(draggable,this,this.options.tolerance)&&(dropped=this._drop.call(this,event)||dropped),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],draggable.currentItem||draggable.element)&&(this.isout=1,this.isover=0,this._deactivate.call(this,event)))}),dropped},dragStart:function(draggable,event){draggable.element.parents(":not(body,html)").bind("scroll.droppable",function(){draggable.options.refreshPositions||$.ui.ddmanager.prepareOffsets(draggable,event)})},drag:function(draggable,event){draggable.options.refreshPositions&&$.ui.ddmanager.prepareOffsets(draggable,event),$.each($.ui.ddmanager.droppables[draggable.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var intersects=$.ui.intersect(draggable,this,this.options.tolerance),c=intersects||1!=this.isover?intersects&&0==this.isover?"isover":null:"isout";if(c){var parentInstance;if(this.options.greedy){var parent=this.element.parents(":data(droppable):eq(0)");parent.length&&((parentInstance=$.data(parent[0],"droppable")).greedyChild="isover"==c?1:0)}parentInstance&&"isover"==c&&(parentInstance.isover=0,parentInstance.isout=1,parentInstance._out.call(parentInstance,event)),this[c]=1,this["isout"==c?"isover":"isout"]=0,this["isover"==c?"_over":"_out"].call(this,event),parentInstance&&"isout"==c&&(parentInstance.isout=0,parentInstance.isover=1,parentInstance._over.call(parentInstance,event))}}})},dragStop:function(draggable,event){draggable.element.parents(":not(body,html)").unbind("scroll.droppable"),draggable.options.refreshPositions||$.ui.ddmanager.prepareOffsets(draggable,event)}}}(jQuery),function($,undefined){$.widget("ui.resizable",$.ui.mouse,{widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1e3},_create:function(){var self=this,o=this.options;if(this.element.addClass("ui-resizable"),$.extend(this,{_aspectRatio:!!o.aspectRatio,aspectRatio:o.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:o.helper||o.ghost||o.animate?o.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap($('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("resizable",this.element.data("resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=o.handles||($(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor==String){"all"==this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw");var n=this.handles.split(",");this.handles={};for(var i=0;i<n.length;i++){var handle=$.trim(n[i]),axis=$('<div class="ui-resizable-handle '+("ui-resizable-"+handle)+'"></div>');axis.css({zIndex:o.zIndex}),"se"==handle&&axis.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[handle]=".ui-resizable-"+handle,this.element.append(axis)}}this._renderAxis=function(target){for(var i in target=target||this.element,this.handles){if(this.handles[i].constructor==String&&(this.handles[i]=$(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var padWrapper,axis=$(this.handles[i],this.element);padWrapper=/sw|ne|nw|se|n|s/.test(i)?axis.outerHeight():axis.outerWidth();var padPos=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join("");target.css(padPos,padWrapper),this._proportionallyResize()}$(this.handles[i]).length}},this._renderAxis(this.element),this._handles=$(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){if(!self.resizing){if(this.className)var axis=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);self.axis=axis&&axis[1]?axis[1]:"se"}}),o.autoHide&&(this._handles.hide(),$(this.element).addClass("ui-resizable-autohide").hover(function(){o.disabled||($(this).removeClass("ui-resizable-autohide"),self._handles.show())},function(){o.disabled||self.resizing||($(this).addClass("ui-resizable-autohide"),self._handles.hide())})),this._mouseInit()},destroy:function(){this._mouseDestroy();var _destroy=function(exp){$(exp).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){_destroy(this.element);var wrapper=this.element;wrapper.after(this.originalElement.css({position:wrapper.css("position"),width:wrapper.outerWidth(),height:wrapper.outerHeight(),top:wrapper.css("top"),left:wrapper.css("left")})).remove()}return this.originalElement.css("resize",this.originalResizeStyle),_destroy(this.originalElement),this},_mouseCapture:function(event){var handle=!1;for(var i in this.handles)$(this.handles[i])[0]==event.target&&(handle=!0);return!this.options.disabled&&handle},_mouseStart:function(event){var o=this.options,iniPos=this.element.position(),el=this.element;this.resizing=!0,this.documentScroll={top:$(document).scrollTop(),left:$(document).scrollLeft()},(el.is(".ui-draggable")||/absolute/.test(el.css("position")))&&el.css({position:"absolute",top:iniPos.top,left:iniPos.left}),this._renderProxy();var curleft=num(this.helper.css("left")),curtop=num(this.helper.css("top"));o.containment&&(curleft+=$(o.containment).scrollLeft()||0,curtop+=$(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:curleft,top:curtop},this.size=this._helper?{width:el.outerWidth(),height:el.outerHeight()}:{width:el.width(),height:el.height()},this.originalSize=this._helper?{width:el.outerWidth(),height:el.outerHeight()}:{width:el.width(),height:el.height()},this.originalPosition={left:curleft,top:curtop},this.sizeDiff={width:el.outerWidth()-el.width(),height:el.outerHeight()-el.height()},this.originalMousePosition={left:event.pageX,top:event.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1;var cursor=$(".ui-resizable-"+this.axis).css("cursor");return $("body").css("cursor","auto"==cursor?this.axis+"-resize":cursor),el.addClass("ui-resizable-resizing"),this._propagate("start",event),!0},_mouseDrag:function(event){var el=this.helper,smp=(this.options,this.originalMousePosition),a=this.axis,dx=event.pageX-smp.left||0,dy=event.pageY-smp.top||0,trigger=this._change[a];if(!trigger)return!1;var data=trigger.apply(this,[event,dx,dy]);$.browser.msie&&$.browser.version,this.sizeDiff;return this._updateVirtualBoundaries(event.shiftKey),(this._aspectRatio||event.shiftKey)&&(data=this._updateRatio(data,event)),data=this._respectSize(data,event),this._propagate("resize",event),el.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"}),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),this._updateCache(data),this._trigger("resize",event,this.ui()),!1},_mouseStop:function(event){this.resizing=!1;var o=this.options;if(this._helper){var pr=this._proportionallyResizeElements,ista=pr.length&&/textarea/i.test(pr[0].nodeName),soffseth=ista&&$.ui.hasScroll(pr[0],"left")?0:this.sizeDiff.height,soffsetw=ista?0:this.sizeDiff.width,s={width:this.helper.width()-soffsetw,height:this.helper.height()-soffseth},left=parseInt(this.element.css("left"),10)+(this.position.left-this.originalPosition.left)||null,top=parseInt(this.element.css("top"),10)+(this.position.top-this.originalPosition.top)||null;o.animate||this.element.css($.extend(s,{top:top,left:left})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!o.animate&&this._proportionallyResize()}return $("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",event),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(forceAspectRatio){var pMinWidth,pMaxWidth,pMinHeight,pMaxHeight,b,o=this.options;b={minWidth:isNumber(o.minWidth)?o.minWidth:0,maxWidth:isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:isNumber(o.minHeight)?o.minHeight:0,maxHeight:isNumber(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||forceAspectRatio)&&(pMinWidth=b.minHeight*this.aspectRatio,pMinHeight=b.minWidth/this.aspectRatio,pMaxWidth=b.maxHeight*this.aspectRatio,pMaxHeight=b.maxWidth/this.aspectRatio,pMinWidth>b.minWidth&&(b.minWidth=pMinWidth),pMinHeight>b.minHeight&&(b.minHeight=pMinHeight),pMaxWidth<b.maxWidth&&(b.maxWidth=pMaxWidth),pMaxHeight<b.maxHeight&&(b.maxHeight=pMaxHeight)),this._vBoundaries=b},_updateCache:function(data){this.options;this.offset=this.helper.offset(),isNumber(data.left)&&(this.position.left=data.left),isNumber(data.top)&&(this.position.top=data.top),isNumber(data.height)&&(this.size.height=data.height),isNumber(data.width)&&(this.size.width=data.width)},_updateRatio:function(data,event){this.options;var cpos=this.position,csize=this.size,a=this.axis;return isNumber(data.height)?data.width=data.height*this.aspectRatio:isNumber(data.width)&&(data.height=data.width/this.aspectRatio),"sw"==a&&(data.left=cpos.left+(csize.width-data.width),data.top=null),"nw"==a&&(data.top=cpos.top+(csize.height-data.height),data.left=cpos.left+(csize.width-data.width)),data},_respectSize:function(data,event){this.helper;var o=this._vBoundaries,a=(this._aspectRatio||event.shiftKey,this.axis),ismaxw=isNumber(data.width)&&o.maxWidth&&o.maxWidth<data.width,ismaxh=isNumber(data.height)&&o.maxHeight&&o.maxHeight<data.height,isminw=isNumber(data.width)&&o.minWidth&&o.minWidth>data.width,isminh=isNumber(data.height)&&o.minHeight&&o.minHeight>data.height;isminw&&(data.width=o.minWidth),isminh&&(data.height=o.minHeight),ismaxw&&(data.width=o.maxWidth),ismaxh&&(data.height=o.maxHeight);var dw=this.originalPosition.left+this.originalSize.width,dh=this.position.top+this.size.height,cw=/sw|nw|w/.test(a),ch=/nw|ne|n/.test(a);isminw&&cw&&(data.left=dw-o.minWidth),ismaxw&&cw&&(data.left=dw-o.maxWidth),isminh&&ch&&(data.top=dh-o.minHeight),ismaxh&&ch&&(data.top=dh-o.maxHeight);var isNotwh=!data.width&&!data.height;return isNotwh&&!data.left&&data.top?data.top=null:isNotwh&&!data.top&&data.left&&(data.left=null),data},_proportionallyResize:function(){this.options;if(this._proportionallyResizeElements.length)for(var element=this.helper||this.element,i=0;i<this._proportionallyResizeElements.length;i++){var prel=this._proportionallyResizeElements[i];if(!this.borderDif){var b=[prel.css("borderTopWidth"),prel.css("borderRightWidth"),prel.css("borderBottomWidth"),prel.css("borderLeftWidth")],p=[prel.css("paddingTop"),prel.css("paddingRight"),prel.css("paddingBottom"),prel.css("paddingLeft")];this.borderDif=$.map(b,function(v,i){return(parseInt(v,10)||0)+(parseInt(p[i],10)||0)})}$.browser.msie&&($(element).is(":hidden")||$(element).parents(":hidden").length)||prel.css({height:element.height()-this.borderDif[0]-this.borderDif[2]||0,width:element.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var el=this.element,o=this.options;if(this.elementOffset=el.offset(),this._helper){this.helper=this.helper||$('<div style="overflow:hidden;"></div>');var ie6=$.browser.msie&&$.browser.version<7,ie6offset=ie6?1:0,pxyoffset=ie6?2:-1;this.helper.addClass(this._helper).css({width:this.element.outerWidth()+pxyoffset,height:this.element.outerHeight()+pxyoffset,position:"absolute",left:this.elementOffset.left-ie6offset+"px",top:this.elementOffset.top-ie6offset+"px",zIndex:++o.zIndex}),this.helper.appendTo("body").disableSelection()}else this.helper=this.element},_change:{e:function(event,dx,dy){return{width:this.originalSize.width+dx}},w:function(event,dx,dy){this.options;var cs=this.originalSize;return{left:this.originalPosition.left+dx,width:cs.width-dx}},n:function(event,dx,dy){this.options;var cs=this.originalSize;return{top:this.originalPosition.top+dy,height:cs.height-dy}},s:function(event,dx,dy){return{height:this.originalSize.height+dy}},se:function(event,dx,dy){return $.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[event,dx,dy]))},sw:function(event,dx,dy){return $.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[event,dx,dy]))},ne:function(event,dx,dy){return $.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[event,dx,dy]))},nw:function(event,dx,dy){return $.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[event,dx,dy]))}},_propagate:function(n,event){$.ui.plugin.call(this,n,[event,this.ui()]),"resize"!=n&&this._trigger(n,event,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),$.extend($.ui.resizable,{version:"1.8.23"}),$.ui.plugin.add("resizable","alsoResize",{start:function(event,ui){var o=$(this).data("resizable").options,_store=function(exp){$(exp).each(function(){var el=$(this);el.data("resizable-alsoresize",{width:parseInt(el.width(),10),height:parseInt(el.height(),10),left:parseInt(el.css("left"),10),top:parseInt(el.css("top"),10)})})};"object"!=typeof o.alsoResize||o.alsoResize.parentNode?_store(o.alsoResize):o.alsoResize.length?(o.alsoResize=o.alsoResize[0],_store(o.alsoResize)):$.each(o.alsoResize,function(exp){_store(exp)})},resize:function(event,ui){var self=$(this).data("resizable"),o=self.options,os=self.originalSize,op=self.originalPosition,delta={height:self.size.height-os.height||0,width:self.size.width-os.width||0,top:self.position.top-op.top||0,left:self.position.left-op.left||0},_alsoResize=function(exp,c){$(exp).each(function(){var el=$(this),start=$(this).data("resizable-alsoresize"),style={},css=c&&c.length?c:el.parents(ui.originalElement[0]).length?["width","height"]:["width","height","top","left"];$.each(css,function(i,prop){var sum=(start[prop]||0)+(delta[prop]||0);sum&&sum>=0&&(style[prop]=sum||null)}),el.css(style)})};"object"!=typeof o.alsoResize||o.alsoResize.nodeType?_alsoResize(o.alsoResize):$.each(o.alsoResize,function(exp,c){_alsoResize(exp,c)})},stop:function(event,ui){$(this).removeData("resizable-alsoresize")}}),$.ui.plugin.add("resizable","animate",{stop:function(event,ui){var self=$(this).data("resizable"),o=self.options,pr=self._proportionallyResizeElements,ista=pr.length&&/textarea/i.test(pr[0].nodeName),soffseth=ista&&$.ui.hasScroll(pr[0],"left")?0:self.sizeDiff.height,soffsetw=ista?0:self.sizeDiff.width,style={width:self.size.width-soffsetw,height:self.size.height-soffseth},left=parseInt(self.element.css("left"),10)+(self.position.left-self.originalPosition.left)||null,top=parseInt(self.element.css("top"),10)+(self.position.top-self.originalPosition.top)||null;self.element.animate($.extend(style,top&&left?{top:top,left:left}:{}),{duration:o.animateDuration,easing:o.animateEasing,step:function(){var data={width:parseInt(self.element.css("width"),10),height:parseInt(self.element.css("height"),10),top:parseInt(self.element.css("top"),10),left:parseInt(self.element.css("left"),10)};pr&&pr.length&&$(pr[0]).css({width:data.width,height:data.height}),self._updateCache(data),self._propagate("resize",event)}})}}),$.ui.plugin.add("resizable","containment",{start:function(event,ui){var self=$(this).data("resizable"),o=self.options,el=self.element,oc=o.containment,ce=oc instanceof $?oc.get(0):/parent/.test(oc)?el.parent().get(0):oc;if(ce)if(self.containerElement=$(ce),/document/.test(oc)||oc==document)self.containerOffset={left:0,top:0},self.containerPosition={left:0,top:0},self.parentData={element:$(document),left:0,top:0,width:$(document).width(),height:$(document).height()||document.body.parentNode.scrollHeight};else{var element=$(ce),p=[];$(["Top","Right","Left","Bottom"]).each(function(i,name){p[i]=num(element.css("padding"+name))}),self.containerOffset=element.offset(),self.containerPosition=element.position(),self.containerSize={height:element.innerHeight()-p[3],width:element.innerWidth()-p[1]};var co=self.containerOffset,ch=self.containerSize.height,cw=self.containerSize.width,width=$.ui.hasScroll(ce,"left")?ce.scrollWidth:cw,height=$.ui.hasScroll(ce)?ce.scrollHeight:ch;self.parentData={element:ce,left:co.left,top:co.top,width:width,height:height}}},resize:function(event,ui){var self=$(this).data("resizable"),o=self.options,co=(self.containerSize,self.containerOffset),cp=(self.size,self.position),pRatio=self._aspectRatio||event.shiftKey,cop={top:0,left:0},ce=self.containerElement;ce[0]!=document&&/static/.test(ce.css("position"))&&(cop=co),cp.left<(self._helper?co.left:0)&&(self.size.width=self.size.width+(self._helper?self.position.left-co.left:self.position.left-cop.left),pRatio&&(self.size.height=self.size.width/self.aspectRatio),self.position.left=o.helper?co.left:0),cp.top<(self._helper?co.top:0)&&(self.size.height=self.size.height+(self._helper?self.position.top-co.top:self.position.top),pRatio&&(self.size.width=self.size.height*self.aspectRatio),self.position.top=self._helper?co.top:0),self.offset.left=self.parentData.left+self.position.left,self.offset.top=self.parentData.top+self.position.top;var woset=Math.abs((self._helper,self.offset.left-cop.left+self.sizeDiff.width)),hoset=Math.abs((self._helper?self.offset.top-cop.top:self.offset.top-co.top)+self.sizeDiff.height),isParent=self.containerElement.get(0)==self.element.parent().get(0),isOffsetRelative=/relative|absolute/.test(self.containerElement.css("position"));isParent&&isOffsetRelative&&(woset-=self.parentData.left),woset+self.size.width>=self.parentData.width&&(self.size.width=self.parentData.width-woset,pRatio&&(self.size.height=self.size.width/self.aspectRatio)),hoset+self.size.height>=self.parentData.height&&(self.size.height=self.parentData.height-hoset,pRatio&&(self.size.width=self.size.height*self.aspectRatio))},stop:function(event,ui){var self=$(this).data("resizable"),o=self.options,co=(self.position,self.containerOffset),cop=self.containerPosition,ce=self.containerElement,helper=$(self.helper),ho=helper.offset(),w=helper.outerWidth()-self.sizeDiff.width,h=helper.outerHeight()-self.sizeDiff.height;self._helper&&!o.animate&&/relative/.test(ce.css("position"))&&$(this).css({left:ho.left-cop.left-co.left,width:w,height:h}),self._helper&&!o.animate&&/static/.test(ce.css("position"))&&$(this).css({left:ho.left-cop.left-co.left,width:w,height:h})}}),$.ui.plugin.add("resizable","ghost",{start:function(event,ui){var self=$(this).data("resizable"),o=self.options,cs=self.size;self.ghost=self.originalElement.clone(),self.ghost.css({opacity:.25,display:"block",position:"relative",height:cs.height,width:cs.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof o.ghost?o.ghost:""),self.ghost.appendTo(self.helper)},resize:function(event,ui){var self=$(this).data("resizable");self.options;self.ghost&&self.ghost.css({position:"relative",height:self.size.height,width:self.size.width})},stop:function(event,ui){var self=$(this).data("resizable");self.options;self.ghost&&self.helper&&self.helper.get(0).removeChild(self.ghost.get(0))}}),$.ui.plugin.add("resizable","grid",{resize:function(event,ui){var self=$(this).data("resizable"),o=self.options,cs=self.size,os=self.originalSize,op=self.originalPosition,a=self.axis;o._aspectRatio||event.shiftKey;o.grid="number"==typeof o.grid?[o.grid,o.grid]:o.grid;var ox=Math.round((cs.width-os.width)/(o.grid[0]||1))*(o.grid[0]||1),oy=Math.round((cs.height-os.height)/(o.grid[1]||1))*(o.grid[1]||1);/^(se|s|e)$/.test(a)?(self.size.width=os.width+ox,self.size.height=os.height+oy):/^(ne)$/.test(a)?(self.size.width=os.width+ox,self.size.height=os.height+oy,self.position.top=op.top-oy):/^(sw)$/.test(a)?(self.size.width=os.width+ox,self.size.height=os.height+oy,self.position.left=op.left-ox):(self.size.width=os.width+ox,self.size.height=os.height+oy,self.position.top=op.top-oy,self.position.left=op.left-ox)}});var num=function(v){return parseInt(v,10)||0},isNumber=function(value){return!isNaN(parseInt(value,10))}}(jQuery),function($,undefined){$.widget("ui.sortable",$.ui.mouse,{widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3},_create:function(){var o=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===o.axis||/left|right/.test(this.items[0].item.css("float"))||/inline|table-cell/.test(this.items[0].item.css("display"))),this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},destroy:function(){$.Widget.prototype.destroy.call(this),this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var i=this.items.length-1;i>=0;i--)this.items[i].item.removeData(this.widgetName+"-item");return this},_setOption:function(key,value){"disabled"===key?(this.options[key]=value,this.widget()[value?"addClass":"removeClass"]("ui-sortable-disabled")):$.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(event,overrideHandle){var that=this;if(this.reverting)return!1;if(this.options.disabled||"static"==this.options.type)return!1;this._refreshItems(event);var currentItem=null,self=this;$(event.target).parents().each(function(){if($.data(this,that.widgetName+"-item")==self)return currentItem=$(this),!1});if($.data(event.target,that.widgetName+"-item")==self&&(currentItem=$(event.target)),!currentItem)return!1;if(this.options.handle&&!overrideHandle){var validHandle=!1;if($(this.options.handle,currentItem).find("*").andSelf().each(function(){this==event.target&&(validHandle=!0)}),!validHandle)return!1}return this.currentItem=currentItem,this._removeCurrentsFromItems(),!0},_mouseStart:function(event,overrideHandle,noActivation){var o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(event),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},$.extend(this.offset,{click:{left:event.pageX-this.offset.left,top:event.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(event),this.originalPageX=event.pageX,this.originalPageY=event.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!=this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&($("body").css("cursor")&&(this._storedCursor=$("body").css("cursor")),$("body").css("cursor",o.cursor)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",event,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!noActivation)for(var i=this.containers.length-1;i>=0;i--)this.containers[i]._trigger("activate",event,this._uiHash(this));return $.ui.ddmanager&&($.ui.ddmanager.current=this),$.ui.ddmanager&&!o.dropBehaviour&&$.ui.ddmanager.prepareOffsets(this,event),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(event),!0},_mouseDrag:function(event){if(this.position=this._generatePosition(event),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll){var o=this.options,scrolled=!1;this.scrollParent[0]!=document&&"HTML"!=this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-event.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=scrolled=this.scrollParent[0].scrollTop+o.scrollSpeed:event.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=scrolled=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-event.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=scrolled=this.scrollParent[0].scrollLeft+o.scrollSpeed:event.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=scrolled=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(event.pageY-$(document).scrollTop()<o.scrollSensitivity?scrolled=$(document).scrollTop($(document).scrollTop()-o.scrollSpeed):$(window).height()-(event.pageY-$(document).scrollTop())<o.scrollSensitivity&&(scrolled=$(document).scrollTop($(document).scrollTop()+o.scrollSpeed)),event.pageX-$(document).scrollLeft()<o.scrollSensitivity?scrolled=$(document).scrollLeft($(document).scrollLeft()-o.scrollSpeed):$(window).width()-(event.pageX-$(document).scrollLeft())<o.scrollSensitivity&&(scrolled=$(document).scrollLeft($(document).scrollLeft()+o.scrollSpeed))),!1!==scrolled&&$.ui.ddmanager&&!o.dropBehaviour&&$.ui.ddmanager.prepareOffsets(this,event)}this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"==this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"==this.options.axis||(this.helper[0].style.top=this.position.top+"px");for(var i=this.items.length-1;i>=0;i--){var item=this.items[i],itemElement=item.item[0],intersection=this._intersectsWithPointer(item);if(intersection&&!(itemElement==this.currentItem[0]||this.placeholder[1==intersection?"next":"prev"]()[0]==itemElement||$.ui.contains(this.placeholder[0],itemElement)||"semi-dynamic"==this.options.type&&$.ui.contains(this.element[0],itemElement))){if(this.direction=1==intersection?"down":"up","pointer"!=this.options.tolerance&&!this._intersectsWithSides(item))break;this._rearrange(event,item),this._trigger("change",event,this._uiHash());break}}return this._contactContainers(event),$.ui.ddmanager&&$.ui.ddmanager.drag(this,event),this._trigger("sort",event,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(event,noPropagation){if(event){if($.ui.ddmanager&&!this.options.dropBehaviour&&$.ui.ddmanager.drop(this,event),this.options.revert){var self=this,cur=self.placeholder.offset();self.reverting=!0,$(this.helper).animate({left:cur.left-this.offset.parent.left-self.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:cur.top-this.offset.parent.top-self.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){self._clear(event)})}else this._clear(event,noPropagation);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"==this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var i=this.containers.length-1;i>=0;i--)this.containers[i]._trigger("deactivate",null,this._uiHash(this)),this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",null,this._uiHash(this)),this.containers[i].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!=this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),$.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?$(this.domPosition.prev).after(this.currentItem):$(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(o){var items=this._getItemsAsjQuery(o&&o.connected),str=[];return o=o||{},$(items).each(function(){var res=($(o.item||this).attr(o.attribute||"id")||"").match(o.expression||/(.+)[-=_](.+)/);res&&str.push((o.key||res[1]+"[]")+"="+(o.key&&o.expression?res[1]:res[2]))}),!str.length&&o.key&&str.push(o.key+"="),str.join("&")},toArray:function(o){var items=this._getItemsAsjQuery(o&&o.connected),ret=[];return o=o||{},items.each(function(){ret.push($(o.item||this).attr(o.attribute||"id")||"")}),ret},_intersectsWith:function(item){var x1=this.positionAbs.left,x2=x1+this.helperProportions.width,y1=this.positionAbs.top,y2=y1+this.helperProportions.height,l=item.left,r=l+item.width,t=item.top,b=t+item.height,dyClick=this.offset.click.top,dxClick=this.offset.click.left,isOverElement=y1+dyClick>t&&y1+dyClick<b&&x1+dxClick>l&&x1+dxClick<r;return"pointer"==this.options.tolerance||this.options.forcePointerForContainers||"pointer"!=this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>item[this.floating?"width":"height"]?isOverElement:l<x1+this.helperProportions.width/2&&x2-this.helperProportions.width/2<r&&t<y1+this.helperProportions.height/2&&y2-this.helperProportions.height/2<b},_intersectsWithPointer:function(item){var isOverElementHeight="x"===this.options.axis||$.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,item.top,item.height),isOverElementWidth="y"===this.options.axis||$.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,item.left,item.width),isOverElement=isOverElementHeight&&isOverElementWidth,verticalDirection=this._getDragVerticalDirection(),horizontalDirection=this._getDragHorizontalDirection();return!!isOverElement&&(this.floating?horizontalDirection&&"right"==horizontalDirection||"down"==verticalDirection?2:1:verticalDirection&&("down"==verticalDirection?2:1))},_intersectsWithSides:function(item){var isOverBottomHalf=$.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,item.top+item.height/2,item.height),isOverRightHalf=$.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,item.left+item.width/2,item.width),verticalDirection=this._getDragVerticalDirection(),horizontalDirection=this._getDragHorizontalDirection();return this.floating&&horizontalDirection?"right"==horizontalDirection&&isOverRightHalf||"left"==horizontalDirection&&!isOverRightHalf:verticalDirection&&("down"==verticalDirection&&isOverBottomHalf||"up"==verticalDirection&&!isOverBottomHalf)},_getDragVerticalDirection:function(){var delta=this.positionAbs.top-this.lastPositionAbs.top;return 0!=delta&&(delta>0?"down":"up")},_getDragHorizontalDirection:function(){var delta=this.positionAbs.left-this.lastPositionAbs.left;return 0!=delta&&(delta>0?"right":"left")},refresh:function(event){return this._refreshItems(event),this.refreshPositions(),this},_connectWith:function(){var options=this.options;return options.connectWith.constructor==String?[options.connectWith]:options.connectWith},_getItemsAsjQuery:function(connected){var items=[],queries=[],connectWith=this._connectWith();if(connectWith&&connected)for(var i=connectWith.length-1;i>=0;i--)for(var cur=$(connectWith[i]),j=cur.length-1;j>=0;j--){var inst=$.data(cur[j],this.widgetName);inst&&inst!=this&&!inst.options.disabled&&queries.push([$.isFunction(inst.options.items)?inst.options.items.call(inst.element):$(inst.options.items,inst.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),inst])}queries.push([$.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):$(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(i=queries.length-1;i>=0;i--)queries[i][0].each(function(){items.push(this)});return $(items)},_removeCurrentsFromItems:function(){for(var list=this.currentItem.find(":data("+this.widgetName+"-item)"),i=0;i<this.items.length;i++)for(var j=0;j<list.length;j++)list[j]==this.items[i].item[0]&&this.items.splice(i,1)},_refreshItems:function(event){this.items=[],this.containers=[this];var items=this.items,queries=[[$.isFunction(this.options.items)?this.options.items.call(this.element[0],event,{item:this.currentItem}):$(this.options.items,this.element),this]],connectWith=this._connectWith();if(connectWith&&this.ready)for(var i=connectWith.length-1;i>=0;i--)for(var cur=$(connectWith[i]),j=cur.length-1;j>=0;j--){var inst=$.data(cur[j],this.widgetName);inst&&inst!=this&&!inst.options.disabled&&(queries.push([$.isFunction(inst.options.items)?inst.options.items.call(inst.element[0],event,{item:this.currentItem}):$(inst.options.items,inst.element),inst]),this.containers.push(inst))}for(i=queries.length-1;i>=0;i--)for(var targetData=queries[i][1],_queries=queries[i][0],queriesLength=(j=0,_queries.length);j<queriesLength;j++){var item=$(_queries[j]);item.data(this.widgetName+"-item",targetData),items.push({item:item,instance:targetData,width:0,height:0,left:0,top:0})}},refreshPositions:function(fast){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());for(var i=this.items.length-1;i>=0;i--){var item=this.items[i];if(item.instance==this.currentContainer||!this.currentContainer||item.item[0]==this.currentItem[0]){var t=this.options.toleranceElement?$(this.options.toleranceElement,item.item):item.item;fast||(item.width=t.outerWidth(),item.height=t.outerHeight());var p=t.offset();item.left=p.left,item.top=p.top}}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--){p=this.containers[i].element.offset();this.containers[i].containerCache.left=p.left,this.containers[i].containerCache.top=p.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight()}return this},_createPlaceholder:function(that){var self=that||this,o=self.options;if(!o.placeholder||o.placeholder.constructor==String){var className=o.placeholder;o.placeholder={element:function(){var el=$(document.createElement(self.currentItem[0].nodeName)).addClass(className||self.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];return className||(el.style.visibility="hidden"),el},update:function(container,p){className&&!o.forcePlaceholderSize||(p.height()||p.height(self.currentItem.innerHeight()-parseInt(self.currentItem.css("paddingTop")||0,10)-parseInt(self.currentItem.css("paddingBottom")||0,10)),p.width()||p.width(self.currentItem.innerWidth()-parseInt(self.currentItem.css("paddingLeft")||0,10)-parseInt(self.currentItem.css("paddingRight")||0,10)))}}}self.placeholder=$(o.placeholder.element.call(self.element,self.currentItem)),self.currentItem.after(self.placeholder),o.placeholder.update(self,self.placeholder)},_contactContainers:function(event){for(var innermostContainer=null,innermostIndex=null,i=this.containers.length-1;i>=0;i--)if(!$.ui.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(innermostContainer&&$.ui.contains(this.containers[i].element[0],innermostContainer.element[0]))continue;innermostContainer=this.containers[i],innermostIndex=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",event,this._uiHash(this)),this.containers[i].containerCache.over=0);if(innermostContainer)if(1===this.containers.length)this.containers[innermostIndex]._trigger("over",event,this._uiHash(this)),this.containers[innermostIndex].containerCache.over=1;else if(this.currentContainer!=this.containers[innermostIndex]){for(var dist=1e4,itemWithLeastDistance=null,base=this.positionAbs[this.containers[innermostIndex].floating?"left":"top"],j=this.items.length-1;j>=0;j--)if($.ui.contains(this.containers[innermostIndex].element[0],this.items[j].item[0])){var cur=this.containers[innermostIndex].floating?this.items[j].item.offset().left:this.items[j].item.offset().top;Math.abs(cur-base)<dist&&(dist=Math.abs(cur-base),itemWithLeastDistance=this.items[j],this.direction=cur-base>0?"down":"up")}if(!itemWithLeastDistance&&!this.options.dropOnEmpty)return;this.currentContainer=this.containers[innermostIndex],itemWithLeastDistance?this._rearrange(event,itemWithLeastDistance,null,!0):this._rearrange(event,null,this.containers[innermostIndex].element,!0),this._trigger("change",event,this._uiHash()),this.containers[innermostIndex]._trigger("change",event,this._uiHash(this)),this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[innermostIndex]._trigger("over",event,this._uiHash(this)),this.containers[innermostIndex].containerCache.over=1}},_createHelper:function(event){var o=this.options,helper=$.isFunction(o.helper)?$(o.helper.apply(this.element[0],[event,this.currentItem])):"clone"==o.helper?this.currentItem.clone():this.currentItem;return helper.parents("body").length||$("parent"!=o.appendTo?o.appendTo:this.currentItem[0].parentNode)[0].appendChild(helper[0]),helper[0]==this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(""==helper[0].style.width||o.forceHelperSize)&&helper.width(this.currentItem.width()),(""==helper[0].style.height||o.forceHelperSize)&&helper.height(this.currentItem.height()),helper},_adjustOffsetFromHelper:function(obj){"string"==typeof obj&&(obj=obj.split(" ")),$.isArray(obj)&&(obj={left:+obj[0],top:+obj[1]||0}),"left"in obj&&(this.offset.click.left=obj.left+this.margins.left),"right"in obj&&(this.offset.click.left=this.helperProportions.width-obj.right+this.margins.left),"top"in obj&&(this.offset.click.top=obj.top+this.margins.top),"bottom"in obj&&(this.offset.click.top=this.helperProportions.height-obj.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var po=this.offsetParent.offset();return"absolute"==this.cssPosition&&this.scrollParent[0]!=document&&$.ui.contains(this.scrollParent[0],this.offsetParent[0])&&(po.left+=this.scrollParent.scrollLeft(),po.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&"html"==this.offsetParent[0].tagName.toLowerCase()&&$.browser.msie)&&(po={top:0,left:0}),{top:po.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:po.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"==this.cssPosition){var p=this.currentItem.position();return{top:p.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:p.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var o=this.options;if("parent"==o.containment&&(o.containment=this.helper[0].parentNode),"document"!=o.containment&&"window"!=o.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,$("document"==o.containment?document:window).width()-this.helperProportions.width-this.margins.left,($("document"==o.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),!/^(document|window|parent)$/.test(o.containment)){var ce=$(o.containment)[0],co=$(o.containment).offset(),over="hidden"!=$(ce).css("overflow");this.containment=[co.left+(parseInt($(ce).css("borderLeftWidth"),10)||0)+(parseInt($(ce).css("paddingLeft"),10)||0)-this.margins.left,co.top+(parseInt($(ce).css("borderTopWidth"),10)||0)+(parseInt($(ce).css("paddingTop"),10)||0)-this.margins.top,co.left+(over?Math.max(ce.scrollWidth,ce.offsetWidth):ce.offsetWidth)-(parseInt($(ce).css("borderLeftWidth"),10)||0)-(parseInt($(ce).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,co.top+(over?Math.max(ce.scrollHeight,ce.offsetHeight):ce.offsetHeight)-(parseInt($(ce).css("borderTopWidth"),10)||0)-(parseInt($(ce).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(d,pos){pos||(pos=this.position);var mod="absolute"==d?1:-1,scroll=(this.options,"absolute"!=this.cssPosition||this.scrollParent[0]!=document&&$.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent),scrollIsRootNode=/(html|body)/i.test(scroll[0].tagName);return{top:pos.top+this.offset.relative.top*mod+this.offset.parent.top*mod-($.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollTop():scrollIsRootNode?0:scroll.scrollTop())*mod),left:pos.left+this.offset.relative.left*mod+this.offset.parent.left*mod-($.browser.safari&&"fixed"==this.cssPosition?0:("fixed"==this.cssPosition?-this.scrollParent.scrollLeft():scrollIsRootNode?0:scroll.scrollLeft())*mod)}},_generatePosition:function(event){var o=this.options,scroll="absolute"!=this.cssPosition||this.scrollParent[0]!=document&&$.ui.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,scrollIsRootNode=/(html|body)/i.test(scroll[0].tagName);"relative"!=this.cssPosition||this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset());var pageX=event.pageX,pageY=event.pageY;if(this.originalPosition&&(this.containment&&(event.pageX-this.offset.click.left<this.containment[0]&&(pageX=this.containment[0]+this.offset.click.left),event.pageY-this.offset.click.top<this.containment[1]&&(pageY=this.containment[1]+this.offset.click.top),event.pageX-this.offset.click.left>this.containment[2]&&(pageX=this.containment[2]+this.offset.click.left),event.pageY-this.offset.click.top>this.containment[3]&&(pageY=this.containment[3]+this.offset.click.top)),o.grid)){var top=this.originalPageY+Math.round((pageY-this.originalPageY)/o.grid[1])*o.grid[1];pageY=this.containment&&(top-this.offset.click.top<this.containment[1]||top-this.offset.click.top>this.containment[3])?top-this.offset.click.top<this.containment[1]?top+o.grid[1]:top-o.grid[1]:top;var left=this.originalPageX+Math.round((pageX-this.originalPageX)/o.grid[0])*o.grid[0];pageX=this.containment&&(left-this.offset.click.left<this.containment[0]||left-this.offset.click.left>this.containment[2])?left-this.offset.click.left<this.containment[0]?left+o.grid[0]:left-o.grid[0]:left}return{top:pageY-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+($.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollTop():scrollIsRootNode?0:scroll.scrollTop()),left:pageX-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+($.browser.safari&&"fixed"==this.cssPosition?0:"fixed"==this.cssPosition?-this.scrollParent.scrollLeft():scrollIsRootNode?0:scroll.scrollLeft())}},_rearrange:function(event,i,a,hardRefresh){a?a[0].appendChild(this.placeholder[0]):i.item[0].parentNode.insertBefore(this.placeholder[0],"down"==this.direction?i.item[0]:i.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var self=this,counter=this.counter;window.setTimeout(function(){counter==self.counter&&self.refreshPositions(!hardRefresh)},0)},_clear:function(event,noPropagation){this.reverting=!1;var delayedTriggers=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]==this.currentItem[0]){for(var i in this._storedCSS)"auto"!=this._storedCSS[i]&&"static"!=this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();if(this.fromOutside&&!noPropagation&&delayedTriggers.push(function(event){this._trigger("receive",event,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev==this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent==this.currentItem.parent()[0]||noPropagation||delayedTriggers.push(function(event){this._trigger("update",event,this._uiHash())}),!$.ui.contains(this.element[0],this.currentItem[0])){noPropagation||delayedTriggers.push(function(event){this._trigger("remove",event,this._uiHash())});for(i=this.containers.length-1;i>=0;i--)$.ui.contains(this.containers[i].element[0],this.currentItem[0])&&!noPropagation&&(delayedTriggers.push(function(c){return function(event){c._trigger("receive",event,this._uiHash(this))}}.call(this,this.containers[i])),delayedTriggers.push(function(c){return function(event){c._trigger("update",event,this._uiHash(this))}}.call(this,this.containers[i])))}for(i=this.containers.length-1;i>=0;i--)noPropagation||delayedTriggers.push(function(c){return function(event){c._trigger("deactivate",event,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over&&(delayedTriggers.push(function(c){return function(event){c._trigger("out",event,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over=0);if(this._storedCursor&&$("body").css("cursor",this._storedCursor),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"==this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!noPropagation){this._trigger("beforeStop",event,this._uiHash());for(i=0;i<delayedTriggers.length;i++)delayedTriggers[i].call(this,event);this._trigger("stop",event,this._uiHash())}return this.fromOutside=!1,!1}if(noPropagation||this._trigger("beforeStop",event,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!=this.currentItem[0]&&this.helper.remove(),this.helper=null,!noPropagation){for(i=0;i<delayedTriggers.length;i++)delayedTriggers[i].call(this,event);this._trigger("stop",event,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){!1===$.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(inst){var self=inst||this;return{helper:self.helper,placeholder:self.placeholder||$([]),position:self.position,originalPosition:self.originalPosition,offset:self.positionAbs,item:self.currentItem,sender:inst?inst.element:null}}}),$.extend($.ui.sortable,{version:"1.8.23"})}(jQuery),function($,undefined){$.widget("ui.accordion",{options:{active:0,animated:"slide",autoHeight:!0,clearStyle:!1,collapsible:!1,event:"click",fillSpace:!1,header:"> li > :first-child,> :not(li):even",icons:{header:"ui-icon-triangle-1-e",headerSelected:"ui-icon-triangle-1-s"},navigation:!1,navigationFilter:function(){return this.href.toLowerCase()===location.href.toLowerCase()}},_create:function(){var self=this,options=self.options;if(self.running=0,self.element.addClass("ui-accordion ui-widget ui-helper-reset").children("li").addClass("ui-accordion-li-fix"),self.headers=self.element.find(options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all").bind("mouseenter.accordion",function(){options.disabled||$(this).addClass("ui-state-hover")}).bind("mouseleave.accordion",function(){options.disabled||$(this).removeClass("ui-state-hover")}).bind("focus.accordion",function(){options.disabled||$(this).addClass("ui-state-focus")}).bind("blur.accordion",function(){options.disabled||$(this).removeClass("ui-state-focus")}),self.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom"),options.navigation){var current=self.element.find("a").filter(options.navigationFilter).eq(0);if(current.length){var header=current.closest(".ui-accordion-header");header.length?self.active=header:self.active=current.closest(".ui-accordion-content").prev()}}self.active=self._findActive(self.active||options.active).addClass("ui-state-default ui-state-active").toggleClass("ui-corner-all").toggleClass("ui-corner-top"),self.active.next().addClass("ui-accordion-content-active"),self._createIcons(),self.resize(),self.element.attr("role","tablist"),self.headers.attr("role","tab").bind("keydown.accordion",function(event){return self._keydown(event)}).next().attr("role","tabpanel"),self.headers.not(self.active||"").attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).next().hide(),self.active.length?self.active.attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}):self.headers.eq(0).attr("tabIndex",0),$.browser.safari||self.headers.find("a").attr("tabIndex",-1),options.event&&self.headers.bind(options.event.split(" ").join(".accordion ")+".accordion",function(event){self._clickHandler.call(self,event,this),event.preventDefault()})},_createIcons:function(){var options=this.options;options.icons&&($("<span></span>").addClass("ui-icon "+options.icons.header).prependTo(this.headers),this.active.children(".ui-icon").toggleClass(options.icons.header).toggleClass(options.icons.headerSelected),this.element.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.children(".ui-icon").remove(),this.element.removeClass("ui-accordion-icons")},destroy:function(){var options=this.options;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.unbind(".accordion").removeClass("ui-accordion-header ui-accordion-disabled ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("tabIndex"),this.headers.find("a").removeAttr("tabIndex"),this._destroyIcons();var contents=this.headers.next().css("display","").removeAttr("role").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-accordion-disabled ui-state-disabled");return(options.autoHeight||options.fillHeight)&&contents.css("height",""),$.Widget.prototype.destroy.call(this)},_setOption:function(key,value){$.Widget.prototype._setOption.apply(this,arguments),"active"==key&&this.activate(value),"icons"==key&&(this._destroyIcons(),value&&this._createIcons()),"disabled"==key&&this.headers.add(this.headers.next())[value?"addClass":"removeClass"]("ui-accordion-disabled ui-state-disabled")},_keydown:function(event){if(!(this.options.disabled||event.altKey||event.ctrlKey)){var keyCode=$.ui.keyCode,length=this.headers.length,currentIndex=this.headers.index(event.target),toFocus=!1;switch(event.keyCode){case keyCode.RIGHT:case keyCode.DOWN:toFocus=this.headers[(currentIndex+1)%length];break;case keyCode.LEFT:case keyCode.UP:toFocus=this.headers[(currentIndex-1+length)%length];break;case keyCode.SPACE:case keyCode.ENTER:this._clickHandler({target:event.target},event.target),event.preventDefault()}return!toFocus||($(event.target).attr("tabIndex",-1),$(toFocus).attr("tabIndex",0),toFocus.focus(),!1)}},resize:function(){var maxHeight,options=this.options;if(options.fillSpace){if($.browser.msie){var defOverflow=this.element.parent().css("overflow");this.element.parent().css("overflow","hidden")}maxHeight=this.element.parent().height(),$.browser.msie&&this.element.parent().css("overflow",defOverflow),this.headers.each(function(){maxHeight-=$(this).outerHeight(!0)}),this.headers.next().each(function(){$(this).height(Math.max(0,maxHeight-$(this).innerHeight()+$(this).height()))}).css("overflow","auto")}else options.autoHeight&&(maxHeight=0,this.headers.next().each(function(){maxHeight=Math.max(maxHeight,$(this).height("").height())}).height(maxHeight));return this},activate:function(index){this.options.active=index;var active=this._findActive(index)[0];return this._clickHandler({target:active},active),this},_findActive:function(selector){return selector?"number"==typeof selector?this.headers.filter(":eq("+selector+")"):this.headers.not(this.headers.not(selector)):!1===selector?$([]):this.headers.filter(":eq(0)")},_clickHandler:function(event,target){var options=this.options;if(!options.disabled)if(event.target){var clicked=$(event.currentTarget||target),clickedIsActive=clicked[0]===this.active[0];if(options.active=(!options.collapsible||!clickedIsActive)&&this.headers.index(clicked),!(this.running||!options.collapsible&&clickedIsActive)){var active=this.active,down=(toShow=clicked.next(),toHide=this.active.next(),data={options:options,newHeader:clickedIsActive&&options.collapsible?$([]):clicked,oldHeader:this.active,newContent:clickedIsActive&&options.collapsible?$([]):toShow,oldContent:toHide},this.headers.index(this.active[0])>this.headers.index(clicked[0]));this.active=clickedIsActive?$([]):clicked,this._toggle(toShow,toHide,data,clickedIsActive,down),active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(options.icons.headerSelected).addClass(options.icons.header),clickedIsActive||(clicked.removeClass("ui-state-default ui-corner-all").addClass("ui-state-active ui-corner-top").children(".ui-icon").removeClass(options.icons.header).addClass(options.icons.headerSelected),clicked.next().addClass("ui-accordion-content-active"))}}else{if(!options.collapsible)return;this.active.removeClass("ui-state-active ui-corner-top").addClass("ui-state-default ui-corner-all").children(".ui-icon").removeClass(options.icons.headerSelected).addClass(options.icons.header),this.active.next().addClass("ui-accordion-content-active");var toHide=this.active.next(),data={options:options,newHeader:$([]),oldHeader:options.active,newContent:$([]),oldContent:toHide},toShow=this.active=$([]);this._toggle(toShow,toHide,data)}},_toggle:function(toShow,toHide,data,clickedIsActive,down){var self=this,options=self.options;self.toShow=toShow,self.toHide=toHide,self.data=data;var complete=function(){if(self)return self._completed.apply(self,arguments)};if(self._trigger("changestart",null,self.data),self.running=0===toHide.size()?toShow.size():toHide.size(),options.animated){var animOptions={};animOptions=options.collapsible&&clickedIsActive?{toShow:$([]),toHide:toHide,complete:complete,down:down,autoHeight:options.autoHeight||options.fillSpace}:{toShow:toShow,toHide:toHide,complete:complete,down:down,autoHeight:options.autoHeight||options.fillSpace},options.proxied||(options.proxied=options.animated),options.proxiedDuration||(options.proxiedDuration=options.duration),options.animated=$.isFunction(options.proxied)?options.proxied(animOptions):options.proxied,options.duration=$.isFunction(options.proxiedDuration)?options.proxiedDuration(animOptions):options.proxiedDuration;var animations=$.ui.accordion.animations,duration=options.duration,easing=options.animated;!easing||animations[easing]||$.easing[easing]||(easing="slide"),animations[easing]||(animations[easing]=function(options){this.slide(options,{easing:easing,duration:duration||700})}),animations[easing](animOptions)}else options.collapsible&&clickedIsActive?toShow.toggle():(toHide.hide(),toShow.show()),complete(!0);toHide.prev().attr({"aria-expanded":"false","aria-selected":"false",tabIndex:-1}).blur(),toShow.prev().attr({"aria-expanded":"true","aria-selected":"true",tabIndex:0}).focus()},_completed:function(cancel){this.running=cancel?0:--this.running,this.running||(this.options.clearStyle&&this.toShow.add(this.toHide).css({height:"",overflow:""}),this.toHide.removeClass("ui-accordion-content-active"),this.toHide.length&&(this.toHide.parent()[0].className=this.toHide.parent()[0].className),this._trigger("change",null,this.data))}}),$.extend($.ui.accordion,{version:"1.8.23",animations:{slide:function(options,additions){if((options=$.extend({easing:"swing",duration:300},options,additions)).toHide.size())if(options.toShow.size()){var originalWidth,overflow=options.toShow.css("overflow"),percentDone=0,showProps={},hideProps={},s=options.toShow;originalWidth=s[0].style.width,s.width(s.parent().width()-parseFloat(s.css("paddingLeft"))-parseFloat(s.css("paddingRight"))-(parseFloat(s.css("borderLeftWidth"))||0)-(parseFloat(s.css("borderRightWidth"))||0)),$.each(["height","paddingTop","paddingBottom"],function(i,prop){hideProps[prop]="hide";var parts=(""+$.css(options.toShow[0],prop)).match(/^([\d+-.]+)(.*)$/);showProps[prop]={value:parts[1],unit:parts[2]||"px"}}),options.toShow.css({height:0,overflow:"hidden"}).show(),options.toHide.filter(":hidden").each(options.complete).end().filter(":visible").animate(hideProps,{step:function(now,settings){"height"==settings.prop&&(percentDone=settings.end-settings.start==0?0:(settings.now-settings.start)/(settings.end-settings.start)),options.toShow[0].style[settings.prop]=percentDone*showProps[settings.prop].value+showProps[settings.prop].unit},duration:options.duration,easing:options.easing,complete:function(){options.autoHeight||options.toShow.css("height",""),options.toShow.css({width:originalWidth,overflow:overflow}),options.complete()}})}else options.toHide.animate({height:"hide",paddingTop:"hide",paddingBottom:"hide"},options);else options.toShow.animate({height:"show",paddingTop:"show",paddingBottom:"show"},options)},bounceslide:function(options){this.slide(options,{easing:options.down?"easeOutBounce":"swing",duration:options.down?1e3:200})}}})}(jQuery),function($,undefined){$.widget("ui.slider",$.ui.mouse,{widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null},_create:function(){var self=this,o=this.options,existingHandles=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),handleCount=o.values&&o.values.length||1,handles=[];this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"+(o.disabled?" ui-slider-disabled ui-disabled":"")),this.range=$([]),o.range&&(!0===o.range&&(o.values||(o.values=[this._valueMin(),this._valueMin()]),o.values.length&&2!==o.values.length&&(o.values=[o.values[0],o.values[0]])),this.range=$("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+("min"===o.range||"max"===o.range?" ui-slider-range-"+o.range:"")));for(var i=existingHandles.length;i<handleCount;i+=1)handles.push("<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>");this.handles=existingHandles.add($(handles.join("")).appendTo(self.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(event){event.preventDefault()}).hover(function(){o.disabled||$(this).addClass("ui-state-hover")},function(){$(this).removeClass("ui-state-hover")}).focus(function(){o.disabled?$(this).blur():($(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),$(this).addClass("ui-state-focus"))}).blur(function(){$(this).removeClass("ui-state-focus")}),this.handles.each(function(i){$(this).data("index.ui-slider-handle",i)}),this.handles.keydown(function(event){var curVal,newVal,step,index=$(this).data("index.ui-slider-handle");if(!self.options.disabled){switch(event.keyCode){case $.ui.keyCode.HOME:case $.ui.keyCode.END:case $.ui.keyCode.PAGE_UP:case $.ui.keyCode.PAGE_DOWN:case $.ui.keyCode.UP:case $.ui.keyCode.RIGHT:case $.ui.keyCode.DOWN:case $.ui.keyCode.LEFT:if(event.preventDefault(),!self._keySliding&&(self._keySliding=!0,$(this).addClass("ui-state-active"),!1===self._start(event,index)))return}switch(step=self.options.step,curVal=newVal=self.options.values&&self.options.values.length?self.values(index):self.value(),event.keyCode){case $.ui.keyCode.HOME:newVal=self._valueMin();break;case $.ui.keyCode.END:newVal=self._valueMax();break;case $.ui.keyCode.PAGE_UP:newVal=self._trimAlignValue(curVal+(self._valueMax()-self._valueMin())/5);break;case $.ui.keyCode.PAGE_DOWN:newVal=self._trimAlignValue(curVal-(self._valueMax()-self._valueMin())/5);break;case $.ui.keyCode.UP:case $.ui.keyCode.RIGHT:if(curVal===self._valueMax())return;newVal=self._trimAlignValue(curVal+step);break;case $.ui.keyCode.DOWN:case $.ui.keyCode.LEFT:if(curVal===self._valueMin())return;newVal=self._trimAlignValue(curVal-step)}self._slide(event,index,newVal)}}).keyup(function(event){var index=$(this).data("index.ui-slider-handle");self._keySliding&&(self._keySliding=!1,self._stop(event,index),self._change(event,index),$(this).removeClass("ui-state-active"))}),this._refreshValue(),this._animateOff=!1},destroy:function(){return this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all").removeData("slider").unbind(".slider"),this._mouseDestroy(),this},_mouseCapture:function(event){var position,normValue,distance,closestHandle,self,index,offset,mouseOverHandle,o=this.options;return!o.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),position={x:event.pageX,y:event.pageY},normValue=this._normValueFromMouse(position),distance=this._valueMax()-this._valueMin()+1,self=this,this.handles.each(function(i){var thisDistance=Math.abs(normValue-self.values(i));distance>thisDistance&&(distance=thisDistance,closestHandle=$(this),index=i)}),!0===o.range&&this.values(1)===o.min&&(index+=1,closestHandle=$(this.handles[index])),!1!==this._start(event,index)&&(this._mouseSliding=!0,self._handleIndex=index,closestHandle.addClass("ui-state-active").focus(),offset=closestHandle.offset(),mouseOverHandle=!$(event.target).parents().andSelf().is(".ui-slider-handle"),this._clickOffset=mouseOverHandle?{left:0,top:0}:{left:event.pageX-offset.left-closestHandle.width()/2,top:event.pageY-offset.top-closestHandle.height()/2-(parseInt(closestHandle.css("borderTopWidth"),10)||0)-(parseInt(closestHandle.css("borderBottomWidth"),10)||0)+(parseInt(closestHandle.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(event,index,normValue),this._animateOff=!0,!0))},_mouseStart:function(event){return!0},_mouseDrag:function(event){var position={x:event.pageX,y:event.pageY},normValue=this._normValueFromMouse(position);return this._slide(event,this._handleIndex,normValue),!1},_mouseStop:function(event){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(event,this._handleIndex),this._change(event,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(position){var pixelTotal,pixelMouse,percentMouse,valueTotal,valueMouse;return"horizontal"===this.orientation?(pixelTotal=this.elementSize.width,pixelMouse=position.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(pixelTotal=this.elementSize.height,pixelMouse=position.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(percentMouse=pixelMouse/pixelTotal)>1&&(percentMouse=1),percentMouse<0&&(percentMouse=0),"vertical"===this.orientation&&(percentMouse=1-percentMouse),valueTotal=this._valueMax()-this._valueMin(),valueMouse=this._valueMin()+percentMouse*valueTotal,this._trimAlignValue(valueMouse)},_start:function(event,index){var uiHash={handle:this.handles[index],value:this.value()};return this.options.values&&this.options.values.length&&(uiHash.value=this.values(index),uiHash.values=this.values()),this._trigger("start",event,uiHash)},_slide:function(event,index,newVal){var otherVal,newValues,allowed;this.options.values&&this.options.values.length?(otherVal=this.values(index?0:1),2===this.options.values.length&&!0===this.options.range&&(0===index&&newVal>otherVal||1===index&&newVal<otherVal)&&(newVal=otherVal),newVal!==this.values(index)&&((newValues=this.values())[index]=newVal,allowed=this._trigger("slide",event,{handle:this.handles[index],value:newVal,values:newValues}),otherVal=this.values(index?0:1),!1!==allowed&&this.values(index,newVal,!0))):newVal!==this.value()&&!1!==(allowed=this._trigger("slide",event,{handle:this.handles[index],value:newVal}))&&this.value(newVal)},_stop:function(event,index){var uiHash={handle:this.handles[index],value:this.value()};this.options.values&&this.options.values.length&&(uiHash.value=this.values(index),uiHash.values=this.values()),this._trigger("stop",event,uiHash)},_change:function(event,index){if(!this._keySliding&&!this._mouseSliding){var uiHash={handle:this.handles[index],value:this.value()};this.options.values&&this.options.values.length&&(uiHash.value=this.values(index),uiHash.values=this.values()),this._trigger("change",event,uiHash)}},value:function(newValue){return arguments.length?(this.options.value=this._trimAlignValue(newValue),this._refreshValue(),void this._change(null,0)):this._value()},values:function(index,newValue){var vals,newValues,i;if(arguments.length>1)return this.options.values[index]=this._trimAlignValue(newValue),this._refreshValue(),void this._change(null,index);if(!arguments.length)return this._values();if(!$.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(index):this.value();for(vals=this.options.values,newValues=arguments[0],i=0;i<vals.length;i+=1)vals[i]=this._trimAlignValue(newValues[i]),this._change(null,i);this._refreshValue()},_setOption:function(key,value){var i,valsLength=0;switch($.isArray(this.options.values)&&(valsLength=this.options.values.length),$.Widget.prototype._setOption.apply(this,arguments),key){case"disabled":value?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.propAttr("disabled",!0),this.element.addClass("ui-disabled")):(this.handles.propAttr("disabled",!1),this.element.removeClass("ui-disabled"));break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=0;i<valsLength;i+=1)this._change(null,i);this._animateOff=!1}},_value:function(){var val=this.options.value;return val=this._trimAlignValue(val)},_values:function(index){var val,vals,i;if(arguments.length)return val=this.options.values[index],val=this._trimAlignValue(val);for(vals=this.options.values.slice(),i=0;i<vals.length;i+=1)vals[i]=this._trimAlignValue(vals[i]);return vals},_trimAlignValue:function(val){if(val<=this._valueMin())return this._valueMin();if(val>=this._valueMax())return this._valueMax();var step=this.options.step>0?this.options.step:1,valModStep=(val-this._valueMin())%step,alignValue=val-valModStep;return 2*Math.abs(valModStep)>=step&&(alignValue+=valModStep>0?step:-step),parseFloat(alignValue.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var valPercent,lastValPercent,value,valueMin,valueMax,oRange=this.options.range,o=this.options,self=this,animate=!this._animateOff&&o.animate,_set={};this.options.values&&this.options.values.length?this.handles.each(function(i,j){valPercent=(self.values(i)-self._valueMin())/(self._valueMax()-self._valueMin())*100,_set["horizontal"===self.orientation?"left":"bottom"]=valPercent+"%",$(this).stop(1,1)[animate?"animate":"css"](_set,o.animate),!0===self.options.range&&("horizontal"===self.orientation?(0===i&&self.range.stop(1,1)[animate?"animate":"css"]({left:valPercent+"%"},o.animate),1===i&&self.range[animate?"animate":"css"]({width:valPercent-lastValPercent+"%"},{queue:!1,duration:o.animate})):(0===i&&self.range.stop(1,1)[animate?"animate":"css"]({bottom:valPercent+"%"},o.animate),1===i&&self.range[animate?"animate":"css"]({height:valPercent-lastValPercent+"%"},{queue:!1,duration:o.animate}))),lastValPercent=valPercent}):(value=this.value(),valueMin=this._valueMin(),valueMax=this._valueMax(),valPercent=valueMax!==valueMin?(value-valueMin)/(valueMax-valueMin)*100:0,_set["horizontal"===self.orientation?"left":"bottom"]=valPercent+"%",this.handle.stop(1,1)[animate?"animate":"css"](_set,o.animate),"min"===oRange&&"horizontal"===this.orientation&&this.range.stop(1,1)[animate?"animate":"css"]({width:valPercent+"%"},o.animate),"max"===oRange&&"horizontal"===this.orientation&&this.range[animate?"animate":"css"]({width:100-valPercent+"%"},{queue:!1,duration:o.animate}),"min"===oRange&&"vertical"===this.orientation&&this.range.stop(1,1)[animate?"animate":"css"]({height:valPercent+"%"},o.animate),"max"===oRange&&"vertical"===this.orientation&&this.range[animate?"animate":"css"]({height:100-valPercent+"%"},{queue:!1,duration:o.animate}))}}),$.extend($.ui.slider,{version:"1.8.23"})}(jQuery),function($,undefined){var tabId=0,listId=0;$.widget("ui.tabs",{options:{add:null,ajaxOptions:null,cache:!1,cookie:null,collapsible:!1,disable:null,disabled:[],enable:null,event:"click",fx:null,idPrefix:"ui-tabs-",load:null,panelTemplate:"<div></div>",remove:null,select:null,show:null,spinner:"<em>Loading&#8230;</em>",tabTemplate:"<li><a href='#{href}'><span>#{label}</span></a></li>"},_create:function(){this._tabify(!0)},_setOption:function(key,value){if("selected"==key){if(this.options.collapsible&&value==this.options.selected)return;this.select(value)}else this.options[key]=value,this._tabify()},_tabId:function(a){return a.title&&a.title.replace(/\s/g,"_").replace(/[^\w\u00c0-\uFFFF-]/g,"")||this.options.idPrefix+ ++tabId},_sanitizeSelector:function(hash){return hash.replace(/:/g,"\\:")},_cookie:function(){var cookie=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+ ++listId);return $.cookie.apply(null,[cookie].concat($.makeArray(arguments)))},_ui:function(tab,panel){return{tab:tab,panel:panel,index:this.anchors.index(tab)}},_cleanup:function(){this.lis.filter(".ui-state-processing").removeClass("ui-state-processing").find("span:data(label.tabs)").each(function(){var el=$(this);el.html(el.data("label.tabs")).removeData("label.tabs")})},_tabify:function(init){var hideFx,showFx,self=this,o=this.options,fragmentId=/^#.+/;this.list=this.element.find("ol,ul").eq(0),this.lis=$(" > li:has(a[href])",this.list),this.anchors=this.lis.map(function(){return $("a",this)[0]}),this.panels=$([]),this.anchors.each(function(i,a){var baseEl,href=$(a).attr("href"),hrefBase=href.split("#")[0];if(hrefBase&&(hrefBase===location.toString().split("#")[0]||(baseEl=$("base")[0])&&hrefBase===baseEl.href)&&(href=a.hash,a.href=href),fragmentId.test(href))self.panels=self.panels.add(self.element.find(self._sanitizeSelector(href)));else if(href&&"#"!==href){$.data(a,"href.tabs",href),$.data(a,"load.tabs",href.replace(/#.*$/,""));var id=self._tabId(a);a.href="#"+id;var $panel=self.element.find("#"+id);$panel.length||($panel=$(o.panelTemplate).attr("id",id).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").insertAfter(self.panels[i-1]||self.list)).data("destroy.tabs",!0),self.panels=self.panels.add($panel)}else o.disabled.push(i)}),init?(this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all"),this.list.addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.lis.addClass("ui-state-default ui-corner-top"),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom"),void 0===o.selected?(location.hash&&this.anchors.each(function(i,a){if(a.hash==location.hash)return o.selected=i,!1}),"number"!=typeof o.selected&&o.cookie&&(o.selected=parseInt(self._cookie(),10)),"number"!=typeof o.selected&&this.lis.filter(".ui-tabs-selected").length&&(o.selected=this.lis.index(this.lis.filter(".ui-tabs-selected"))),o.selected=o.selected||(this.lis.length?0:-1)):null===o.selected&&(o.selected=-1),o.selected=o.selected>=0&&this.anchors[o.selected]||o.selected<0?o.selected:0,o.disabled=$.unique(o.disabled.concat($.map(this.lis.filter(".ui-state-disabled"),function(n,i){return self.lis.index(n)}))).sort(),-1!=$.inArray(o.selected,o.disabled)&&o.disabled.splice($.inArray(o.selected,o.disabled),1),this.panels.addClass("ui-tabs-hide"),this.lis.removeClass("ui-tabs-selected ui-state-active"),o.selected>=0&&this.anchors.length&&(self.element.find(self._sanitizeSelector(self.anchors[o.selected].hash)).removeClass("ui-tabs-hide"),this.lis.eq(o.selected).addClass("ui-tabs-selected ui-state-active"),self.element.queue("tabs",function(){self._trigger("show",null,self._ui(self.anchors[o.selected],self.element.find(self._sanitizeSelector(self.anchors[o.selected].hash))[0]))}),this.load(o.selected)),$(window).bind("unload",function(){self.lis.add(self.anchors).unbind(".tabs"),self.lis=self.anchors=self.panels=null})):o.selected=this.lis.index(this.lis.filter(".ui-tabs-selected")),this.element[o.collapsible?"addClass":"removeClass"]("ui-tabs-collapsible"),o.cookie&&this._cookie(o.selected,o.cookie);for(var li,i=0;li=this.lis[i];i++)$(li)[-1==$.inArray(i,o.disabled)||$(li).hasClass("ui-tabs-selected")?"removeClass":"addClass"]("ui-state-disabled");if(!1===o.cache&&this.anchors.removeData("cache.tabs"),this.lis.add(this.anchors).unbind(".tabs"),"mouseover"!==o.event){var addState=function(state,el){el.is(":not(.ui-state-disabled)")&&el.addClass("ui-state-"+state)},removeState=function(state,el){el.removeClass("ui-state-"+state)};this.lis.bind("mouseover.tabs",function(){addState("hover",$(this))}),this.lis.bind("mouseout.tabs",function(){removeState("hover",$(this))}),this.anchors.bind("focus.tabs",function(){addState("focus",$(this).closest("li"))}),this.anchors.bind("blur.tabs",function(){removeState("focus",$(this).closest("li"))})}function resetStyle($el,fx){$el.css("display",""),!$.support.opacity&&fx.opacity&&$el[0].style.removeAttribute("filter")}o.fx&&($.isArray(o.fx)?(hideFx=o.fx[0],showFx=o.fx[1]):hideFx=showFx=o.fx);var showTab=showFx?function(clicked,$show){$(clicked).closest("li").addClass("ui-tabs-selected ui-state-active"),$show.hide().removeClass("ui-tabs-hide").animate(showFx,showFx.duration||"normal",function(){resetStyle($show,showFx),self._trigger("show",null,self._ui(clicked,$show[0]))})}:function(clicked,$show){$(clicked).closest("li").addClass("ui-tabs-selected ui-state-active"),$show.removeClass("ui-tabs-hide"),self._trigger("show",null,self._ui(clicked,$show[0]))},hideTab=hideFx?function(clicked,$hide){$hide.animate(hideFx,hideFx.duration||"normal",function(){self.lis.removeClass("ui-tabs-selected ui-state-active"),$hide.addClass("ui-tabs-hide"),resetStyle($hide,hideFx),self.element.dequeue("tabs")})}:function(clicked,$hide,$show){self.lis.removeClass("ui-tabs-selected ui-state-active"),$hide.addClass("ui-tabs-hide"),self.element.dequeue("tabs")};this.anchors.bind(o.event+".tabs",function(){var el=this,$li=$(el).closest("li"),$hide=self.panels.filter(":not(.ui-tabs-hide)"),$show=self.element.find(self._sanitizeSelector(el.hash));if($li.hasClass("ui-tabs-selected")&&!o.collapsible||$li.hasClass("ui-state-disabled")||$li.hasClass("ui-state-processing")||self.panels.filter(":animated").length||!1===self._trigger("select",null,self._ui(this,$show[0])))return this.blur(),!1;if(o.selected=self.anchors.index(this),self.abort(),o.collapsible){if($li.hasClass("ui-tabs-selected"))return o.selected=-1,o.cookie&&self._cookie(o.selected,o.cookie),self.element.queue("tabs",function(){hideTab(el,$hide)}).dequeue("tabs"),this.blur(),!1;if(!$hide.length)return o.cookie&&self._cookie(o.selected,o.cookie),self.element.queue("tabs",function(){showTab(el,$show)}),self.load(self.anchors.index(this)),this.blur(),!1}if(o.cookie&&self._cookie(o.selected,o.cookie),!$show.length)throw"jQuery UI Tabs: Mismatching fragment identifier.";$hide.length&&self.element.queue("tabs",function(){hideTab(el,$hide)}),self.element.queue("tabs",function(){showTab(el,$show)}),self.load(self.anchors.index(this)),$.browser.msie&&this.blur()}),this.anchors.bind("click.tabs",function(){return!1})},_getIndex:function(index){return"string"==typeof index&&(index=this.anchors.index(this.anchors.filter("[href$='"+index+"']"))),index},destroy:function(){var o=this.options;return this.abort(),this.element.unbind(".tabs").removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible").removeData("tabs"),this.list.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all"),this.anchors.each(function(){var href=$.data(this,"href.tabs");href&&(this.href=href);var $this=$(this).unbind(".tabs");$.each(["href","load","cache"],function(i,prefix){$this.removeData(prefix+".tabs")})}),this.lis.unbind(".tabs").add(this.panels).each(function(){$.data(this,"destroy.tabs")?$(this).remove():$(this).removeClass(["ui-state-default","ui-corner-top","ui-tabs-selected","ui-state-active","ui-state-hover","ui-state-focus","ui-state-disabled","ui-tabs-panel","ui-widget-content","ui-corner-bottom","ui-tabs-hide"].join(" "))}),o.cookie&&this._cookie(null,o.cookie),this},add:function(url,label,index){void 0===index&&(index=this.anchors.length);var self=this,o=this.options,$li=$(o.tabTemplate.replace(/#\{href\}/g,url).replace(/#\{label\}/g,label)),id=url.indexOf("#")?this._tabId($("a",$li)[0]):url.replace("#","");$li.addClass("ui-state-default ui-corner-top").data("destroy.tabs",!0);var $panel=self.element.find("#"+id);return $panel.length||($panel=$(o.panelTemplate).attr("id",id).data("destroy.tabs",!0)),$panel.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom ui-tabs-hide"),index>=this.lis.length?($li.appendTo(this.list),$panel.appendTo(this.list[0].parentNode)):($li.insertBefore(this.lis[index]),$panel.insertBefore(this.panels[index])),o.disabled=$.map(o.disabled,function(n,i){return n>=index?++n:n}),this._tabify(),1==this.anchors.length&&(o.selected=0,$li.addClass("ui-tabs-selected ui-state-active"),$panel.removeClass("ui-tabs-hide"),this.element.queue("tabs",function(){self._trigger("show",null,self._ui(self.anchors[0],self.panels[0]))}),this.load(0)),this._trigger("add",null,this._ui(this.anchors[index],this.panels[index])),this},remove:function(index){index=this._getIndex(index);var o=this.options,$li=this.lis.eq(index).remove(),$panel=this.panels.eq(index).remove();return $li.hasClass("ui-tabs-selected")&&this.anchors.length>1&&this.select(index+(index+1<this.anchors.length?1:-1)),o.disabled=$.map($.grep(o.disabled,function(n,i){return n!=index}),function(n,i){return n>=index?--n:n}),this._tabify(),this._trigger("remove",null,this._ui($li.find("a")[0],$panel[0])),this},enable:function(index){index=this._getIndex(index);var o=this.options;if(-1!=$.inArray(index,o.disabled))return this.lis.eq(index).removeClass("ui-state-disabled"),o.disabled=$.grep(o.disabled,function(n,i){return n!=index}),this._trigger("enable",null,this._ui(this.anchors[index],this.panels[index])),this},disable:function(index){index=this._getIndex(index);var o=this.options;return index!=o.selected&&(this.lis.eq(index).addClass("ui-state-disabled"),o.disabled.push(index),o.disabled.sort(),this._trigger("disable",null,this._ui(this.anchors[index],this.panels[index]))),this},select:function(index){if(-1==(index=this._getIndex(index))){if(!this.options.collapsible||-1==this.options.selected)return this;index=this.options.selected}return this.anchors.eq(index).trigger(this.options.event+".tabs"),this},load:function(index){index=this._getIndex(index);var self=this,o=this.options,a=this.anchors.eq(index)[0],url=$.data(a,"load.tabs");if(this.abort(),url&&(0===this.element.queue("tabs").length||!$.data(a,"cache.tabs"))){if(this.lis.eq(index).addClass("ui-state-processing"),o.spinner){var span=$("span",a);span.data("label.tabs",span.html()).html(o.spinner)}return this.xhr=$.ajax($.extend({},o.ajaxOptions,{url:url,success:function(r,s){self.element.find(self._sanitizeSelector(a.hash)).html(r),self._cleanup(),o.cache&&$.data(a,"cache.tabs",!0),self._trigger("load",null,self._ui(self.anchors[index],self.panels[index]));try{o.ajaxOptions.success(r,s)}catch(e){}},error:function(xhr,s,e){self._cleanup(),self._trigger("load",null,self._ui(self.anchors[index],self.panels[index]));try{o.ajaxOptions.error(xhr,s,index,a)}catch(e){}}})),self.element.dequeue("tabs"),this}this.element.dequeue("tabs")},abort:function(){return this.element.queue([]),this.panels.stop(!1,!0),this.element.queue("tabs",this.element.queue("tabs").splice(-2,2)),this.xhr&&(this.xhr.abort(),delete this.xhr),this._cleanup(),this},url:function(index,url){return this.anchors.eq(index).removeData("cache.tabs").data("load.tabs",url),this},length:function(){return this.anchors.length}}),$.extend($.ui.tabs,{version:"1.8.23"}),$.extend($.ui.tabs.prototype,{rotation:null,rotate:function(ms,continuing){var self=this,o=this.options,rotate=self._rotate||(self._rotate=function(e){clearTimeout(self.rotation),self.rotation=setTimeout(function(){var t=o.selected;self.select(++t<self.anchors.length?t:0)},ms),e&&e.stopPropagation()}),stop=self._unrotate||(self._unrotate=continuing?function(e){rotate()}:function(e){e.clientX&&self.rotate(null)});return ms?(this.element.bind("tabsshow",rotate),this.anchors.bind(o.event+".tabs",stop),rotate()):(clearTimeout(self.rotation),this.element.unbind("tabsshow",rotate),this.anchors.unbind(o.event+".tabs",stop),delete this._rotate,delete this._unrotate),this}})}(jQuery),function($,undefined){$.extend($.ui,{datepicker:{version:"1.8.23"}});var PROP_NAME="datepicker",dpuuid=(new Date).getTime(),instActive;function Datepicker(){this.debug=!1,this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},$.extend(this._defaults,this.regional[""]),this.dpDiv=bindHover($('<div id="'+this._mainDivId+'" class="ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>'))}function bindHover(dpDiv){var selector="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return dpDiv.bind("mouseout",function(event){var elem=$(event.target).closest(selector);elem.length&&elem.removeClass("ui-state-hover ui-datepicker-prev-hover ui-datepicker-next-hover")}).bind("mouseover",function(event){var elem=$(event.target).closest(selector);!$.datepicker._isDisabledDatepicker(instActive.inline?dpDiv.parent()[0]:instActive.input[0])&&elem.length&&(elem.parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),elem.addClass("ui-state-hover"),elem.hasClass("ui-datepicker-prev")&&elem.addClass("ui-datepicker-prev-hover"),elem.hasClass("ui-datepicker-next")&&elem.addClass("ui-datepicker-next-hover"))})}function extendRemove(target,props){for(var name in $.extend(target,props),props)null!=props[name]&&props[name]!=undefined||(target[name]=props[name]);return target}function isArray(a){return a&&($.browser.safari&&"object"==typeof a&&a.length||a.constructor&&a.constructor.toString().match(/\Array\(\)/))}$.extend(Datepicker.prototype,{markerClassName:"hasDatepicker",maxRows:4,log:function(){this.debug&&console.log.apply("",arguments)},_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(settings){return extendRemove(this._defaults,settings||{}),this},_attachDatepicker:function(target,settings){var inlineSettings=null;for(var attrName in this._defaults){var attrValue=target.getAttribute("date:"+attrName);if(attrValue){inlineSettings=inlineSettings||{};try{inlineSettings[attrName]=eval(attrValue)}catch(err){inlineSettings[attrName]=attrValue}}}var nodeName=target.nodeName.toLowerCase(),inline="div"==nodeName||"span"==nodeName;target.id||(this.uuid+=1,target.id="dp"+this.uuid);var inst=this._newInst($(target),inline);inst.settings=$.extend({},settings||{},inlineSettings||{}),"input"==nodeName?this._connectDatepicker(target,inst):inline&&this._inlineDatepicker(target,inst)},_newInst:function(target,inline){return{id:target[0].id.replace(/([^A-Za-z0-9_-])/g,"\\\\$1"),input:target,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:inline,dpDiv:inline?bindHover($('<div class="'+this._inlineClass+' ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all"></div>')):this.dpDiv}},_connectDatepicker:function(target,inst){var input=$(target);inst.append=$([]),inst.trigger=$([]),input.hasClass(this.markerClassName)||(this._attachments(input,inst),input.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp).bind("setData.datepicker",function(event,key,value){inst.settings[key]=value}).bind("getData.datepicker",function(event,key){return this._get(inst,key)}),this._autoSize(inst),$.data(target,PROP_NAME,inst),inst.settings.disabled&&this._disableDatepicker(target))},_attachments:function(input,inst){var appendText=this._get(inst,"appendText"),isRTL=this._get(inst,"isRTL");inst.append&&inst.append.remove(),appendText&&(inst.append=$('<span class="'+this._appendClass+'">'+appendText+"</span>"),input[isRTL?"before":"after"](inst.append)),input.unbind("focus",this._showDatepicker),inst.trigger&&inst.trigger.remove();var showOn=this._get(inst,"showOn");if("focus"!=showOn&&"both"!=showOn||input.focus(this._showDatepicker),"button"==showOn||"both"==showOn){var buttonText=this._get(inst,"buttonText"),buttonImage=this._get(inst,"buttonImage");inst.trigger=$(this._get(inst,"buttonImageOnly")?$("<img/>").addClass(this._triggerClass).attr({src:buttonImage,alt:buttonText,title:buttonText}):$('<button type="button"></button>').addClass(this._triggerClass).html(""==buttonImage?buttonText:$("<img/>").attr({src:buttonImage,alt:buttonText,title:buttonText}))),input[isRTL?"before":"after"](inst.trigger),inst.trigger.click(function(){return $.datepicker._datepickerShowing&&$.datepicker._lastInput==input[0]?$.datepicker._hideDatepicker():$.datepicker._datepickerShowing&&$.datepicker._lastInput!=input[0]?($.datepicker._hideDatepicker(),$.datepicker._showDatepicker(input[0])):$.datepicker._showDatepicker(input[0]),!1})}},_autoSize:function(inst){if(this._get(inst,"autoSize")&&!inst.inline){var date=new Date(2009,11,20),dateFormat=this._get(inst,"dateFormat");if(dateFormat.match(/[DM]/)){var findMax=function(names){for(var max=0,maxI=0,i=0;i<names.length;i++)names[i].length>max&&(max=names[i].length,maxI=i);return maxI};date.setMonth(findMax(this._get(inst,dateFormat.match(/MM/)?"monthNames":"monthNamesShort"))),date.setDate(findMax(this._get(inst,dateFormat.match(/DD/)?"dayNames":"dayNamesShort"))+20-date.getDay())}inst.input.attr("size",this._formatDate(inst,date).length)}},_inlineDatepicker:function(target,inst){var divSpan=$(target);divSpan.hasClass(this.markerClassName)||(divSpan.addClass(this.markerClassName).append(inst.dpDiv).bind("setData.datepicker",function(event,key,value){inst.settings[key]=value}).bind("getData.datepicker",function(event,key){return this._get(inst,key)}),$.data(target,PROP_NAME,inst),this._setDate(inst,this._getDefaultDate(inst),!0),this._updateDatepicker(inst),this._updateAlternate(inst),inst.settings.disabled&&this._disableDatepicker(target),inst.dpDiv.css("display","block"))},_dialogDatepicker:function(input,date,onSelect,settings,pos){var inst=this._dialogInst;if(!inst){this.uuid+=1;var id="dp"+this.uuid;this._dialogInput=$('<input type="text" id="'+id+'" style="position: absolute; top: -100px; width: 0px;"/>'),this._dialogInput.keydown(this._doKeyDown),$("body").append(this._dialogInput),(inst=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},$.data(this._dialogInput[0],PROP_NAME,inst)}if(extendRemove(inst.settings,settings||{}),date=date&&date.constructor==Date?this._formatDate(inst,date):date,this._dialogInput.val(date),this._pos=pos?pos.length?pos:[pos.pageX,pos.pageY]:null,!this._pos){var browserWidth=document.documentElement.clientWidth,browserHeight=document.documentElement.clientHeight,scrollX=document.documentElement.scrollLeft||document.body.scrollLeft,scrollY=document.documentElement.scrollTop||document.body.scrollTop;this._pos=[browserWidth/2-100+scrollX,browserHeight/2-150+scrollY]}return this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),inst.settings.onSelect=onSelect,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),$.blockUI&&$.blockUI(this.dpDiv),$.data(this._dialogInput[0],PROP_NAME,inst),this},_destroyDatepicker:function(target){var $target=$(target),inst=$.data(target,PROP_NAME);if($target.hasClass(this.markerClassName)){var nodeName=target.nodeName.toLowerCase();$.removeData(target,PROP_NAME),"input"==nodeName?(inst.append.remove(),inst.trigger.remove(),$target.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!=nodeName&&"span"!=nodeName||$target.removeClass(this.markerClassName).empty()}},_enableDatepicker:function(target){var $target=$(target),inst=$.data(target,PROP_NAME);if($target.hasClass(this.markerClassName)){var nodeName=target.nodeName.toLowerCase();if("input"==nodeName)target.disabled=!1,inst.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if("div"==nodeName||"span"==nodeName){var inline=$target.children("."+this._inlineClass);inline.children().removeClass("ui-state-disabled"),inline.find("select.ui-datepicker-month, select.ui-datepicker-year").removeAttr("disabled")}this._disabledInputs=$.map(this._disabledInputs,function(value){return value==target?null:value})}},_disableDatepicker:function(target){var $target=$(target),inst=$.data(target,PROP_NAME);if($target.hasClass(this.markerClassName)){var nodeName=target.nodeName.toLowerCase();if("input"==nodeName)target.disabled=!0,inst.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if("div"==nodeName||"span"==nodeName){var inline=$target.children("."+this._inlineClass);inline.children().addClass("ui-state-disabled"),inline.find("select.ui-datepicker-month, select.ui-datepicker-year").attr("disabled","disabled")}this._disabledInputs=$.map(this._disabledInputs,function(value){return value==target?null:value}),this._disabledInputs[this._disabledInputs.length]=target}},_isDisabledDatepicker:function(target){if(!target)return!1;for(var i=0;i<this._disabledInputs.length;i++)if(this._disabledInputs[i]==target)return!0;return!1},_getInst:function(target){try{return $.data(target,PROP_NAME)}catch(err){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(target,name,value){var inst=this._getInst(target);if(2==arguments.length&&"string"==typeof name)return"defaults"==name?$.extend({},$.datepicker._defaults):inst?"all"==name?$.extend({},inst.settings):this._get(inst,name):null;var settings=name||{};if("string"==typeof name&&((settings={})[name]=value),inst){this._curInst==inst&&this._hideDatepicker();var date=this._getDateDatepicker(target,!0),minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max");extendRemove(inst.settings,settings),null!==minDate&&settings.dateFormat!==undefined&&settings.minDate===undefined&&(inst.settings.minDate=this._formatDate(inst,minDate)),null!==maxDate&&settings.dateFormat!==undefined&&settings.maxDate===undefined&&(inst.settings.maxDate=this._formatDate(inst,maxDate)),this._attachments($(target),inst),this._autoSize(inst),this._setDate(inst,date),this._updateAlternate(inst),this._updateDatepicker(inst)}},_changeDatepicker:function(target,name,value){this._optionDatepicker(target,name,value)},_refreshDatepicker:function(target){var inst=this._getInst(target);inst&&this._updateDatepicker(inst)},_setDateDatepicker:function(target,date){var inst=this._getInst(target);inst&&(this._setDate(inst,date),this._updateDatepicker(inst),this._updateAlternate(inst))},_getDateDatepicker:function(target,noDefault){var inst=this._getInst(target);return inst&&!inst.inline&&this._setDateFromField(inst,noDefault),inst?this._getDate(inst):null},_doKeyDown:function(event){var inst=$.datepicker._getInst(event.target),handled=!0,isRTL=inst.dpDiv.is(".ui-datepicker-rtl");if(inst._keyEvent=!0,$.datepicker._datepickerShowing)switch(event.keyCode){case 9:$.datepicker._hideDatepicker(),handled=!1;break;case 13:var sel=$("td."+$.datepicker._dayOverClass+":not(."+$.datepicker._currentClass+")",inst.dpDiv);sel[0]&&$.datepicker._selectDay(event.target,inst.selectedMonth,inst.selectedYear,sel[0]);var onSelect=$.datepicker._get(inst,"onSelect");if(onSelect){var dateStr=$.datepicker._formatDate(inst);onSelect.apply(inst.input?inst.input[0]:null,[dateStr,inst])}else $.datepicker._hideDatepicker();return!1;case 27:$.datepicker._hideDatepicker();break;case 33:$.datepicker._adjustDate(event.target,event.ctrlKey?-$.datepicker._get(inst,"stepBigMonths"):-$.datepicker._get(inst,"stepMonths"),"M");break;case 34:$.datepicker._adjustDate(event.target,event.ctrlKey?+$.datepicker._get(inst,"stepBigMonths"):+$.datepicker._get(inst,"stepMonths"),"M");break;case 35:(event.ctrlKey||event.metaKey)&&$.datepicker._clearDate(event.target),handled=event.ctrlKey||event.metaKey;break;case 36:(event.ctrlKey||event.metaKey)&&$.datepicker._gotoToday(event.target),handled=event.ctrlKey||event.metaKey;break;case 37:(event.ctrlKey||event.metaKey)&&$.datepicker._adjustDate(event.target,isRTL?1:-1,"D"),handled=event.ctrlKey||event.metaKey,event.originalEvent.altKey&&$.datepicker._adjustDate(event.target,event.ctrlKey?-$.datepicker._get(inst,"stepBigMonths"):-$.datepicker._get(inst,"stepMonths"),"M");break;case 38:(event.ctrlKey||event.metaKey)&&$.datepicker._adjustDate(event.target,-7,"D"),handled=event.ctrlKey||event.metaKey;break;case 39:(event.ctrlKey||event.metaKey)&&$.datepicker._adjustDate(event.target,isRTL?-1:1,"D"),handled=event.ctrlKey||event.metaKey,event.originalEvent.altKey&&$.datepicker._adjustDate(event.target,event.ctrlKey?+$.datepicker._get(inst,"stepBigMonths"):+$.datepicker._get(inst,"stepMonths"),"M");break;case 40:(event.ctrlKey||event.metaKey)&&$.datepicker._adjustDate(event.target,7,"D"),handled=event.ctrlKey||event.metaKey;break;default:handled=!1}else 36==event.keyCode&&event.ctrlKey?$.datepicker._showDatepicker(this):handled=!1;handled&&(event.preventDefault(),event.stopPropagation())},_doKeyPress:function(event){var inst=$.datepicker._getInst(event.target);if($.datepicker._get(inst,"constrainInput")){var chars=$.datepicker._possibleChars($.datepicker._get(inst,"dateFormat")),chr=String.fromCharCode(event.charCode==undefined?event.keyCode:event.charCode);return event.ctrlKey||event.metaKey||chr<" "||!chars||chars.indexOf(chr)>-1}},_doKeyUp:function(event){var inst=$.datepicker._getInst(event.target);if(inst.input.val()!=inst.lastVal)try{$.datepicker.parseDate($.datepicker._get(inst,"dateFormat"),inst.input?inst.input.val():null,$.datepicker._getFormatConfig(inst))&&($.datepicker._setDateFromField(inst),$.datepicker._updateAlternate(inst),$.datepicker._updateDatepicker(inst))}catch(err){$.datepicker.log(err)}return!0},_showDatepicker:function(input){if("input"!=(input=input.target||input).nodeName.toLowerCase()&&(input=$("input",input.parentNode)[0]),!$.datepicker._isDisabledDatepicker(input)&&$.datepicker._lastInput!=input){var inst=$.datepicker._getInst(input);$.datepicker._curInst&&$.datepicker._curInst!=inst&&($.datepicker._curInst.dpDiv.stop(!0,!0),inst&&$.datepicker._datepickerShowing&&$.datepicker._hideDatepicker($.datepicker._curInst.input[0]));var beforeShow=$.datepicker._get(inst,"beforeShow"),beforeShowSettings=beforeShow?beforeShow.apply(input,[input,inst]):{};if(!1!==beforeShowSettings){extendRemove(inst.settings,beforeShowSettings),inst.lastVal=null,$.datepicker._lastInput=input,$.datepicker._setDateFromField(inst),$.datepicker._inDialog&&(input.value=""),$.datepicker._pos||($.datepicker._pos=$.datepicker._findPos(input),$.datepicker._pos[1]+=input.offsetHeight);var isFixed=!1;$(input).parents().each(function(){return!(isFixed|="fixed"==$(this).css("position"))}),isFixed&&$.browser.opera&&($.datepicker._pos[0]-=document.documentElement.scrollLeft,$.datepicker._pos[1]-=document.documentElement.scrollTop);var offset={left:$.datepicker._pos[0],top:$.datepicker._pos[1]};if($.datepicker._pos=null,inst.dpDiv.empty(),inst.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),$.datepicker._updateDatepicker(inst),offset=$.datepicker._checkOffset(inst,offset,isFixed),inst.dpDiv.css({position:$.datepicker._inDialog&&$.blockUI?"static":isFixed?"fixed":"absolute",display:"none",left:offset.left+"px",top:offset.top+"px"}),!inst.inline){var showAnim=$.datepicker._get(inst,"showAnim"),duration=$.datepicker._get(inst,"duration"),postProcess=function(){var cover=inst.dpDiv.find("iframe.ui-datepicker-cover");if(cover.length){var borders=$.datepicker._getBorders(inst.dpDiv);cover.css({left:-borders[0],top:-borders[1],width:inst.dpDiv.outerWidth(),height:inst.dpDiv.outerHeight()})}};inst.dpDiv.zIndex($(input).zIndex()+1),$.datepicker._datepickerShowing=!0,$.effects&&$.effects[showAnim]?inst.dpDiv.show(showAnim,$.datepicker._get(inst,"showOptions"),duration,postProcess):inst.dpDiv[showAnim||"show"](showAnim?duration:null,postProcess),showAnim&&duration||postProcess(),inst.input.is(":visible")&&!inst.input.is(":disabled")&&inst.input.focus(),$.datepicker._curInst=inst}}}},_updateDatepicker:function(inst){this.maxRows=4;var borders=$.datepicker._getBorders(inst.dpDiv);instActive=inst,inst.dpDiv.empty().append(this._generateHTML(inst)),this._attachHandlers(inst);var cover=inst.dpDiv.find("iframe.ui-datepicker-cover");cover.length&&cover.css({left:-borders[0],top:-borders[1],width:inst.dpDiv.outerWidth(),height:inst.dpDiv.outerHeight()}),inst.dpDiv.find("."+this._dayOverClass+" a").mouseover();var numMonths=this._getNumberOfMonths(inst),cols=numMonths[1];if(inst.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),cols>1&&inst.dpDiv.addClass("ui-datepicker-multi-"+cols).css("width",17*cols+"em"),inst.dpDiv[(1!=numMonths[0]||1!=numMonths[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),inst.dpDiv[(this._get(inst,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),inst==$.datepicker._curInst&&$.datepicker._datepickerShowing&&inst.input&&inst.input.is(":visible")&&!inst.input.is(":disabled")&&inst.input[0]!=document.activeElement&&inst.input.focus(),inst.yearshtml){var origyearshtml=inst.yearshtml;setTimeout(function(){origyearshtml===inst.yearshtml&&inst.yearshtml&&inst.dpDiv.find("select.ui-datepicker-year:first").replaceWith(inst.yearshtml),origyearshtml=inst.yearshtml=null},0)}},_getBorders:function(elem){var convert=function(value){return{thin:1,medium:2,thick:3}[value]||value};return[parseFloat(convert(elem.css("border-left-width"))),parseFloat(convert(elem.css("border-top-width")))]},_checkOffset:function(inst,offset,isFixed){var dpWidth=inst.dpDiv.outerWidth(),dpHeight=inst.dpDiv.outerHeight(),inputWidth=inst.input?inst.input.outerWidth():0,inputHeight=inst.input?inst.input.outerHeight():0,viewWidth=document.documentElement.clientWidth+(isFixed?0:$(document).scrollLeft()),viewHeight=document.documentElement.clientHeight+(isFixed?0:$(document).scrollTop());return offset.left-=this._get(inst,"isRTL")?dpWidth-inputWidth:0,offset.left-=isFixed&&offset.left==inst.input.offset().left?$(document).scrollLeft():0,offset.top-=isFixed&&offset.top==inst.input.offset().top+inputHeight?$(document).scrollTop():0,offset.left-=Math.min(offset.left,offset.left+dpWidth>viewWidth&&viewWidth>dpWidth?Math.abs(offset.left+dpWidth-viewWidth):0),offset.top-=Math.min(offset.top,offset.top+dpHeight>viewHeight&&viewHeight>dpHeight?Math.abs(dpHeight+inputHeight):0),offset},_findPos:function(obj){for(var inst=this._getInst(obj),isRTL=this._get(inst,"isRTL");obj&&("hidden"==obj.type||1!=obj.nodeType||$.expr.filters.hidden(obj));)obj=obj[isRTL?"previousSibling":"nextSibling"];var position=$(obj).offset();return[position.left,position.top]},_hideDatepicker:function(input){var inst=this._curInst;if(inst&&(!input||inst==$.data(input,PROP_NAME))&&this._datepickerShowing){var showAnim=this._get(inst,"showAnim"),duration=this._get(inst,"duration"),postProcess=function(){$.datepicker._tidyDialog(inst)};$.effects&&$.effects[showAnim]?inst.dpDiv.hide(showAnim,$.datepicker._get(inst,"showOptions"),duration,postProcess):inst.dpDiv["slideDown"==showAnim?"slideUp":"fadeIn"==showAnim?"fadeOut":"hide"](showAnim?duration:null,postProcess),showAnim||postProcess(),this._datepickerShowing=!1;var onClose=this._get(inst,"onClose");onClose&&onClose.apply(inst.input?inst.input[0]:null,[inst.input?inst.input.val():"",inst]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),$.blockUI&&($.unblockUI(),$("body").append(this.dpDiv))),this._inDialog=!1}},_tidyDialog:function(inst){inst.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(event){if($.datepicker._curInst){var $target=$(event.target),inst=$.datepicker._getInst($target[0]);($target[0].id==$.datepicker._mainDivId||0!=$target.parents("#"+$.datepicker._mainDivId).length||$target.hasClass($.datepicker.markerClassName)||$target.closest("."+$.datepicker._triggerClass).length||!$.datepicker._datepickerShowing||$.datepicker._inDialog&&$.blockUI)&&(!$target.hasClass($.datepicker.markerClassName)||$.datepicker._curInst==inst)||$.datepicker._hideDatepicker()}},_adjustDate:function(id,offset,period){var target=$(id),inst=this._getInst(target[0]);this._isDisabledDatepicker(target[0])||(this._adjustInstDate(inst,offset+("M"==period?this._get(inst,"showCurrentAtPos"):0),period),this._updateDatepicker(inst))},_gotoToday:function(id){var target=$(id),inst=this._getInst(target[0]);if(this._get(inst,"gotoCurrent")&&inst.currentDay)inst.selectedDay=inst.currentDay,inst.drawMonth=inst.selectedMonth=inst.currentMonth,inst.drawYear=inst.selectedYear=inst.currentYear;else{var date=new Date;inst.selectedDay=date.getDate(),inst.drawMonth=inst.selectedMonth=date.getMonth(),inst.drawYear=inst.selectedYear=date.getFullYear()}this._notifyChange(inst),this._adjustDate(target)},_selectMonthYear:function(id,select,period){var target=$(id),inst=this._getInst(target[0]);inst["selected"+("M"==period?"Month":"Year")]=inst["draw"+("M"==period?"Month":"Year")]=parseInt(select.options[select.selectedIndex].value,10),this._notifyChange(inst),this._adjustDate(target)},_selectDay:function(id,month,year,td){var target=$(id);if(!$(td).hasClass(this._unselectableClass)&&!this._isDisabledDatepicker(target[0])){var inst=this._getInst(target[0]);inst.selectedDay=inst.currentDay=$("a",td).html(),inst.selectedMonth=inst.currentMonth=month,inst.selectedYear=inst.currentYear=year,this._selectDate(id,this._formatDate(inst,inst.currentDay,inst.currentMonth,inst.currentYear))}},_clearDate:function(id){var target=$(id);this._getInst(target[0]);this._selectDate(target,"")},_selectDate:function(id,dateStr){var target=$(id),inst=this._getInst(target[0]);dateStr=null!=dateStr?dateStr:this._formatDate(inst),inst.input&&inst.input.val(dateStr),this._updateAlternate(inst);var onSelect=this._get(inst,"onSelect");onSelect?onSelect.apply(inst.input?inst.input[0]:null,[dateStr,inst]):inst.input&&inst.input.trigger("change"),inst.inline?this._updateDatepicker(inst):(this._hideDatepicker(),this._lastInput=inst.input[0],"object"!=typeof inst.input[0]&&inst.input.focus(),this._lastInput=null)},_updateAlternate:function(inst){var altField=this._get(inst,"altField");if(altField){var altFormat=this._get(inst,"altFormat")||this._get(inst,"dateFormat"),date=this._getDate(inst),dateStr=this.formatDate(altFormat,date,this._getFormatConfig(inst));$(altField).each(function(){$(this).val(dateStr)})}},noWeekends:function(date){var day=date.getDay();return[day>0&&day<6,""]},iso8601Week:function(date){var checkDate=new Date(date.getTime());checkDate.setDate(checkDate.getDate()+4-(checkDate.getDay()||7));var time=checkDate.getTime();return checkDate.setMonth(0),checkDate.setDate(1),Math.floor(Math.round((time-checkDate)/864e5)/7)+1},parseDate:function(format,value,settings){if(null==format||null==value)throw"Invalid arguments";if(""==(value="object"==typeof value?value.toString():value+""))return null;var shortYearCutoff=(settings?settings.shortYearCutoff:null)||this._defaults.shortYearCutoff;shortYearCutoff="string"!=typeof shortYearCutoff?shortYearCutoff:(new Date).getFullYear()%100+parseInt(shortYearCutoff,10);for(var dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort,dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames,monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort,monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames,year=-1,month=-1,day=-1,doy=-1,literal=!1,lookAhead=function(match){var matches=iFormat+1<format.length&&format.charAt(iFormat+1)==match;return matches&&iFormat++,matches},getNumber=function(match){var isDoubled=lookAhead(match),digits=new RegExp("^\\d{1,"+("@"==match?14:"!"==match?20:"y"==match&&isDoubled?4:"o"==match?3:2)+"}"),num=value.substring(iValue).match(digits);if(!num)throw"Missing number at position "+iValue;return iValue+=num[0].length,parseInt(num[0],10)},getName=function(match,shortNames,longNames){var names=$.map(lookAhead(match)?longNames:shortNames,function(v,k){return[[k,v]]}).sort(function(a,b){return-(a[1].length-b[1].length)}),index=-1;if($.each(names,function(i,pair){var name=pair[1];if(value.substr(iValue,name.length).toLowerCase()==name.toLowerCase())return index=pair[0],iValue+=name.length,!1}),-1!=index)return index+1;throw"Unknown name at position "+iValue},checkLiteral=function(){if(value.charAt(iValue)!=format.charAt(iFormat))throw"Unexpected literal at position "+iValue;iValue++},iValue=0,iFormat=0;iFormat<format.length;iFormat++)if(literal)"'"!=format.charAt(iFormat)||lookAhead("'")?checkLiteral():literal=!1;else switch(format.charAt(iFormat)){case"d":day=getNumber("d");break;case"D":getName("D",dayNamesShort,dayNames);break;case"o":doy=getNumber("o");break;case"m":month=getNumber("m");break;case"M":month=getName("M",monthNamesShort,monthNames);break;case"y":year=getNumber("y");break;case"@":year=(date=new Date(getNumber("@"))).getFullYear(),month=date.getMonth()+1,day=date.getDate();break;case"!":var date;year=(date=new Date((getNumber("!")-this._ticksTo1970)/1e4)).getFullYear(),month=date.getMonth()+1,day=date.getDate();break;case"'":lookAhead("'")?checkLiteral():literal=!0;break;default:checkLiteral()}if(iValue<value.length)throw"Extra/unparsed characters found in date: "+value.substring(iValue);if(-1==year?year=(new Date).getFullYear():year<100&&(year+=(new Date).getFullYear()-(new Date).getFullYear()%100+(year<=shortYearCutoff?0:-100)),doy>-1)for(month=1,day=doy;;){var dim=this._getDaysInMonth(year,month-1);if(day<=dim)break;month++,day-=dim}if((date=this._daylightSavingAdjust(new Date(year,month-1,day))).getFullYear()!=year||date.getMonth()+1!=month||date.getDate()!=day)throw"Invalid date";return date},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(format,date,settings){if(!date)return"";var dayNamesShort=(settings?settings.dayNamesShort:null)||this._defaults.dayNamesShort,dayNames=(settings?settings.dayNames:null)||this._defaults.dayNames,monthNamesShort=(settings?settings.monthNamesShort:null)||this._defaults.monthNamesShort,monthNames=(settings?settings.monthNames:null)||this._defaults.monthNames,lookAhead=function(match){var matches=iFormat+1<format.length&&format.charAt(iFormat+1)==match;return matches&&iFormat++,matches},formatNumber=function(match,value,len){var num=""+value;if(lookAhead(match))for(;num.length<len;)num="0"+num;return num},formatName=function(match,value,shortNames,longNames){return lookAhead(match)?longNames[value]:shortNames[value]},output="",literal=!1;if(date)for(var iFormat=0;iFormat<format.length;iFormat++)if(literal)"'"!=format.charAt(iFormat)||lookAhead("'")?output+=format.charAt(iFormat):literal=!1;else switch(format.charAt(iFormat)){case"d":output+=formatNumber("d",date.getDate(),2);break;case"D":output+=formatName("D",date.getDay(),dayNamesShort,dayNames);break;case"o":output+=formatNumber("o",Math.round((new Date(date.getFullYear(),date.getMonth(),date.getDate()).getTime()-new Date(date.getFullYear(),0,0).getTime())/864e5),3);break;case"m":output+=formatNumber("m",date.getMonth()+1,2);break;case"M":output+=formatName("M",date.getMonth(),monthNamesShort,monthNames);break;case"y":output+=lookAhead("y")?date.getFullYear():(date.getYear()%100<10?"0":"")+date.getYear()%100;break;case"@":output+=date.getTime();break;case"!":output+=1e4*date.getTime()+this._ticksTo1970;break;case"'":lookAhead("'")?output+="'":literal=!0;break;default:output+=format.charAt(iFormat)}return output},_possibleChars:function(format){for(var chars="",literal=!1,lookAhead=function(match){var matches=iFormat+1<format.length&&format.charAt(iFormat+1)==match;return matches&&iFormat++,matches},iFormat=0;iFormat<format.length;iFormat++)if(literal)"'"!=format.charAt(iFormat)||lookAhead("'")?chars+=format.charAt(iFormat):literal=!1;else switch(format.charAt(iFormat)){case"d":case"m":case"y":case"@":chars+="0123456789";break;case"D":case"M":return null;case"'":lookAhead("'")?chars+="'":literal=!0;break;default:chars+=format.charAt(iFormat)}return chars},_get:function(inst,name){return inst.settings[name]!==undefined?inst.settings[name]:this._defaults[name]},_setDateFromField:function(inst,noDefault){if(inst.input.val()!=inst.lastVal){var date,defaultDate,dateFormat=this._get(inst,"dateFormat"),dates=inst.lastVal=inst.input?inst.input.val():null;date=defaultDate=this._getDefaultDate(inst);var settings=this._getFormatConfig(inst);try{date=this.parseDate(dateFormat,dates,settings)||defaultDate}catch(event){this.log(event),dates=noDefault?"":dates}inst.selectedDay=date.getDate(),inst.drawMonth=inst.selectedMonth=date.getMonth(),inst.drawYear=inst.selectedYear=date.getFullYear(),inst.currentDay=dates?date.getDate():0,inst.currentMonth=dates?date.getMonth():0,inst.currentYear=dates?date.getFullYear():0,this._adjustInstDate(inst)}},_getDefaultDate:function(inst){return this._restrictMinMax(inst,this._determineDate(inst,this._get(inst,"defaultDate"),new Date))},_determineDate:function(inst,date,defaultDate){var newDate=null==date||""===date?defaultDate:"string"==typeof date?function(offset){try{return $.datepicker.parseDate($.datepicker._get(inst,"dateFormat"),offset,$.datepicker._getFormatConfig(inst))}catch(e){}for(var date=(offset.toLowerCase().match(/^c/)?$.datepicker._getDate(inst):null)||new Date,year=date.getFullYear(),month=date.getMonth(),day=date.getDate(),pattern=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,matches=pattern.exec(offset);matches;){switch(matches[2]||"d"){case"d":case"D":day+=parseInt(matches[1],10);break;case"w":case"W":day+=7*parseInt(matches[1],10);break;case"m":case"M":month+=parseInt(matches[1],10),day=Math.min(day,$.datepicker._getDaysInMonth(year,month));break;case"y":case"Y":year+=parseInt(matches[1],10),day=Math.min(day,$.datepicker._getDaysInMonth(year,month))}matches=pattern.exec(offset)}return new Date(year,month,day)}(date):"number"==typeof date?isNaN(date)?defaultDate:function(offset){var date=new Date;return date.setDate(date.getDate()+offset),date}(date):new Date(date.getTime());return(newDate=newDate&&"Invalid Date"==newDate.toString()?defaultDate:newDate)&&(newDate.setHours(0),newDate.setMinutes(0),newDate.setSeconds(0),newDate.setMilliseconds(0)),this._daylightSavingAdjust(newDate)},_daylightSavingAdjust:function(date){return date?(date.setHours(date.getHours()>12?date.getHours()+2:0),date):null},_setDate:function(inst,date,noChange){var clear=!date,origMonth=inst.selectedMonth,origYear=inst.selectedYear,newDate=this._restrictMinMax(inst,this._determineDate(inst,date,new Date));inst.selectedDay=inst.currentDay=newDate.getDate(),inst.drawMonth=inst.selectedMonth=inst.currentMonth=newDate.getMonth(),inst.drawYear=inst.selectedYear=inst.currentYear=newDate.getFullYear(),origMonth==inst.selectedMonth&&origYear==inst.selectedYear||noChange||this._notifyChange(inst),this._adjustInstDate(inst),inst.input&&inst.input.val(clear?"":this._formatDate(inst))},_getDate:function(inst){return!inst.currentYear||inst.input&&""==inst.input.val()?null:this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay))},_attachHandlers:function(inst){var stepMonths=this._get(inst,"stepMonths"),id="#"+inst.id.replace(/\\\\/g,"\\");inst.dpDiv.find("[data-handler]").map(function(){var handler={prev:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(id,-stepMonths,"M")},next:function(){window["DP_jQuery_"+dpuuid].datepicker._adjustDate(id,+stepMonths,"M")},hide:function(){window["DP_jQuery_"+dpuuid].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+dpuuid].datepicker._gotoToday(id)},selectDay:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectDay(id,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(id,this,"M"),!1},selectYear:function(){return window["DP_jQuery_"+dpuuid].datepicker._selectMonthYear(id,this,"Y"),!1}};$(this).bind(this.getAttribute("data-event"),handler[this.getAttribute("data-handler")])})},_generateHTML:function(inst){var today=new Date;today=this._daylightSavingAdjust(new Date(today.getFullYear(),today.getMonth(),today.getDate()));var isRTL=this._get(inst,"isRTL"),showButtonPanel=this._get(inst,"showButtonPanel"),hideIfNoPrevNext=this._get(inst,"hideIfNoPrevNext"),navigationAsDateFormat=this._get(inst,"navigationAsDateFormat"),numMonths=this._getNumberOfMonths(inst),showCurrentAtPos=this._get(inst,"showCurrentAtPos"),stepMonths=this._get(inst,"stepMonths"),isMultiMonth=1!=numMonths[0]||1!=numMonths[1],currentDate=this._daylightSavingAdjust(inst.currentDay?new Date(inst.currentYear,inst.currentMonth,inst.currentDay):new Date(9999,9,9)),minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max"),drawMonth=inst.drawMonth-showCurrentAtPos,drawYear=inst.drawYear;if(drawMonth<0&&(drawMonth+=12,drawYear--),maxDate){var maxDraw=this._daylightSavingAdjust(new Date(maxDate.getFullYear(),maxDate.getMonth()-numMonths[0]*numMonths[1]+1,maxDate.getDate()));for(maxDraw=minDate&&maxDraw<minDate?minDate:maxDraw;this._daylightSavingAdjust(new Date(drawYear,drawMonth,1))>maxDraw;)--drawMonth<0&&(drawMonth=11,drawYear--)}inst.drawMonth=drawMonth,inst.drawYear=drawYear;var prevText=this._get(inst,"prevText");prevText=navigationAsDateFormat?this.formatDate(prevText,this._daylightSavingAdjust(new Date(drawYear,drawMonth-stepMonths,1)),this._getFormatConfig(inst)):prevText;var prev=this._canAdjustMonth(inst,-1,drawYear,drawMonth)?'<a class="ui-datepicker-prev ui-corner-all" data-handler="prev" data-event="click" title="'+prevText+'"><span class="ui-icon ui-icon-circle-triangle-'+(isRTL?"e":"w")+'">'+prevText+"</span></a>":hideIfNoPrevNext?"":'<a class="ui-datepicker-prev ui-corner-all ui-state-disabled" title="'+prevText+'"><span class="ui-icon ui-icon-circle-triangle-'+(isRTL?"e":"w")+'">'+prevText+"</span></a>",nextText=this._get(inst,"nextText");nextText=navigationAsDateFormat?this.formatDate(nextText,this._daylightSavingAdjust(new Date(drawYear,drawMonth+stepMonths,1)),this._getFormatConfig(inst)):nextText;var next=this._canAdjustMonth(inst,1,drawYear,drawMonth)?'<a class="ui-datepicker-next ui-corner-all" data-handler="next" data-event="click" title="'+nextText+'"><span class="ui-icon ui-icon-circle-triangle-'+(isRTL?"w":"e")+'">'+nextText+"</span></a>":hideIfNoPrevNext?"":'<a class="ui-datepicker-next ui-corner-all ui-state-disabled" title="'+nextText+'"><span class="ui-icon ui-icon-circle-triangle-'+(isRTL?"w":"e")+'">'+nextText+"</span></a>",currentText=this._get(inst,"currentText"),gotoDate=this._get(inst,"gotoCurrent")&&inst.currentDay?currentDate:today;currentText=navigationAsDateFormat?this.formatDate(currentText,gotoDate,this._getFormatConfig(inst)):currentText;var controls=inst.inline?"":'<button type="button" class="ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all" data-handler="hide" data-event="click">'+this._get(inst,"closeText")+"</button>",buttonPanel=showButtonPanel?'<div class="ui-datepicker-buttonpane ui-widget-content">'+(isRTL?controls:"")+(this._isInRange(inst,gotoDate)?'<button type="button" class="ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all" data-handler="today" data-event="click">'+currentText+"</button>":"")+(isRTL?"":controls)+"</div>":"",firstDay=parseInt(this._get(inst,"firstDay"),10);firstDay=isNaN(firstDay)?0:firstDay;for(var showWeek=this._get(inst,"showWeek"),dayNames=this._get(inst,"dayNames"),dayNamesMin=(this._get(inst,"dayNamesShort"),this._get(inst,"dayNamesMin")),monthNames=this._get(inst,"monthNames"),monthNamesShort=this._get(inst,"monthNamesShort"),beforeShowDay=this._get(inst,"beforeShowDay"),showOtherMonths=this._get(inst,"showOtherMonths"),selectOtherMonths=this._get(inst,"selectOtherMonths"),defaultDate=(this._get(inst,"calculateWeek")||this.iso8601Week,this._getDefaultDate(inst)),html="",row=0;row<numMonths[0];row++){var group="";this.maxRows=4;for(var col=0;col<numMonths[1];col++){var selectedDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,inst.selectedDay)),cornerClass=" ui-corner-all",calender="";if(isMultiMonth){if(calender+='<div class="ui-datepicker-group',numMonths[1]>1)switch(col){case 0:calender+=" ui-datepicker-group-first",cornerClass=" ui-corner-"+(isRTL?"right":"left");break;case numMonths[1]-1:calender+=" ui-datepicker-group-last",cornerClass=" ui-corner-"+(isRTL?"left":"right");break;default:calender+=" ui-datepicker-group-middle",cornerClass=""}calender+='">'}calender+='<div class="ui-datepicker-header ui-widget-header ui-helper-clearfix'+cornerClass+'">'+(/all|left/.test(cornerClass)&&0==row?isRTL?next:prev:"")+(/all|right/.test(cornerClass)&&0==row?isRTL?prev:next:"")+this._generateMonthYearHeader(inst,drawMonth,drawYear,minDate,maxDate,row>0||col>0,monthNames,monthNamesShort)+'</div><table class="ui-datepicker-calendar"><thead><tr>';for(var thead=showWeek?'<th class="ui-datepicker-week-col">'+this._get(inst,"weekHeader")+"</th>":"",dow=0;dow<7;dow++){var day=(dow+firstDay)%7;thead+="<th"+((dow+firstDay+6)%7>=5?' class="ui-datepicker-week-end"':"")+'><span title="'+dayNames[day]+'">'+dayNamesMin[day]+"</span></th>"}calender+=thead+"</tr></thead><tbody>";var daysInMonth=this._getDaysInMonth(drawYear,drawMonth);drawYear==inst.selectedYear&&drawMonth==inst.selectedMonth&&(inst.selectedDay=Math.min(inst.selectedDay,daysInMonth));var leadDays=(this._getFirstDayOfMonth(drawYear,drawMonth)-firstDay+7)%7,curRows=Math.ceil((leadDays+daysInMonth)/7),numRows=isMultiMonth&&this.maxRows>curRows?this.maxRows:curRows;this.maxRows=numRows;for(var printDate=this._daylightSavingAdjust(new Date(drawYear,drawMonth,1-leadDays)),dRow=0;dRow<numRows;dRow++){calender+="<tr>";var tbody=showWeek?'<td class="ui-datepicker-week-col">'+this._get(inst,"calculateWeek")(printDate)+"</td>":"";for(dow=0;dow<7;dow++){var daySettings=beforeShowDay?beforeShowDay.apply(inst.input?inst.input[0]:null,[printDate]):[!0,""],otherMonth=printDate.getMonth()!=drawMonth,unselectable=otherMonth&&!selectOtherMonths||!daySettings[0]||minDate&&printDate<minDate||maxDate&&printDate>maxDate;tbody+='<td class="'+((dow+firstDay+6)%7>=5?" ui-datepicker-week-end":"")+(otherMonth?" ui-datepicker-other-month":"")+(printDate.getTime()==selectedDate.getTime()&&drawMonth==inst.selectedMonth&&inst._keyEvent||defaultDate.getTime()==printDate.getTime()&&defaultDate.getTime()==selectedDate.getTime()?" "+this._dayOverClass:"")+(unselectable?" "+this._unselectableClass+" ui-state-disabled":"")+(otherMonth&&!showOtherMonths?"":" "+daySettings[1]+(printDate.getTime()==currentDate.getTime()?" "+this._currentClass:"")+(printDate.getTime()==today.getTime()?" ui-datepicker-today":""))+'"'+(otherMonth&&!showOtherMonths||!daySettings[2]?"":' title="'+daySettings[2]+'"')+(unselectable?"":' data-handler="selectDay" data-event="click" data-month="'+printDate.getMonth()+'" data-year="'+printDate.getFullYear()+'"')+">"+(otherMonth&&!showOtherMonths?"&#xa0;":unselectable?'<span class="ui-state-default">'+printDate.getDate()+"</span>":'<a class="ui-state-default'+(printDate.getTime()==today.getTime()?" ui-state-highlight":"")+(printDate.getTime()==currentDate.getTime()?" ui-state-active":"")+(otherMonth?" ui-priority-secondary":"")+'" href="#">'+printDate.getDate()+"</a>")+"</td>",printDate.setDate(printDate.getDate()+1),printDate=this._daylightSavingAdjust(printDate)}calender+=tbody+"</tr>"}++drawMonth>11&&(drawMonth=0,drawYear++),group+=calender+="</tbody></table>"+(isMultiMonth?"</div>"+(numMonths[0]>0&&col==numMonths[1]-1?'<div class="ui-datepicker-row-break"></div>':""):"")}html+=group}return html+=buttonPanel+($.browser.msie&&parseInt($.browser.version,10)<7&&!inst.inline?'<iframe src="javascript:false;" class="ui-datepicker-cover" frameborder="0"></iframe>':""),inst._keyEvent=!1,html},_generateMonthYearHeader:function(inst,drawMonth,drawYear,minDate,maxDate,secondary,monthNames,monthNamesShort){var changeMonth=this._get(inst,"changeMonth"),changeYear=this._get(inst,"changeYear"),showMonthAfterYear=this._get(inst,"showMonthAfterYear"),html='<div class="ui-datepicker-title">',monthHtml="";if(secondary||!changeMonth)monthHtml+='<span class="ui-datepicker-month">'+monthNames[drawMonth]+"</span>";else{var inMinYear=minDate&&minDate.getFullYear()==drawYear,inMaxYear=maxDate&&maxDate.getFullYear()==drawYear;monthHtml+='<select class="ui-datepicker-month" data-handler="selectMonth" data-event="change">';for(var month=0;month<12;month++)(!inMinYear||month>=minDate.getMonth())&&(!inMaxYear||month<=maxDate.getMonth())&&(monthHtml+='<option value="'+month+'"'+(month==drawMonth?' selected="selected"':"")+">"+monthNamesShort[month]+"</option>");monthHtml+="</select>"}if(showMonthAfterYear||(html+=monthHtml+(!secondary&&changeMonth&&changeYear?"":"&#xa0;")),!inst.yearshtml)if(inst.yearshtml="",secondary||!changeYear)html+='<span class="ui-datepicker-year">'+drawYear+"</span>";else{var years=this._get(inst,"yearRange").split(":"),thisYear=(new Date).getFullYear(),determineYear=function(value){var year=value.match(/c[+-].*/)?drawYear+parseInt(value.substring(1),10):value.match(/[+-].*/)?thisYear+parseInt(value,10):parseInt(value,10);return isNaN(year)?thisYear:year},year=determineYear(years[0]),endYear=Math.max(year,determineYear(years[1]||""));for(year=minDate?Math.max(year,minDate.getFullYear()):year,endYear=maxDate?Math.min(endYear,maxDate.getFullYear()):endYear,inst.yearshtml+='<select class="ui-datepicker-year" data-handler="selectYear" data-event="change">';year<=endYear;year++)inst.yearshtml+='<option value="'+year+'"'+(year==drawYear?' selected="selected"':"")+">"+year+"</option>";inst.yearshtml+="</select>",html+=inst.yearshtml,inst.yearshtml=null}return html+=this._get(inst,"yearSuffix"),showMonthAfterYear&&(html+=(!secondary&&changeMonth&&changeYear?"":"&#xa0;")+monthHtml),html+="</div>"},_adjustInstDate:function(inst,offset,period){var year=inst.drawYear+("Y"==period?offset:0),month=inst.drawMonth+("M"==period?offset:0),day=Math.min(inst.selectedDay,this._getDaysInMonth(year,month))+("D"==period?offset:0),date=this._restrictMinMax(inst,this._daylightSavingAdjust(new Date(year,month,day)));inst.selectedDay=date.getDate(),inst.drawMonth=inst.selectedMonth=date.getMonth(),inst.drawYear=inst.selectedYear=date.getFullYear(),"M"!=period&&"Y"!=period||this._notifyChange(inst)},_restrictMinMax:function(inst,date){var minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max"),newDate=minDate&&date<minDate?minDate:date;return newDate=maxDate&&newDate>maxDate?maxDate:newDate},_notifyChange:function(inst){var onChange=this._get(inst,"onChangeMonthYear");onChange&&onChange.apply(inst.input?inst.input[0]:null,[inst.selectedYear,inst.selectedMonth+1,inst])},_getNumberOfMonths:function(inst){var numMonths=this._get(inst,"numberOfMonths");return null==numMonths?[1,1]:"number"==typeof numMonths?[1,numMonths]:numMonths},_getMinMaxDate:function(inst,minMax){return this._determineDate(inst,this._get(inst,minMax+"Date"),null)},_getDaysInMonth:function(year,month){return 32-this._daylightSavingAdjust(new Date(year,month,32)).getDate()},_getFirstDayOfMonth:function(year,month){return new Date(year,month,1).getDay()},_canAdjustMonth:function(inst,offset,curYear,curMonth){var numMonths=this._getNumberOfMonths(inst),date=this._daylightSavingAdjust(new Date(curYear,curMonth+(offset<0?offset:numMonths[0]*numMonths[1]),1));return offset<0&&date.setDate(this._getDaysInMonth(date.getFullYear(),date.getMonth())),this._isInRange(inst,date)},_isInRange:function(inst,date){var minDate=this._getMinMaxDate(inst,"min"),maxDate=this._getMinMaxDate(inst,"max");return(!minDate||date.getTime()>=minDate.getTime())&&(!maxDate||date.getTime()<=maxDate.getTime())},_getFormatConfig:function(inst){var shortYearCutoff=this._get(inst,"shortYearCutoff");return{shortYearCutoff:shortYearCutoff="string"!=typeof shortYearCutoff?shortYearCutoff:(new Date).getFullYear()%100+parseInt(shortYearCutoff,10),dayNamesShort:this._get(inst,"dayNamesShort"),dayNames:this._get(inst,"dayNames"),monthNamesShort:this._get(inst,"monthNamesShort"),monthNames:this._get(inst,"monthNames")}},_formatDate:function(inst,day,month,year){day||(inst.currentDay=inst.selectedDay,inst.currentMonth=inst.selectedMonth,inst.currentYear=inst.selectedYear);var date=day?"object"==typeof day?day:this._daylightSavingAdjust(new Date(year,month,day)):this._daylightSavingAdjust(new Date(inst.currentYear,inst.currentMonth,inst.currentDay));return this.formatDate(this._get(inst,"dateFormat"),date,this._getFormatConfig(inst))}}),$.fn.datepicker=function(options){if(!this.length)return this;$.datepicker.initialized||($(document).mousedown($.datepicker._checkExternalClick).find("body").append($.datepicker.dpDiv),$.datepicker.initialized=!0);var otherArgs=Array.prototype.slice.call(arguments,1);return"string"!=typeof options||"isDisabled"!=options&&"getDate"!=options&&"widget"!=options?"option"==options&&2==arguments.length&&"string"==typeof arguments[1]?$.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this[0]].concat(otherArgs)):this.each(function(){"string"==typeof options?$.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this].concat(otherArgs)):$.datepicker._attachDatepicker(this,options)}):$.datepicker["_"+options+"Datepicker"].apply($.datepicker,[this[0]].concat(otherArgs))},$.datepicker=new Datepicker,$.datepicker.initialized=!1,$.datepicker.uuid=(new Date).getTime(),$.datepicker.version="1.8.23",window["DP_jQuery_"+dpuuid]=$}(jQuery),function($,undefined){$.widget("ui.progressbar",{options:{value:0,max:100},min:0,_create:function(){this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min,"aria-valuemax":this.options.max,"aria-valuenow":this._value()}),this.valueDiv=$("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this.oldValue=this._value(),this._refreshValue()},destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove(),$.Widget.prototype.destroy.apply(this,arguments)},value:function(newValue){return void 0===newValue?this._value():(this._setOption("value",newValue),this)},_setOption:function(key,value){"value"===key&&(this.options.value=value,this._refreshValue(),this._value()===this.options.max&&this._trigger("complete")),$.Widget.prototype._setOption.apply(this,arguments)},_value:function(){var val=this.options.value;return"number"!=typeof val&&(val=0),Math.min(this.options.max,Math.max(this.min,val))},_percentage:function(){return 100*this._value()/this.options.max},_refreshValue:function(){var value=this.value(),percentage=this._percentage();this.oldValue!==value&&(this.oldValue=value,this._trigger("change")),this.valueDiv.toggle(value>this.min).toggleClass("ui-corner-right",value===this.options.max).width(percentage.toFixed(0)+"%"),this.element.attr("aria-valuenow",value)}}),$.extend($.ui.progressbar,{version:"1.8.23"})}(jQuery),jQuery.effects||function($,undefined){function getRGB(color){var result;return color&&color.constructor==Array&&3==color.length?color:(result=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(color))?[parseInt(result[1],10),parseInt(result[2],10),parseInt(result[3],10)]:(result=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(color))?[2.55*parseFloat(result[1]),2.55*parseFloat(result[2]),2.55*parseFloat(result[3])]:(result=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(color))?[parseInt(result[1],16),parseInt(result[2],16),parseInt(result[3],16)]:(result=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(color))?[parseInt(result[1]+result[1],16),parseInt(result[2]+result[2],16),parseInt(result[3]+result[3],16)]:(result=/rgba\(0, 0, 0, 0\)/.exec(color))?colors.transparent:colors[$.trim(color).toLowerCase()]}$.effects={},$.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","borderColor","color","outlineColor"],function(i,attr){$.fx.step[attr]=function(fx){fx.colorInit||(fx.start=function(elem,attr){var color;do{if(""!=(color=($.curCSS||$.css)(elem,attr))&&"transparent"!=color||$.nodeName(elem,"body"))break;attr="backgroundColor"}while(elem=elem.parentNode);return getRGB(color)}(fx.elem,attr),fx.end=getRGB(fx.end),fx.colorInit=!0),fx.elem.style[attr]="rgb("+Math.max(Math.min(parseInt(fx.pos*(fx.end[0]-fx.start[0])+fx.start[0],10),255),0)+","+Math.max(Math.min(parseInt(fx.pos*(fx.end[1]-fx.start[1])+fx.start[1],10),255),0)+","+Math.max(Math.min(parseInt(fx.pos*(fx.end[2]-fx.start[2])+fx.start[2],10),255),0)+")"}});var colors={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]},classAnimationActions=["add","remove","toggle"],shorthandStyles={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function getElementStyles(){var key,style=document.defaultView?document.defaultView.getComputedStyle(this,null):this.currentStyle,newStyle={};if(style&&style.length&&style[0]&&style[style[0]])for(var len=style.length;len--;)"string"==typeof style[key=style[len]]&&(newStyle[key.replace(/\-(\w)/g,function(all,letter){return letter.toUpperCase()})]=style[key]);else for(key in style)"string"==typeof style[key]&&(newStyle[key]=style[key]);return newStyle}function filterStyles(styles){var name,value;for(name in styles)(null==(value=styles[name])||$.isFunction(value)||name in shorthandStyles||/scrollbar/.test(name)||!/color/i.test(name)&&isNaN(parseFloat(value)))&&delete styles[name];return styles}function _normalizeArguments(effect,options,speed,callback){return"object"==typeof effect&&(callback=options,speed=null,effect=(options=effect).effect),$.isFunction(options)&&(callback=options,speed=null,options={}),("number"==typeof options||$.fx.speeds[options])&&(callback=speed,speed=options,options={}),$.isFunction(speed)&&(callback=speed,speed=null),options=options||{},speed=speed||options.duration,[effect,options,speed=$.fx.off?0:"number"==typeof speed?speed:speed in $.fx.speeds?$.fx.speeds[speed]:$.fx.speeds._default,callback=callback||options.complete]}function standardSpeed(speed){return!(speed&&"number"!=typeof speed&&!$.fx.speeds[speed])||"string"==typeof speed&&!$.effects[speed]}$.effects.animateClass=function(value,duration,easing,callback){return $.isFunction(easing)&&(callback=easing,easing=null),this.queue(function(){var newStyle,that=$(this),originalStyleAttr=that.attr("style")||" ",originalStyle=filterStyles(getElementStyles.call(this)),className=that.attr("class")||"";$.each(classAnimationActions,function(i,action){value[action]&&that[action+"Class"](value[action])}),newStyle=filterStyles(getElementStyles.call(this)),that.attr("class",className),that.animate(function(oldStyle,newStyle){var name,diff={_:0};for(name in newStyle)oldStyle[name]!=newStyle[name]&&(diff[name]=newStyle[name]);return diff}(originalStyle,newStyle),{queue:!1,duration:duration,easing:easing,complete:function(){$.each(classAnimationActions,function(i,action){value[action]&&that[action+"Class"](value[action])}),"object"==typeof that.attr("style")?(that.attr("style").cssText="",that.attr("style").cssText=originalStyleAttr):that.attr("style",originalStyleAttr),callback&&callback.apply(this,arguments),$.dequeue(this)}})})},$.fn.extend({_addClass:$.fn.addClass,addClass:function(classNames,speed,easing,callback){return speed?$.effects.animateClass.apply(this,[{add:classNames},speed,easing,callback]):this._addClass(classNames)},_removeClass:$.fn.removeClass,removeClass:function(classNames,speed,easing,callback){return speed?$.effects.animateClass.apply(this,[{remove:classNames},speed,easing,callback]):this._removeClass(classNames)},_toggleClass:$.fn.toggleClass,toggleClass:function(classNames,force,speed,easing,callback){return"boolean"==typeof force||void 0===force?speed?$.effects.animateClass.apply(this,[force?{add:classNames}:{remove:classNames},speed,easing,callback]):this._toggleClass(classNames,force):$.effects.animateClass.apply(this,[{toggle:classNames},force,speed,easing])},switchClass:function(remove,add,speed,easing,callback){return $.effects.animateClass.apply(this,[{add:add,remove:remove},speed,easing,callback])}}),$.extend($.effects,{version:"1.8.23",save:function(element,set){for(var i=0;i<set.length;i++)null!==set[i]&&element.data("ec.storage."+set[i],element[0].style[set[i]])},restore:function(element,set){for(var i=0;i<set.length;i++)null!==set[i]&&element.css(set[i],element.data("ec.storage."+set[i]))},setMode:function(el,mode){return"toggle"==mode&&(mode=el.is(":hidden")?"show":"hide"),mode},getBaseline:function(origin,original){var y,x;switch(origin[0]){case"top":y=0;break;case"middle":y=.5;break;case"bottom":y=1;break;default:y=origin[0]/original.height}switch(origin[1]){case"left":x=0;break;case"center":x=.5;break;case"right":x=1;break;default:x=origin[1]/original.width}return{x:x,y:y}},createWrapper:function(element){if(element.parent().is(".ui-effects-wrapper"))return element.parent();var props={width:element.outerWidth(!0),height:element.outerHeight(!0),float:element.css("float")},wrapper=$("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),active=document.activeElement;try{active.id}catch(e){active=document.body}return element.wrap(wrapper),(element[0]===active||$.contains(element[0],active))&&$(active).focus(),wrapper=element.parent(),"static"==element.css("position")?(wrapper.css({position:"relative"}),element.css({position:"relative"})):($.extend(props,{position:element.css("position"),zIndex:element.css("z-index")}),$.each(["top","left","bottom","right"],function(i,pos){props[pos]=element.css(pos),isNaN(parseInt(props[pos],10))&&(props[pos]="auto")}),element.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),wrapper.css(props).show()},removeWrapper:function(element){var parent,active=document.activeElement;return element.parent().is(".ui-effects-wrapper")?(parent=element.parent().replaceWith(element),(element[0]===active||$.contains(element[0],active))&&$(active).focus(),parent):element},setTransition:function(element,list,factor,value){return value=value||{},$.each(list,function(i,x){var unit=element.cssUnit(x);unit[0]>0&&(value[x]=unit[0]*factor+unit[1])}),value}}),$.fn.extend({effect:function(effect,options,speed,callback){var args=_normalizeArguments.apply(this,arguments),args2={options:args[1],duration:args[2],callback:args[3]},mode=args2.options.mode,effectMethod=$.effects[effect];return $.fx.off||!effectMethod?mode?this[mode](args2.duration,args2.callback):this.each(function(){args2.callback&&args2.callback.call(this)}):effectMethod.call(this,args2)},_show:$.fn.show,show:function(speed){if(standardSpeed(speed))return this._show.apply(this,arguments);var args=_normalizeArguments.apply(this,arguments);return args[1].mode="show",this.effect.apply(this,args)},_hide:$.fn.hide,hide:function(speed){if(standardSpeed(speed))return this._hide.apply(this,arguments);var args=_normalizeArguments.apply(this,arguments);return args[1].mode="hide",this.effect.apply(this,args)},__toggle:$.fn.toggle,toggle:function(speed){if(standardSpeed(speed)||"boolean"==typeof speed||$.isFunction(speed))return this.__toggle.apply(this,arguments);var args=_normalizeArguments.apply(this,arguments);return args[1].mode="toggle",this.effect.apply(this,args)},cssUnit:function(key){var style=this.css(key),val=[];return $.each(["em","px","%","pt"],function(i,unit){style.indexOf(unit)>0&&(val=[parseFloat(style),unit])}),val}});var baseEasings={};$.each(["Quad","Cubic","Quart","Quint","Expo"],function(i,name){baseEasings[name]=function(p){return Math.pow(p,i+2)}}),$.extend(baseEasings,{Sine:function(p){return 1-Math.cos(p*Math.PI/2)},Circ:function(p){return 1-Math.sqrt(1-p*p)},Elastic:function(p){return 0===p||1===p?p:-Math.pow(2,8*(p-1))*Math.sin((80*(p-1)-7.5)*Math.PI/15)},Back:function(p){return p*p*(3*p-2)},Bounce:function(p){for(var pow2,bounce=4;p<((pow2=Math.pow(2,--bounce))-1)/11;);return 1/Math.pow(4,3-bounce)-7.5625*Math.pow((3*pow2-2)/22-p,2)}}),$.each(baseEasings,function(name,easeIn){$.easing["easeIn"+name]=easeIn,$.easing["easeOut"+name]=function(p){return 1-easeIn(1-p)},$.easing["easeInOut"+name]=function(p){return p<.5?easeIn(2*p)/2:easeIn(-2*p+2)/-2+1}})}(jQuery),function($,undefined){$.effects.blind=function(o){return this.queue(function(){var el=$(this),props=["position","top","bottom","left","right"],mode=$.effects.setMode(el,o.options.mode||"hide"),direction=o.options.direction||"vertical";$.effects.save(el,props),el.show();var wrapper=$.effects.createWrapper(el).css({overflow:"hidden"}),ref="vertical"==direction?"height":"width",distance="vertical"==direction?wrapper.height():wrapper.width();"show"==mode&&wrapper.css(ref,0);var animation={};animation[ref]="show"==mode?distance:0,wrapper.animate(animation,o.duration,o.options.easing,function(){"hide"==mode&&el.hide(),$.effects.restore(el,props),$.effects.removeWrapper(el),o.callback&&o.callback.apply(el[0],arguments),el.dequeue()})})}}(jQuery),function($,undefined){$.effects.clip=function(o){return this.queue(function(){var el=$(this),props=["position","top","bottom","left","right","height","width"],mode=$.effects.setMode(el,o.options.mode||"hide"),direction=o.options.direction||"vertical";$.effects.save(el,props),el.show();var wrapper=$.effects.createWrapper(el).css({overflow:"hidden"}),animate="IMG"==el[0].tagName?wrapper:el,ref={size:"vertical"==direction?"height":"width",position:"vertical"==direction?"top":"left"},distance="vertical"==direction?animate.height():animate.width();"show"==mode&&(animate.css(ref.size,0),animate.css(ref.position,distance/2));var animation={};animation[ref.size]="show"==mode?distance:0,animation[ref.position]="show"==mode?0:distance/2,animate.animate(animation,{queue:!1,duration:o.duration,easing:o.options.easing,complete:function(){"hide"==mode&&el.hide(),$.effects.restore(el,props),$.effects.removeWrapper(el),o.callback&&o.callback.apply(el[0],arguments),el.dequeue()}})})}}(jQuery),function($,undefined){$.effects.drop=function(o){return this.queue(function(){var el=$(this),props=["position","top","bottom","left","right","opacity"],mode=$.effects.setMode(el,o.options.mode||"hide"),direction=o.options.direction||"left";$.effects.save(el,props),el.show(),$.effects.createWrapper(el);var ref="up"==direction||"down"==direction?"top":"left",motion="up"==direction||"left"==direction?"pos":"neg",distance=o.options.distance||("top"==ref?el.outerHeight(!0)/2:el.outerWidth(!0)/2);"show"==mode&&el.css("opacity",0).css(ref,"pos"==motion?-distance:distance);var animation={opacity:"show"==mode?1:0};animation[ref]=("show"==mode?"pos"==motion?"+=":"-=":"pos"==motion?"-=":"+=")+distance,el.animate(animation,{queue:!1,duration:o.duration,easing:o.options.easing,complete:function(){"hide"==mode&&el.hide(),$.effects.restore(el,props),$.effects.removeWrapper(el),o.callback&&o.callback.apply(this,arguments),el.dequeue()}})})}}(jQuery),function($,undefined){$.effects.fade=function(o){return this.queue(function(){var elem=$(this),mode=$.effects.setMode(elem,o.options.mode||"hide");elem.animate({opacity:mode},{queue:!1,duration:o.duration,easing:o.options.easing,complete:function(){o.callback&&o.callback.apply(this,arguments),elem.dequeue()}})})}}(jQuery),function($,undefined){$.effects.highlight=function(o){return this.queue(function(){var elem=$(this),props=["backgroundImage","backgroundColor","opacity"],mode=$.effects.setMode(elem,o.options.mode||"show"),animation={backgroundColor:elem.css("backgroundColor")};"hide"==mode&&(animation.opacity=0),$.effects.save(elem,props),elem.show().css({backgroundImage:"none",backgroundColor:o.options.color||"#ffff99"}).animate(animation,{queue:!1,duration:o.duration,easing:o.options.easing,complete:function(){"hide"==mode&&elem.hide(),$.effects.restore(elem,props),"show"==mode&&!$.support.opacity&&this.style.removeAttribute("filter"),o.callback&&o.callback.apply(this,arguments),elem.dequeue()}})})}}(jQuery),function($,undefined){$.effects.pulsate=function(o){return this.queue(function(){var elem=$(this),mode=$.effects.setMode(elem,o.options.mode||"show"),times=2*(o.options.times||5)-1,duration=o.duration?o.duration/2:$.fx.speeds._default/2,isVisible=elem.is(":visible"),animateTo=0;isVisible||(elem.css("opacity",0).show(),animateTo=1),("hide"==mode&&isVisible||"show"==mode&&!isVisible)&&times--;for(var i=0;i<times;i++)elem.animate({opacity:animateTo},duration,o.options.easing),animateTo=(animateTo+1)%2;elem.animate({opacity:animateTo},duration,o.options.easing,function(){0==animateTo&&elem.hide(),o.callback&&o.callback.apply(this,arguments)}),elem.queue("fx",function(){elem.dequeue()}).dequeue()})}}(jQuery),function($,undefined){$.effects.puff=function(o){return this.queue(function(){var elem=$(this),mode=$.effects.setMode(elem,o.options.mode||"hide"),percent=parseInt(o.options.percent,10)||150,factor=percent/100,original={height:elem.height(),width:elem.width()};$.extend(o.options,{fade:!0,mode:mode,percent:"hide"==mode?percent:100,from:"hide"==mode?original:{height:original.height*factor,width:original.width*factor}}),elem.effect("scale",o.options,o.duration,o.callback),elem.dequeue()})},$.effects.scale=function(o){return this.queue(function(){var el=$(this),options=$.extend(!0,{},o.options),mode=$.effects.setMode(el,o.options.mode||"effect"),percent=parseInt(o.options.percent,10)||(0==parseInt(o.options.percent,10)?0:"hide"==mode?0:100),direction=o.options.direction||"both",origin=o.options.origin;"effect"!=mode&&(options.origin=origin||["middle","center"],options.restore=!0);var original={height:el.height(),width:el.width()};el.from=o.options.from||("show"==mode?{height:0,width:0}:original);var factor_y="horizontal"!=direction?percent/100:1,factor_x="vertical"!=direction?percent/100:1;el.to={height:original.height*factor_y,width:original.width*factor_x},o.options.fade&&("show"==mode&&(el.from.opacity=0,el.to.opacity=1),"hide"==mode&&(el.from.opacity=1,el.to.opacity=0)),options.from=el.from,options.to=el.to,options.mode=mode,el.effect("size",options,o.duration,o.callback),el.dequeue()})},$.effects.size=function(o){return this.queue(function(){var el=$(this),props=["position","top","bottom","left","right","width","height","overflow","opacity"],props1=["position","top","bottom","left","right","overflow","opacity"],props2=["width","height","overflow"],cProps=["fontSize"],vProps=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],hProps=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],mode=$.effects.setMode(el,o.options.mode||"effect"),restore=o.options.restore||!1,scale=o.options.scale||"both",origin=o.options.origin,original={height:el.height(),width:el.width()};if(el.from=o.options.from||original,el.to=o.options.to||original,origin){var baseline=$.effects.getBaseline(origin,original);el.from.top=(original.height-el.from.height)*baseline.y,el.from.left=(original.width-el.from.width)*baseline.x,el.to.top=(original.height-el.to.height)*baseline.y,el.to.left=(original.width-el.to.width)*baseline.x}var factor={from:{y:el.from.height/original.height,x:el.from.width/original.width},to:{y:el.to.height/original.height,x:el.to.width/original.width}};"box"!=scale&&"both"!=scale||(factor.from.y!=factor.to.y&&(props=props.concat(vProps),el.from=$.effects.setTransition(el,vProps,factor.from.y,el.from),el.to=$.effects.setTransition(el,vProps,factor.to.y,el.to)),factor.from.x!=factor.to.x&&(props=props.concat(hProps),el.from=$.effects.setTransition(el,hProps,factor.from.x,el.from),el.to=$.effects.setTransition(el,hProps,factor.to.x,el.to))),"content"!=scale&&"both"!=scale||factor.from.y!=factor.to.y&&(props=props.concat(cProps),el.from=$.effects.setTransition(el,cProps,factor.from.y,el.from),el.to=$.effects.setTransition(el,cProps,factor.to.y,el.to)),$.effects.save(el,restore?props:props1),el.show(),$.effects.createWrapper(el),el.css("overflow","hidden").css(el.from),"content"!=scale&&"both"!=scale||(vProps=vProps.concat(["marginTop","marginBottom"]).concat(cProps),hProps=hProps.concat(["marginLeft","marginRight"]),props2=props.concat(vProps).concat(hProps),el.find("*[width]").each(function(){var child=$(this);restore&&$.effects.save(child,props2);var c_original_height=child.height(),c_original_width=child.width();child.from={height:c_original_height*factor.from.y,width:c_original_width*factor.from.x},child.to={height:c_original_height*factor.to.y,width:c_original_width*factor.to.x},factor.from.y!=factor.to.y&&(child.from=$.effects.setTransition(child,vProps,factor.from.y,child.from),child.to=$.effects.setTransition(child,vProps,factor.to.y,child.to)),factor.from.x!=factor.to.x&&(child.from=$.effects.setTransition(child,hProps,factor.from.x,child.from),child.to=$.effects.setTransition(child,hProps,factor.to.x,child.to)),child.css(child.from),child.animate(child.to,o.duration,o.options.easing,function(){restore&&$.effects.restore(child,props2)})})),el.animate(el.to,{queue:!1,duration:o.duration,easing:o.options.easing,complete:function(){0===el.to.opacity&&el.css("opacity",el.from.opacity),"hide"==mode&&el.hide(),$.effects.restore(el,restore?props:props1),$.effects.removeWrapper(el),o.callback&&o.callback.apply(this,arguments),el.dequeue()}})})}}(jQuery),function($,undefined){$.effects.shake=function(o){return this.queue(function(){var el=$(this),props=["position","top","bottom","left","right"],direction=($.effects.setMode(el,o.options.mode||"effect"),o.options.direction||"left"),distance=o.options.distance||20,times=o.options.times||3,speed=o.duration||o.options.duration||140;$.effects.save(el,props),el.show(),$.effects.createWrapper(el);var ref="up"==direction||"down"==direction?"top":"left",motion="up"==direction||"left"==direction?"pos":"neg",animation={},animation1={},animation2={};animation[ref]=("pos"==motion?"-=":"+=")+distance,animation1[ref]=("pos"==motion?"+=":"-=")+2*distance,animation2[ref]=("pos"==motion?"-=":"+=")+2*distance,el.animate(animation,speed,o.options.easing);for(var i=1;i<times;i++)el.animate(animation1,speed,o.options.easing).animate(animation2,speed,o.options.easing);el.animate(animation1,speed,o.options.easing).animate(animation,speed/2,o.options.easing,function(){$.effects.restore(el,props),$.effects.removeWrapper(el),o.callback&&o.callback.apply(this,arguments)}),el.queue("fx",function(){el.dequeue()}),el.dequeue()})}}(jQuery),function($,undefined){$.effects.slide=function(o){return this.queue(function(){var el=$(this),props=["position","top","bottom","left","right"],mode=$.effects.setMode(el,o.options.mode||"show"),direction=o.options.direction||"left";$.effects.save(el,props),el.show(),$.effects.createWrapper(el).css({overflow:"hidden"});var ref="up"==direction||"down"==direction?"top":"left",motion="up"==direction||"left"==direction?"pos":"neg",distance=o.options.distance||("top"==ref?el.outerHeight(!0):el.outerWidth(!0));"show"==mode&&el.css(ref,"pos"==motion?isNaN(distance)?"-"+distance:-distance:distance);var animation={};animation[ref]=("show"==mode?"pos"==motion?"+=":"-=":"pos"==motion?"-=":"+=")+distance,el.animate(animation,{queue:!1,duration:o.duration,easing:o.options.easing,complete:function(){"hide"==mode&&el.hide(),$.effects.restore(el,props),$.effects.removeWrapper(el),o.callback&&o.callback.apply(this,arguments),el.dequeue()}})})}}(jQuery),function($,undefined){$.effects.transfer=function(o){return this.queue(function(){var elem=$(this),target=$(o.options.to),endPosition=target.offset(),animation={top:endPosition.top,left:endPosition.left,height:target.innerHeight(),width:target.innerWidth()},startPosition=elem.offset(),transfer=$('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(o.options.className).css({top:startPosition.top,left:startPosition.left,height:elem.innerHeight(),width:elem.innerWidth(),position:"absolute"}).animate(animation,o.duration,o.options.easing,function(){transfer.remove(),o.callback&&o.callback.apply(elem[0],arguments),elem.dequeue()})})}}(jQuery)}).call(window)},1731:function(module,exports){(function(){var $p,libkey;$p=function(){var sel=arguments[0],ctxt=!1;return"string"==typeof sel&&(ctxt=arguments[1]||!1),$p.core(sel,ctxt)};$p.core=function(sel,ctxt,plugins){plugins=function(){var plugins=$p.plugins,f=function(){};return(f.prototype=plugins).compile=plugins.compile||compile,f.prototype.render=plugins.render||render,f.prototype.autoRender=plugins.autoRender||autoRender,f.prototype.find=plugins.find||find,f.prototype._compiler=compiler,f.prototype._error=error,new f}();var templates=[];switch(typeof sel){case"string":0===(templates=plugins.find(ctxt||document,sel)).length&&error('The template "'+sel+'" was not found');break;case"undefined":error("The template root is undefined, check your selector");break;default:templates=[sel]}for(var i=0,ii=templates.length;i<ii;i++)plugins[i]=templates[i];plugins.length=ii;var Sig="_s"+Math.floor(1e6*Math.random())+"_",attPfx="_a"+Math.floor(1e6*Math.random())+"_",selRx=/^(\+)?([^\@\+]+)?\@?([^\+]+)?(\+)?$/,autoAttr={IMG:"src",INPUT:"value"},isArray=Array.isArray?function(o){return Array.isArray(o)}:function(o){return"[object Array]"===Object.prototype.toString.call(o)};return plugins;function error(e){throw"undefined"!=typeof console?console.log(e):alert(e),"pure error: "+e}function wrapquote(qfn,f){return function(ctxt){return qfn(""+f.call(ctxt.context,ctxt))}}function find(n,sel){if("string"==typeof n&&(sel=n,n=!1),void 0!==document.querySelectorAll)return(n||document).querySelectorAll(sel);error("You can test PURE standalone with: iPhone, FF3.5+, Safari4+ and IE8+\n\nTo run PURE on your browser, you need a JS library/framework with a CSS selector engine")}function concatenator(parts,fns){return function(ctxt){for(var fnVal,pVal,attLine,pos,strs=[parts[0]],n=parts.length,i=1;i<n;i++)fnVal=fns[i](ctxt),pVal=parts[i],""===fnVal&&(pos=(attLine=strs[strs.length-1]).search(/[\w]+=\"?$/))>-1&&(strs[strs.length-1]=attLine.substring(0,pos),pVal=pVal.substr(1)),strs[strs.length]=fnVal,strs[strs.length]=pVal;return strs.join("")}}function dataselectfn(sel){if("function"==typeof sel)return sel;var m=sel.match(/^[a-zA-Z\$_][\w\$:-]*(\.[\w\$:-]*[^\.])*!?$/);if(null===m){var retStr,found=!1,s=sel,parts=[],pfns=[],i=0;if(/\'|\"/.test(s.charAt(0))){if(/\'|\"/.test(s.charAt(s.length-1)))return retStr=s.substring(1,s.length-1),function(){return retStr}}else for(;null!==(m=s.match(/#\{([^{}]+)\}/));)found=!0,parts[i++]=s.slice(0,m.index),pfns[i]=dataselectfn(m[1]),s=s.slice(m.index+m[0].length,s.length);return found||error("bad data selector syntax: "+sel),parts[i]=s,concatenator(parts,pfns)}m=sel.split(".");var sanitize=sel.endsWith("!");return sanitize&&(m[m.length-1]=m[m.length-1].substring(0,m[m.length-1].length-1)),function(ctxt){var data=ctxt.context;if(!data)return"";var v=ctxt[m[0]],i=0;v&&v.item&&(data=v.item,i+=1);for(var n=m.length;i<n&&data;i++)data=data[m[i]];return data||0===data?sanitize?$.htmlEscape(data):data:""}}function gettarget(dom,sel,isloop){var osel,prepend,selector,attr,append,setstr,getstr,quotefn,isStyle,isClass,attName,setfn,target=[];if("string"==typeof sel){osel=sel;var m=sel.match(selRx);if(m||error("bad selector syntax: "+sel),prepend=m[1],selector=m[2],attr=m[3],append=m[4],"."===selector||!selector&&attr?target[0]=dom:target=plugins.find(dom,selector),!target||0===target.length)return error('The node "'+sel+'" was not found in the template')}else prepend=sel.prepend,attr=sel.attr,append=sel.append,target=[dom];return(prepend||append)&&(prepend&&append?error("append/prepend cannot take place at the same time"):isloop?error("no append/prepend/replace modifiers allowed for loop target"):append&&isloop&&error("cannot append with loop (sel: "+osel+")")),attr?(isStyle=/^style$/i.test(attr),isClass=/^class$/i.test(attr),attName=isClass?"className":attr,setstr=function(node,s){node.setAttribute(attPfx+attr,s),attName in node&&!isStyle&&(node[attName]=""),1===node.nodeType&&(node.removeAttribute(attr),isClass&&node.removeAttribute(attName))},getstr=isStyle||isClass?isStyle?function(n){return n.style.cssText}:function(n){return n.className}:function(n){return n.getAttribute(attr)},quotefn=function(s){return s.replace(/\"/g,"&quot;")},setfn=prepend?function(node,s){setstr(node,isClass?s+" "+getstr(node):s+getstr(node))}:append?function(node,s){setstr(node,isClass?getstr(node)+" "+s:getstr(node)+s)}:function(node,s){setstr(node,s)}):(setfn=isloop?function(node,s){var pn=node.parentNode;pn&&(pn.insertBefore(document.createTextNode(s),node.nextSibling),pn.removeChild(node))}:prepend?function(node,s){node.insertBefore(document.createTextNode(s),node.firstChild)}:append?function(node,s){node.appendChild(document.createTextNode(s))}:function(node,s){for(;node.firstChild;)node.removeChild(node.firstChild);node.appendChild(document.createTextNode(s))},quotefn=function(s){return s}),{attr:attr,nodes:target,set:setfn,sel:osel,quotefn:quotefn}}function setsig(target,n){for(var sig=Sig+n+":",i=0;i<target.nodes.length;i++)target.set(target.nodes[i],sig)}function loopfn(name,dselect,inner,sorter,filter){return function(ctxt){var length,a=dselect(ctxt),old=ctxt[name],temp={items:a},filtered=0,strs=[],buildArg=function(idx,temp,ftr,len){var ctxtNew=$.extend({},ctxt);ctxtNew.pos=temp.pos=idx,ctxtNew.item=temp.item=a[idx],ctxtNew.items=a,void 0!==len&&(ctxtNew.length=len),"function"!=typeof ftr||!1!==ftr(ctxtNew)?strs.push(inner.call(temp,ctxtNew)):filtered++};if(ctxt[name]=temp,isArray(a)){length=a.length||0,"function"==typeof sorter&&a.sort(sorter);for(var i=0,ii=length;i<ii;i++)buildArg(i,temp,filter,length-filtered)}else for(var prop in a&&void 0!==sorter&&error("sort is only available on arrays, not objects"),a)a.hasOwnProperty(prop)&&buildArg(prop,temp,filter);return void 0!==old?ctxt[name]=old:delete ctxt[name],strs.join("")}}function loopgen(dom,sel,loop,fns){var ls,sorter,filter,prop,already=!1;for(prop in loop)if(loop.hasOwnProperty(prop)){if("sort"===prop){sorter=loop.sort;continue}if("filter"===prop){filter=loop.filter;continue}already&&error("cannot have more than one loop on a target"),ls=prop,already=!0}ls||error("Error in the selector: "+sel+"\nA directive action must be a string, a function or a loop(<-)");var dsel=loop[ls];if("string"==typeof dsel||"function"==typeof dsel)return(loop={})[ls]={root:dsel},loopgen(dom,sel,loop,fns);var p,m,spec=(null===(m=(p=ls).match(/^(\w+)\s*<-\s*(\S+)?$/))&&error('bad loop spec: "'+p+'"'),"item"===m[1]&&error('"item<-..." is a reserved word for the current running iteration.\n\nPlease choose another name for your loop.'),(!m[2]||m[2]&&/context/i.test(m[2]))&&(m[2]=function(ctxt){return ctxt.context}),{name:m[1],sel:m[2]}),itersel=dataselectfn(spec.sel),target=gettarget(dom,sel,!0),nodes=target.nodes;for(i=0;i<nodes.length;i++){var node=nodes[i],inner=compiler(node,dsel);fns[fns.length]=wrapquote(target.quotefn,loopfn(spec.name,itersel,inner,sorter,filter)),target.nodes=[node],setsig(target,fns.length-1)}}function compiler(dom,directive,data,ans){var dsel,fns=[];if(ans=ans||data&&function(n,data){var cspec,isNodeValue,i,ii,j,jj,ni,cs,ns=n.getElementsByTagName("*"),an=[],openLoops={a:[],l:{}};for(i=-1,ii=ns.length;i<ii;i++)if(1===(ni=i>-1?ns[i]:n).nodeType&&""!==ni.className)for(j=0,jj=(cs=ni.className.split(" ")).length;j<jj;j++)!1!==(cspec=checkClass(cs[j],ni.tagName))&&(isNodeValue=/nodevalue/i.test(cspec.attr),(cspec.sel.indexOf("@")>-1||isNodeValue)&&(ni.className=ni.className.replace("@"+cspec.attr,""),isNodeValue&&(cspec.attr=!1)),an.push({n:ni,cspec:cspec}));return an;function checkClass(c,tagName){var i,loopi,loopil,val,ca=c.match(selRx),attr=ca[3]||autoAttr[tagName],cspec={prepend:!!ca[1],prop:ca[2],attr:attr,append:!!ca[4],sel:c};for(i=openLoops.a.length-1;i>=0;i--)if(void 0!==(val=(loopil=(loopi=openLoops.a[i]).l[0])&&loopil[cspec.prop])){cspec.prop=loopi.p+"."+cspec.prop,!0===openLoops.l[cspec.prop]&&(val=val[0]);break}return(void 0!==val||void 0!==(val=isArray(data)?data[0][cspec.prop]:data[cspec.prop]))&&(isArray(val)?(openLoops.a.push({l:val,p:cspec.prop}),openLoops.l[cspec.prop]=!0,cspec.t="loop"):cspec.t="str",cspec)}}(dom,data),data)for(var j,jj,cspec,n,target,nodes,itersel,node,inner;ans.length>0;)if(cspec=ans[0].cspec,n=ans[0].n,ans.splice(0,1),"str"===cspec.t)setsig(target=gettarget(n,cspec,!1),fns.length),fns[fns.length]=wrapquote(target.quotefn,dataselectfn(cspec.prop));else for(itersel=dataselectfn(cspec.sel),j=0,jj=(nodes=(target=gettarget(n,cspec,!0)).nodes).length;j<jj;j++)inner=compiler(node=nodes[j],!1,data,ans),fns[fns.length]=wrapquote(target.quotefn,loopfn(cspec.sel,itersel,inner)),target.nodes=[node],setsig(target,fns.length-1);for(var sel in directive)directive.hasOwnProperty(sel)&&("function"==typeof(dsel=directive[sel])||"string"==typeof dsel?(setsig(target=gettarget(dom,sel,!1),fns.length),fns[fns.length]=wrapquote(target.quotefn,dataselectfn(dsel))):loopgen(dom,sel,dsel,fns));for(var p,h=function(node){return node.outerHTML||(n=node,(div=document.createElement("div")).appendChild(n.cloneNode(!0)),h=div.innerHTML,div=null,h);var n,h,div}(dom),pfns=[],parts=(h=(h=h.replace(/<([^>]+)\s(value\=""|selected)\s?([^>]*)>/gi,"<$1 $3>")).split(attPfx).join("")).split(Sig),i=1;i<parts.length;i++)p=parts[i],pfns[i]=fns[parseInt(p,10)],parts[i]=p.substring(p.indexOf(":")+1);return concatenator(parts,pfns)}function compile(directive,ctxt,template){var rfn=compiler((template||this[0]).cloneNode(!0),directive,ctxt);return function(context){return rfn({context:context})}}function render(ctxt,directive){for(var fn="function"==typeof directive?directive:plugins.compile(directive,!1,this[0]),i=0,ii=this.length;i<ii;i++)this[i]=replaceWith(this[i],fn(ctxt,!1));return context=null,this}function autoRender(ctxt,directive){for(var fn=plugins.compile(directive,ctxt,this[0]),i=0,ii=this.length;i<ii;i++)this[i]=replaceWith(this[i],fn(ctxt,!1));return context=null,this}function replaceWith(elm,html){var ne,ep=elm.parentNode,depth=0;switch(elm.tagName){case"TBODY":case"THEAD":case"TFOOT":html="<TABLE>"+html+"</TABLE>",depth=1;break;case"TR":html="<TABLE><TBODY>"+html+"</TBODY></TABLE>",depth=2;break;case"TD":case"TH":html="<TABLE><TBODY><TR>"+html+"</TR></TBODY></TABLE>",depth=3}for(tmp=document.createElement("SPAN"),tmp.style.display="none",document.body.appendChild(tmp),tmp.innerHTML=html,ne=tmp.firstChild;depth--;)ne=ne.firstChild;return ep.insertBefore(ne,elm),ep.removeChild(elm),document.body.removeChild(tmp),elm=ne,ne=ep=null,elm}},$p.plugins={},$p.libs={dojo:function(){void 0===document.querySelector&&($p.plugins.find=function(n,sel){return dojo.query(sel,n)})},domassistant:function(){void 0===document.querySelector&&($p.plugins.find=function(n,sel){return $(n).cssSelect(sel)}),DOMAssistant.attach({publicMethods:["compile","render","autoRender"],compile:function(directive,ctxt){return $p(this).compile(directive,ctxt)},render:function(ctxt,directive){return $($p(this).render(ctxt,directive))[0]},autoRender:function(ctxt,directive){return $($p(this).autoRender(ctxt,directive))[0]}})},jquery:function(){void 0===document.querySelector&&($p.plugins.find=function(n,sel){return $(n).find(sel)}),jQuery.fn.extend({compile:function(directive,ctxt){return $p(this[0]).compile(directive,ctxt)},render:function(ctxt,directive){return $p(this[0]).render(ctxt,directive)},autoRender:function(ctxt,directive){return jQuery($p(this[0]).autoRender(ctxt,directive))}})},mootools:function(){void 0===document.querySelector&&($p.plugins.find=function(n,sel){return $(n).getElements(sel)}),Element.implement({compile:function(directive,ctxt){return $p(this).compile(directive,ctxt)},render:function(ctxt,directive){return $p(this).render(ctxt,directive)},autoRender:function(ctxt,directive){return $p(this).autoRender(ctxt,directive)}})},prototype:function(){void 0===document.querySelector&&($p.plugins.find=function(n,sel){return"string"==typeof(n=n===document?n.body:n)?$$(n):$(n).select(sel)}),Element.addMethods({compile:function(element,directive,ctxt){return $p(element).compile(directive,ctxt)},render:function(element,ctxt,directive){return $p(element).render(ctxt,directive)},autoRender:function(element,ctxt,directive){return $p(element).autoRender(ctxt,directive)}})},sizzle:function(){void 0===document.querySelector&&($p.plugins.find=function(n,sel){return Sizzle(sel,n)})},sly:function(){void 0===document.querySelector&&($p.plugins.find=function(n,sel){return Sly(sel,n)})}},(libkey=("undefined"!=typeof dojo?"dojo":"undefined"!=typeof DOMAssistant&&"domassistant")||"undefined"!=typeof jQuery&&"jquery"||"undefined"!=typeof MooTools&&"mootools"||"undefined"!=typeof Prototype&&"prototype"||"undefined"!=typeof Sizzle&&"sizzle"||"undefined"!=typeof Sly&&"sly")&&$p.libs[libkey]()}).call(window)},1732:function(module,exports){var define=void 0,require=void 0;module=void 0;(function(){var factory;factory=function($){!function(){function stripHtml(value){return value.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," ").replace(/[.(),;:!?%#$'\"_+=\/\-]*/g,"")}$.validator.addMethod("maxWords",function(value,element,params){return this.optional(element)||stripHtml(value).match(/\b\w+\b/g).length<=params},$.validator.format("Please enter {0} words or less.")),$.validator.addMethod("minWords",function(value,element,params){return this.optional(element)||stripHtml(value).match(/\b\w+\b/g).length>=params},$.validator.format("Please enter at least {0} words.")),$.validator.addMethod("rangeWords",function(value,element,params){var valueStripped=stripHtml(value),regex=/\b\w+\b/g;return this.optional(element)||valueStripped.match(regex).length>=params[0]&&valueStripped.match(regex).length<=params[1]},$.validator.format("Please enter between {0} and {1} words."))}(),$.validator.addMethod("accept",function(value,element,param){var i,regex,typeParam="string"==typeof param?param.replace(/\s/g,""):"image/*",optionalValue=this.optional(element);if(optionalValue)return optionalValue;if("file"===$(element).attr("type")&&(typeParam=typeParam.replace(/[\-\[\]\/\{\}\(\)\+\?\.\\\^\$\|]/g,"\\$&").replace(/,/g,"|").replace("/*","/.*"),element.files&&element.files.length))for(regex=new RegExp(".?("+typeParam+")$","i"),i=0;i<element.files.length;i++)if(!element.files[i].type.match(regex))return!1;return!0},$.validator.format("Please enter a value with a valid mimetype.")),$.validator.addMethod("alphanumeric",function(value,element){return this.optional(element)||/^\w+$/i.test(value)},"Letters, numbers, and underscores only please"),$.validator.addMethod("bankaccountNL",function(value,element){if(this.optional(element))return!0;if(!/^[0-9]{9}|([0-9]{2} ){3}[0-9]{3}$/.test(value))return!1;var pos,account=value.replace(/ /g,""),sum=0,len=account.length;for(pos=0;pos<len;pos++)sum+=(len-pos)*account.substring(pos,pos+1);return sum%11==0},"Please specify a valid bank account number"),$.validator.addMethod("bankorgiroaccountNL",function(value,element){return this.optional(element)||$.validator.methods.bankaccountNL.call(this,value,element)||$.validator.methods.giroaccountNL.call(this,value,element)},"Please specify a valid bank or giro account number"),$.validator.addMethod("bic",function(value,element){return this.optional(element)||/^([A-Z]{6}[A-Z2-9][A-NP-Z1-9])(X{3}|[A-WY-Z0-9][A-Z0-9]{2})?$/.test(value.toUpperCase())},"Please specify a valid BIC code"),$.validator.addMethod("cifES",function(value){"use strict";var controlDigit,sum,i,count,tmp,secondDigit,num=[];if(!(value=value.toUpperCase()).match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)"))return!1;for(i=0;i<9;i++)num[i]=parseInt(value.charAt(i),10);for(sum=num[2]+num[4]+num[6],count=1;count<8;count+=2)secondDigit=(tmp=(2*num[count]).toString()).charAt(1),sum+=parseInt(tmp.charAt(0),10)+(""===secondDigit?0:parseInt(secondDigit,10));return!!/^[ABCDEFGHJNPQRSUVW]{1}/.test(value)&&(sum+="",value+=controlDigit=10-parseInt(sum.charAt(sum.length-1),10),num[8].toString()===String.fromCharCode(64+controlDigit)||num[8].toString()===value.charAt(value.length-1))},"Please specify a valid CIF number."),$.validator.addMethod("cpfBR",function(value){if(11!==(value=value.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g,"")).length)return!1;var firstCN,secondCN,checkResult,i,sum=0;if(firstCN=parseInt(value.substring(9,10),10),secondCN=parseInt(value.substring(10,11),10),checkResult=function(sum,cn){var result=10*sum%11;return 10!==result&&11!==result||(result=0),result===cn},""===value||"00000000000"===value||"11111111111"===value||"22222222222"===value||"33333333333"===value||"44444444444"===value||"55555555555"===value||"66666666666"===value||"77777777777"===value||"88888888888"===value||"99999999999"===value)return!1;for(i=1;i<=9;i++)sum+=parseInt(value.substring(i-1,i),10)*(11-i);if(checkResult(sum,firstCN)){for(sum=0,i=1;i<=10;i++)sum+=parseInt(value.substring(i-1,i),10)*(12-i);return checkResult(sum,secondCN)}return!1},"Please specify a valid CPF number"),$.validator.addMethod("creditcard",function(value,element){if(this.optional(element))return"dependency-mismatch";if(/[^0-9 \-]+/.test(value))return!1;var n,cDigit,nCheck=0,nDigit=0,bEven=!1;if((value=value.replace(/\D/g,"")).length<13||value.length>19)return!1;for(n=value.length-1;n>=0;n--)cDigit=value.charAt(n),nDigit=parseInt(cDigit,10),bEven&&(nDigit*=2)>9&&(nDigit-=9),nCheck+=nDigit,bEven=!bEven;return nCheck%10==0},"Please enter a valid credit card number."),$.validator.addMethod("creditcardtypes",function(value,element,param){if(/[^0-9\-]+/.test(value))return!1;value=value.replace(/\D/g,"");var validTypes=0;return param.mastercard&&(validTypes|=1),param.visa&&(validTypes|=2),param.amex&&(validTypes|=4),param.dinersclub&&(validTypes|=8),param.enroute&&(validTypes|=16),param.discover&&(validTypes|=32),param.jcb&&(validTypes|=64),param.unknown&&(validTypes|=128),param.all&&(validTypes=255),1&validTypes&&/^(5[12345])/.test(value)?16===value.length:2&validTypes&&/^(4)/.test(value)?16===value.length:4&validTypes&&/^(3[47])/.test(value)?15===value.length:8&validTypes&&/^(3(0[012345]|[68]))/.test(value)?14===value.length:16&validTypes&&/^(2(014|149))/.test(value)?15===value.length:32&validTypes&&/^(6011)/.test(value)?16===value.length:64&validTypes&&/^(3)/.test(value)?16===value.length:64&validTypes&&/^(2131|1800)/.test(value)?15===value.length:!!(128&validTypes)},"Please enter a valid credit card number."),$.validator.addMethod("currency",function(value,element,param){var regex,isParamString="string"==typeof param,symbol=isParamString?param:param[0],soft=!!isParamString||param[1];return symbol=symbol.replace(/,/g,""),regex="^["+(symbol=soft?symbol+"]":symbol+"]?")+"([1-9]{1}[0-9]{0,2}(\\,[0-9]{3})*(\\.[0-9]{0,2})?|[1-9]{1}[0-9]{0,}(\\.[0-9]{0,2})?|0(\\.[0-9]{0,2})?|(\\.[0-9]{1,2})?)$",regex=new RegExp(regex),this.optional(element)||regex.test(value)},"Please specify a valid currency"),$.validator.addMethod("dateFA",function(value,element){return this.optional(element)||/^[1-4]\d{3}\/((0?[1-6]\/((3[0-1])|([1-2][0-9])|(0?[1-9])))|((1[0-2]|(0?[7-9]))\/(30|([1-2][0-9])|(0?[1-9]))))$/.test(value)},$.validator.messages.date),$.validator.addMethod("dateITA",function(value,element){var adata,gg,mm,aaaa,xdata,check=!1;return/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(value)?(adata=value.split("/"),gg=parseInt(adata[0],10),mm=parseInt(adata[1],10),aaaa=parseInt(adata[2],10),check=(xdata=new Date(Date.UTC(aaaa,mm-1,gg,12,0,0,0))).getUTCFullYear()===aaaa&&xdata.getUTCMonth()===mm-1&&xdata.getUTCDate()===gg):check=!1,this.optional(element)||check},$.validator.messages.date),$.validator.addMethod("dateNL",function(value,element){return this.optional(element)||/^(0?[1-9]|[12]\d|3[01])[\.\/\-](0?[1-9]|1[012])[\.\/\-]([12]\d)?(\d\d)$/.test(value)},$.validator.messages.date),$.validator.addMethod("extension",function(value,element,param){return param="string"==typeof param?param.replace(/,/g,"|"):"png|jpe?g|gif",this.optional(element)||value.match(new RegExp("\\.("+param+")$","i"))},$.validator.format("Please enter a value with a valid extension.")),$.validator.addMethod("giroaccountNL",function(value,element){return this.optional(element)||/^[0-9]{1,7}$/.test(value)},"Please specify a valid giro account number"),$.validator.addMethod("iban",function(value,element){if(this.optional(element))return!0;var ibancheck,charAt,bbanpattern,i,p,iban=value.replace(/ /g,"").toUpperCase(),ibancheckdigits="",leadingZeroes=!0,cRest="";if(void 0!==(bbanpattern={AL:"\\d{8}[\\dA-Z]{16}",AD:"\\d{8}[\\dA-Z]{12}",AT:"\\d{16}",AZ:"[\\dA-Z]{4}\\d{20}",BE:"\\d{12}",BH:"[A-Z]{4}[\\dA-Z]{14}",BA:"\\d{16}",BR:"\\d{23}[A-Z][\\dA-Z]",BG:"[A-Z]{4}\\d{6}[\\dA-Z]{8}",CR:"\\d{17}",HR:"\\d{17}",CY:"\\d{8}[\\dA-Z]{16}",CZ:"\\d{20}",DK:"\\d{14}",DO:"[A-Z]{4}\\d{20}",EE:"\\d{16}",FO:"\\d{14}",FI:"\\d{14}",FR:"\\d{10}[\\dA-Z]{11}\\d{2}",GE:"[\\dA-Z]{2}\\d{16}",DE:"\\d{18}",GI:"[A-Z]{4}[\\dA-Z]{15}",GR:"\\d{7}[\\dA-Z]{16}",GL:"\\d{14}",GT:"[\\dA-Z]{4}[\\dA-Z]{20}",HU:"\\d{24}",IS:"\\d{22}",IE:"[\\dA-Z]{4}\\d{14}",IL:"\\d{19}",IT:"[A-Z]\\d{10}[\\dA-Z]{12}",KZ:"\\d{3}[\\dA-Z]{13}",KW:"[A-Z]{4}[\\dA-Z]{22}",LV:"[A-Z]{4}[\\dA-Z]{13}",LB:"\\d{4}[\\dA-Z]{20}",LI:"\\d{5}[\\dA-Z]{12}",LT:"\\d{16}",LU:"\\d{3}[\\dA-Z]{13}",MK:"\\d{3}[\\dA-Z]{10}\\d{2}",MT:"[A-Z]{4}\\d{5}[\\dA-Z]{18}",MR:"\\d{23}",MU:"[A-Z]{4}\\d{19}[A-Z]{3}",MC:"\\d{10}[\\dA-Z]{11}\\d{2}",MD:"[\\dA-Z]{2}\\d{18}",ME:"\\d{18}",NL:"[A-Z]{4}\\d{10}",NO:"\\d{11}",PK:"[\\dA-Z]{4}\\d{16}",PS:"[\\dA-Z]{4}\\d{21}",PL:"\\d{24}",PT:"\\d{21}",RO:"[A-Z]{4}[\\dA-Z]{16}",SM:"[A-Z]\\d{10}[\\dA-Z]{12}",SA:"\\d{2}[\\dA-Z]{18}",RS:"\\d{18}",SK:"\\d{20}",SI:"\\d{15}",ES:"\\d{20}",SE:"\\d{20}",CH:"\\d{5}[\\dA-Z]{12}",TN:"\\d{20}",TR:"\\d{5}[\\dA-Z]{17}",AE:"\\d{3}\\d{16}",GB:"[A-Z]{4}\\d{14}",VG:"[\\dA-Z]{4}\\d{16}"}[iban.substring(0,2)])&&!new RegExp("^[A-Z]{2}\\d{2}"+bbanpattern+"$","").test(iban))return!1;for(ibancheck=iban.substring(4,iban.length)+iban.substring(0,4),i=0;i<ibancheck.length;i++)"0"!==(charAt=ibancheck.charAt(i))&&(leadingZeroes=!1),leadingZeroes||(ibancheckdigits+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(charAt));for(p=0;p<ibancheckdigits.length;p++)cRest=(""+cRest+ibancheckdigits.charAt(p))%97;return 1===cRest},"Please specify a valid IBAN"),$.validator.addMethod("integer",function(value,element){return this.optional(element)||/^-?\d+$/.test(value)},"A positive or negative non-decimal number please"),$.validator.addMethod("ipv4",function(value,element){return this.optional(element)||/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i.test(value)},"Please enter a valid IP v4 address."),$.validator.addMethod("ipv6",function(value,element){return this.optional(element)||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(value)},"Please enter a valid IP v6 address."),$.validator.addMethod("lettersonly",function(value,element){return this.optional(element)||/^[a-z]+$/i.test(value)},"Letters only please"),$.validator.addMethod("letterswithbasicpunc",function(value,element){return this.optional(element)||/^[a-z\-.,()'"\s]+$/i.test(value)},"Letters or punctuation only please"),$.validator.addMethod("mobileNL",function(value,element){return this.optional(element)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)6((\s|\s?\-\s?)?[0-9]){8}$/.test(value)},"Please specify a valid mobile number"),$.validator.addMethod("mobileUK",function(phone_number,element){return phone_number=phone_number.replace(/\(|\)|\s+|-/g,""),this.optional(element)||phone_number.length>9&&phone_number.match(/^(?:(?:(?:00\s?|\+)44\s?|0)7(?:[1345789]\d{2}|624)\s?\d{3}\s?\d{3})$/)},"Please specify a valid mobile number"),$.validator.addMethod("nieES",function(value){"use strict";return!!(value=value.toUpperCase()).match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)")&&(/^[T]{1}/.test(value)?value[8]===/^[T]{1}[A-Z0-9]{8}$/.test(value):!!/^[XYZ]{1}/.test(value)&&value[8]==="TRWAGMYFPDXBNJZSQVHLCKE".charAt(value.replace("X","0").replace("Y","1").replace("Z","2").substring(0,8)%23))},"Please specify a valid NIE number."),$.validator.addMethod("nifES",function(value){"use strict";return!!(value=value.toUpperCase()).match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)")&&(/^[0-9]{8}[A-Z]{1}$/.test(value)?"TRWAGMYFPDXBNJZSQVHLCKE".charAt(value.substring(8,0)%23)===value.charAt(8):!!/^[KLM]{1}/.test(value)&&value[8]===String.fromCharCode(64))},"Please specify a valid NIF number."),jQuery.validator.addMethod("notEqualTo",function(value,element,param){return this.optional(element)||!$.validator.methods.equalTo.call(this,value,element,param)},"Please enter a different value, values must not be the same."),$.validator.addMethod("nowhitespace",function(value,element){return this.optional(element)||/^\S+$/i.test(value)},"No white space please"),$.validator.addMethod("pattern",function(value,element,param){return!!this.optional(element)||("string"==typeof param&&(param=new RegExp("^(?:"+param+")$")),param.test(value))},"Invalid format."),$.validator.addMethod("phoneNL",function(value,element){return this.optional(element)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)[1-9]((\s|\s?\-\s?)?[0-9]){8}$/.test(value)},"Please specify a valid phone number."),$.validator.addMethod("phoneUK",function(phone_number,element){return phone_number=phone_number.replace(/\(|\)|\s+|-/g,""),this.optional(element)||phone_number.length>9&&phone_number.match(/^(?:(?:(?:00\s?|\+)44\s?)|(?:\(?0))(?:\d{2}\)?\s?\d{4}\s?\d{4}|\d{3}\)?\s?\d{3}\s?\d{3,4}|\d{4}\)?\s?(?:\d{5}|\d{3}\s?\d{3})|\d{5}\)?\s?\d{4,5})$/)},"Please specify a valid phone number"),$.validator.addMethod("phoneUS",function(phone_number,element){return phone_number=phone_number.replace(/\s+/g,""),this.optional(element)||phone_number.length>9&&phone_number.match(/^(\+?1-?)?(\([2-9]([02-9]\d|1[02-9])\)|[2-9]([02-9]\d|1[02-9]))-?[2-9]([02-9]\d|1[02-9])-?\d{4}$/)},"Please specify a valid phone number"),$.validator.addMethod("phonesUK",function(phone_number,element){return phone_number=phone_number.replace(/\(|\)|\s+|-/g,""),this.optional(element)||phone_number.length>9&&phone_number.match(/^(?:(?:(?:00\s?|\+)44\s?|0)(?:1\d{8,9}|[23]\d{9}|7(?:[1345789]\d{8}|624\d{6})))$/)},"Please specify a valid uk phone number"),$.validator.addMethod("postalCodeCA",function(value,element){return this.optional(element)||/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJKLMNPRSTVWXYZ] *\d[ABCEGHJKLMNPRSTVWXYZ]\d$/i.test(value)},"Please specify a valid postal code"),$.validator.addMethod("postalcodeBR",function(cep_value,element){return this.optional(element)||/^\d{2}.\d{3}-\d{3}?$|^\d{5}-?\d{3}?$/.test(cep_value)},"Informe um CEP vlido."),$.validator.addMethod("postalcodeIT",function(value,element){return this.optional(element)||/^\d{5}$/.test(value)},"Please specify a valid postal code"),$.validator.addMethod("postalcodeNL",function(value,element){return this.optional(element)||/^[1-9][0-9]{3}\s?[a-zA-Z]{2}$/.test(value)},"Please specify a valid postal code"),$.validator.addMethod("postcodeUK",function(value,element){return this.optional(element)||/^((([A-PR-UWYZ][0-9])|([A-PR-UWYZ][0-9][0-9])|([A-PR-UWYZ][A-HK-Y][0-9])|([A-PR-UWYZ][A-HK-Y][0-9][0-9])|([A-PR-UWYZ][0-9][A-HJKSTUW])|([A-PR-UWYZ][A-HK-Y][0-9][ABEHMNPRVWXY]))\s?([0-9][ABD-HJLNP-UW-Z]{2})|(GIR)\s?(0AA))$/i.test(value)},"Please specify a valid UK postcode"),$.validator.addMethod("require_from_group",function(value,element,options){var $fields=$(options[1],element.form),$fieldsFirst=$fields.eq(0),validator=$fieldsFirst.data("valid_req_grp")?$fieldsFirst.data("valid_req_grp"):$.extend({},this),isValid=$fields.filter(function(){return validator.elementValue(this)}).length>=options[0];return $fieldsFirst.data("valid_req_grp",validator),$(element).data("being_validated")||($fields.data("being_validated",!0),$fields.each(function(){validator.element(this)}),$fields.data("being_validated",!1)),isValid},$.validator.format("Please fill at least {0} of these fields.")),$.validator.addMethod("skip_or_fill_minimum",function(value,element,options){var $fields=$(options[1],element.form),$fieldsFirst=$fields.eq(0),validator=$fieldsFirst.data("valid_skip")?$fieldsFirst.data("valid_skip"):$.extend({},this),numberFilled=$fields.filter(function(){return validator.elementValue(this)}).length,isValid=0===numberFilled||numberFilled>=options[0];return $fieldsFirst.data("valid_skip",validator),$(element).data("being_validated")||($fields.data("being_validated",!0),$fields.each(function(){validator.element(this)}),$fields.data("being_validated",!1)),isValid},$.validator.format("Please either skip these fields or fill at least {0} of them.")),$.validator.addMethod("stateUS",function(value,element,options){var regex,isDefault=void 0===options,caseSensitive=!isDefault&&void 0!==options.caseSensitive&&options.caseSensitive,includeTerritories=!isDefault&&void 0!==options.includeTerritories&&options.includeTerritories,includeMilitary=!isDefault&&void 0!==options.includeMilitary&&options.includeMilitary;return regex=includeTerritories||includeMilitary?includeTerritories&&includeMilitary?"^(A[AEKLPRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$":includeTerritories?"^(A[KLRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$":"^(A[AEKLPRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$":"^(A[KLRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$",regex=caseSensitive?new RegExp(regex):new RegExp(regex,"i"),this.optional(element)||regex.test(value)},"Please specify a valid state"),$.validator.addMethod("strippedminlength",function(value,element,param){return $(value).text().length>=param},$.validator.format("Please enter at least {0} characters")),$.validator.addMethod("time",function(value,element){return this.optional(element)||/^([01]\d|2[0-3]|[0-9])(:[0-5]\d){1,2}$/.test(value)},"Please enter a valid time, between 00:00 and 23:59"),$.validator.addMethod("time12h",function(value,element){return this.optional(element)||/^((0?[1-9]|1[012])(:[0-5]\d){1,2}(\ ?[AP]M))$/i.test(value)},"Please enter a valid time in 12-hour am/pm format"),$.validator.addMethod("url2",function(value,element){return this.optional(element)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(value)},$.validator.messages.url),$.validator.addMethod("vinUS",function(v){if(17!==v.length)return!1;var i,n,d,f,cd,cdv,LL=["A","B","C","D","E","F","G","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y","Z"],VL=[1,2,3,4,5,6,7,8,1,2,3,4,5,7,9,2,3,4,5,6,7,8,9],FL=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2],rs=0;for(i=0;i<17;i++){if(f=FL[i],d=v.slice(i,i+1),8===i&&(cdv=d),isNaN(d)){for(n=0;n<LL.length;n++)if(d.toUpperCase()===LL[n]){d=VL[n],d*=f,isNaN(cdv)&&8===n&&(cdv=LL[n]);break}}else d*=f;rs+=d}return 10===(cd=rs%11)&&(cd="X"),cd===cdv},"The specified vehicle identification number (VIN) is invalid."),$.validator.addMethod("zipcodeUS",function(value,element){return this.optional(element)||/^\d{5}(-\d{4})?$/.test(value)},"The specified US ZIP Code is invalid"),$.validator.addMethod("ziprange",function(value,element){return this.optional(element)||/^90[2-5]\d\{2\}-\d{4}$/.test(value)},"Your ZIP-code must be in the range 902xx-xxxx to 905xx-xxxx")},"function"==typeof define&&define.amd?define(["jquery","./jquery.validate"],factory):"object"==typeof module&&module.exports?module.exports=factory(require("jquery")):factory(jQuery)}).call(window)},1733:function(module,exports){(function(){var $;($=jQuery).uniform={options:{selectClass:"selector",radioClass:"radio",checkboxClass:"checker",fileClass:"uploader",filenameClass:"filename",fileBtnClass:"action",globalClass:"uniform",fileDefaultText:"No file selected",fileBtnText:"Choose File",checkedClass:"checked",focusClass:"focus",disabledClass:"disabled",activeClass:"active",hoverClass:"hover",useID:!0,idPrefix:"uniform",resetSelector:!1},elements:[]},$.browser.msie&&$.browser.version<7?$.selectOpacity=!1:$.selectOpacity=!0,$.fn.uniform=function(options){var el=this;function storeElement(elem){(elem=$(elem).get()).length>1?$.each(elem,function(i,val){$.uniform.elements.push(val)}):$.uniform.elements.push(elem)}function attachLabelHover($e,divTag){var id=$e.attr("id");$.isBlank(id)||(divTag.parent().delegate('label[for="'+id+'"]',"mouseover",function(){divTag.addClass("focus")}),divTag.parent().delegate('label[for="'+id+'"]',"mouseout",function(){divTag.removeClass("focus")}))}return 0!=(options=$.extend($.uniform.options,options)).resetSelector&&$(options.resetSelector).mouseup(function(){setTimeout(function(){$.uniform.update(el)},10)}),$.uniform.update=function(elem){void 0==elem&&(elem=$($.uniform.elements)),(elem=$(elem)).each(function(){var spanTag,divTag,$e=$(this);if(!($e.parents("body").length<1))if($e.is("select"))spanTag=$e.siblings("div").find("span"),(divTag=$e.parent("div")).removeClass(options.hoverClass+" "+options.focusClass+" "+options.activeClass),spanTag.html($.htmlEscape($e.find(":selected").text())),$e.is(":disabled")?divTag.addClass(options.disabledClass):divTag.removeClass(options.disabledClass);else if($e.is(":checkbox"))spanTag=$e.closest("span"),(divTag=$e.closest("div")).removeClass(options.hoverClass+" "+options.focusClass+" "+options.activeClass),spanTag.removeClass(options.checkedClass),$e.is(":checked")&&spanTag.addClass(options.checkedClass),$e.is(":disabled")?divTag.addClass(options.disabledClass):divTag.removeClass(options.disabledClass);else if($e.is(":radio"))spanTag=$e.closest("span"),(divTag=$e.closest("div")).removeClass(options.hoverClass+" "+options.focusClass+" "+options.activeClass),spanTag.removeClass(options.checkedClass),$e.is(":checked")&&spanTag.addClass(options.checkedClass),$e.is(":disabled")?divTag.addClass(options.disabledClass):divTag.removeClass(options.disabledClass);else if($e.is(":file")){divTag=$e.parent("div");var filenameTag=$e.siblings(options.filenameClass);$e.siblings(options.fileBtnClass),divTag.removeClass(options.hoverClass+" "+options.focusClass+" "+options.activeClass),filenameTag.text($e.val()),$e.is(":disabled")?divTag.addClass(options.disabledClass):divTag.removeClass(options.disabledClass)}})},this.each(function(){if($.selectOpacity){var elem=$(this);if(!0===elem.data("jquery.uniformed"))return;elem.is("select")?1!=elem.attr("multiple")&&function(elem){var divTag='<div><div class="container"><div><span></span></div></div></div>';elem.css("opacity",0),elem.after(divTag),(divTag=elem.next()).append(elem);var spanTag=divTag.find("span");divTag.addClass(options.selectClass).addClass(options.globalClass),options.useID&&divTag.attr("id",options.idPrefix+"-"+elem.attr("id"));var $selected=elem.find(":selected:first");0===$selected.length&&($selected=elem.find("option:first")),spanTag.text($selected.text()),elem.change(function(){spanTag.text(elem.find(":selected").text())}).focus(function(){divTag.addClass(options.focusClass)}).blur(function(){divTag.removeClass(options.focusClass)}).bind("mousedown.uniform touchbegin.uniform",function(){divTag.addClass(options.activeClass)}).bind("mouseup.uniform touchend.uniform",function(){divTag.removeClass(options.activeClass)}).bind("click.uniform",function(){divTag.removeClass(options.activeClass)}).hover(function(){divTag.addClass(options.hoverClass)},function(){divTag.removeClass(options.hoverClass)}).keypress(function(){spanTag.text(elem.find(":selected").text())}),$(elem).attr("disabled")&&divTag.addClass(options.disabledClass),storeElement(elem)}(elem):elem.is(":checkbox")?function(elem){var divTag="<div><span></span></div>";elem.after(divTag);var spanTag=(divTag=elem.next()).children();spanTag.append(elem),options.useID&&divTag.attr("id",options.idPrefix+"-"+elem.attr("id")),divTag.addClass(options.checkboxClass).addClass(options.globalClass),$(elem).css("opacity",0).focus(function(){divTag.addClass(options.focusClass)}).blur(function(){divTag.removeClass(options.focusClass)}).click(function(){$(elem).attr("checked")?spanTag.addClass(options.checkedClass):spanTag.removeClass(options.checkedClass)}).mousedown(function(){divTag.addClass(options.activeClass)}).mouseup(function(){divTag.removeClass(options.activeClass)}).hover(function(){divTag.addClass(options.hoverClass)},function(){divTag.removeClass(options.hoverClass)}),$(elem).attr("checked")&&spanTag.addClass(options.checkedClass),$(elem).attr("disabled")&&divTag.addClass(options.disabledClass),attachLabelHover($(elem),divTag),storeElement(elem)}(elem):elem.is(":radio")?function(elem){var divTag="<div><span></span></div>";elem.after(divTag);var spanTag=(divTag=elem.next()).children();spanTag.append(elem),options.useID&&divTag.attr("id",options.idPrefix+"-"+elem.attr("id")),divTag.addClass(options.radioClass).addClass(options.globalClass),$(elem).css("opacity",0).focus(function(){divTag.addClass(options.focusClass)}).blur(function(){divTag.removeClass(options.focusClass)}).click(function(){$(elem).attr("checked")?($("."+options.radioClass+" span."+options.checkedClass+":has([name='"+$(elem).attr("name")+"'])").removeClass(options.checkedClass),spanTag.addClass(options.checkedClass)):spanTag.removeClass(options.checkedClass)}).mousedown(function(){$(elem).is(":disabled")||divTag.addClass(options.activeClass)}).mouseup(function(){divTag.removeClass(options.activeClass)}).hover(function(){divTag.addClass(options.hoverClass)},function(){divTag.removeClass(options.hoverClass)}),$(elem).attr("checked")&&spanTag.addClass(options.checkedClass),$(elem).attr("disabled")&&divTag.addClass(options.disabledClass),attachLabelHover($(elem),divTag),storeElement(elem)}(elem):elem.is(":file")&&function(elem){var $el=$(elem),divTag=$("<div />"),filenameTag=$("<span>"+$.htmlEscape(options.fileDefaultText)+"</span>"),btnTag=$("<span>"+$.htmlEscape(options.fileBtnText)+"</span>");if(divTag.addClass(options.fileClass).addClass(options.globalClass),filenameTag.addClass(options.filenameClass),btnTag.addClass(options.fileBtnClass),options.useID&&divTag.attr("id",options.idPrefix+"-"+$el.attr("id")),$el.wrap(divTag),$el.after(btnTag),$el.after(filenameTag),divTag=$el.closest("div"),filenameTag=$el.siblings("."+options.filenameClass),btnTag=$el.siblings("."+options.fileBtnClass),!$el.attr("size")){var divWidth=divTag.width();$el.attr("size",divWidth/10)}var setFilename=function(){var filename=$el.val();""===filename?filename=options.fileDefaultText:(filename=(filename=filename.split(/[\/\\]+/))[filename.length-1],filenameTag.text(filename))};setFilename(),$el.css("opacity",0).focus(function(){divTag.addClass(options.focusClass)}).blur(function(){divTag.removeClass(options.focusClass)}).mousedown(function(){$(elem).is(":disabled")||divTag.addClass(options.activeClass)}).mouseup(function(){divTag.removeClass(options.activeClass)}).hover(function(){divTag.addClass(options.hoverClass)},function(){divTag.removeClass(options.hoverClass)}),$.browser.msie?$el.click(function(){setTimeout(setFilename,0)}):$el.change(setFilename),$el.attr("disabled")&&divTag.addClass(options.disabledClass),storeElement(elem)}(elem),elem.data("jquery.uniformed",!0)}})}}).call(window)},1734:function(module,exports){(function(){!function($){function CreateID(oAJAX){var sIdentifier=oAJAX.url;return sIdentifier+="string"==typeof oAJAX.data?oAJAX.data:oAJAX.data?$.param(oAJAX.data).split("&").sort().join("&"):"",sIdentifier+="string"==typeof oAJAX.dataType?oAJAX.dataType:"",sIdentifier+="string"==typeof oAJAX.type?oAJAX.type:""}$.Tache={Data:[],InProcessData:[],Delete:function(a){!function(oAJAX){if("string"!=typeof oAJAX.url)return void alert("No AJAX URL passed");for(var sIdentifier=CreateID(oAJAX),dtNow=new Date,i=$.Tache.Data.length;i>0;i--)((dtNow.valueOf()-$.Tache.Data[i-1].dtAge.valueOf())/1e3>$.Tache.Timeout||$.Tache.Data[i-1].sIdentifier==sIdentifier)&&$.Tache.Data.splice(i-1,1);for(var i=$.Tache.InProcessData.length;i>0;i--)((dtNow.valueOf()-$.Tache.InProcessData[i-1].dtAge.valueOf())/1e3>$.Tache.Timeout||$.Tache.InProcessData[i-1].sIdentifier==sIdentifier)&&$.Tache.InProcessData.splice(i-1,1)}(a)},DeleteAll:function(){$.Tache.Data=[],$.Tache.InProcessData=[]},Get:function(a){!function(oAJAX){if("string"!=typeof oAJAX.url)return void alert("No AJAX URL passed");for(var sIdentifier=CreateID(oAJAX),dtNow=new Date,i=$.Tache.Data.length;i>0;i--)if((dtNow.valueOf()-$.Tache.Data[i-1].dtAge.valueOf())/1e3>$.Tache.Timeout)$.Tache.Data.splice(i-1,1);else if($.Tache.Data[i-1].sIdentifier==sIdentifier){var item=$.Tache.Data[i-1];return void(item.hasOwnProperty("oData")?oAJAX.success(item.oData):item.hasOwnProperty("oErrorReq")&&oAJAX.error(item.oErrorReq))}for(var i=$.Tache.InProcessData.length;i>0;i--)if((dtNow.valueOf()-$.Tache.InProcessData[i-1].dtAge.valueOf())/1e3>$.Tache.Timeout)$.Tache.InProcessData.splice(i-1,1);else if($.Tache.InProcessData[i-1].sIdentifier==sIdentifier)return void $.Tache.InProcessData[i-1].oReqs.push(oAJAX);var oCallback=oAJAX.success;$.Tache.InProcessData.push({sIdentifier:sIdentifier,dtAge:new Date,oReqs:[oAJAX]}),oAJAX.success=function(oNewData,ts,xhr){200==xhr.status&&$.Tache.Data.push({sIdentifier:sIdentifier,oData:oNewData,dtAge:new Date}),oAJAX.success=oCallback;for(var i=0;i<$.Tache.InProcessData.length;i++)if($.Tache.InProcessData[i].sIdentifier==sIdentifier)for(var ipItem=$.Tache.InProcessData.splice(i,1)[0],j=0;j<ipItem.oReqs.length;j++)ipItem.oReqs[j].success.apply(this,arguments)};var oeCallback=oAJAX.error;oAJAX.error=function(xhr){xhr.status<500&&$.Tache.Data.push({sIdentifier:sIdentifier,oErrorReq:xhr,dtAge:new Date}),oAJAX.error=oeCallback;for(var i=0;i<$.Tache.InProcessData.length;i++)if($.Tache.InProcessData[i].sIdentifier==sIdentifier)for(var ipItem=$.Tache.InProcessData.splice(i,1)[0],j=0;j<ipItem.oReqs.length;j++)ipItem.oReqs[j].error instanceof Function&&ipItem.oReqs[j].error.apply(this,arguments)},$.ajax(oAJAX)}(a)},SetTimeout:function(a){var iSeconds;iSeconds=a,$.Tache.Timeout=iSeconds},Timeout:600}}(jQuery)}).call(window)},1735:function(module,exports){(function(){var B,A;B=jQuery,A=function(C){return parseInt(C,10)||0},B.each(["min","max"],function(D,C){B.fn[C+"Size"]=function(G){var F,E;return G?(G.width&&this.css(C+"-width",G.width),G.height&&this.css(C+"-height",G.height),this):(F=this.css(C+"-width"),E=this.css(C+"-height"),{width:"max"===C&&(void 0===F||"none"===F||-1===A(F))&&Number.MAX_VALUE||A(F),height:"max"===C&&(void 0===E||"none"===E||-1===A(E))&&Number.MAX_VALUE||A(E)})}}),B.fn.isVisible=function(){return"hidden"!==this.css("visibility")&&"none"!==this.css("display")},B.each(["border","margin","padding"],function(D,C){B.fn[C]=function(E){return E?(E.top&&this.css(C+"-top"+("border"===C?"-width":""),E.top),E.bottom&&this.css(C+"-bottom"+("border"===C?"-width":""),E.bottom),E.left&&this.css(C+"-left"+("border"===C?"-width":""),E.left),E.right&&this.css(C+"-right"+("border"===C?"-width":""),E.right),this):{top:A(this.css(C+"-top"+("border"===C?"-width":""))),bottom:A(this.css(C+"-bottom"+("border"===C?"-width":""))),left:A(this.css(C+"-left"+("border"===C?"-width":""))),right:A(this.css(C+"-right"+("border"===C?"-width":"")))}}})}).call(window)},1736:function(module,exports){var define=void 0,require=void 0,module=void 0,exports=void 0;(function(){this.JSON||(this.JSON={}),function(){function f(n){return n<10?"0"+n:n}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){return escapable.lastIndex=0,escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return"string"==typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,partial,mind=gap,value=holder[key];switch(value&&"object"==typeof value&&"function"==typeof value.toJSON&&(value=value.toJSON(key)),"function"==typeof rep&&(value=rep.call(holder,key,value)),typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value)return"null";if(gap+=indent,partial=[],"[object Array]"===Object.prototype.toString.apply(value)){for(length=value.length,i=0;i<length;i+=1)partial[i]=str(i,value)||"null";return v=0===partial.length?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]",gap=mind,v}if(rep&&"object"==typeof rep)for(length=rep.length,i=0;i<length;i+=1)"string"==typeof(k=rep[i])&&(v=str(k,value))&&partial.push(quote(k)+(gap?": ":":")+v);else for(k in value)Object.hasOwnProperty.call(value,k)&&(v=str(k,value))&&partial.push(quote(k)+(gap?": ":":")+v);return v=0===partial.length?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}",gap=mind,v}}"function"!=typeof JSON.stringify&&(JSON.stringify=function(value,replacer,space){var i;if(gap="",indent="","number"==typeof space)for(i=0;i<space;i+=1)indent+=" ";else"string"==typeof space&&(indent=space);if(rep=replacer,replacer&&"function"!=typeof replacer&&("object"!=typeof replacer||"number"!=typeof replacer.length))throw new Error("JSON.stringify");return str("",{"":value})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&"object"==typeof value)for(k in value)Object.hasOwnProperty.call(value,k)&&(void 0!==(v=walk(value,k))?value[k]=v:delete value[k]);return reviver.call(holder,key,value)}if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()}).call(window)},1737:function(module,exports){(function(){var $;($=jQuery).fn.example=function(text,args){var isCallback=$.isFunction(text),options=$.extend({},args,{example:text});return this.each(function(){var $this=$(this);if($.metadata)var o=$.extend({},$.fn.example.defaults,$this.metadata(),options);else o=$.extend({},$.fn.example.defaults,options);$.fn.example.boundClassNames[o.className]||($(window).unload(function(){$("."+o.className).val("")}),$("form").submit(function(){$(this).find("."+o.className).val("")}),$.fn.example.boundClassNames[o.className]=!0),$this.attr("value")||!isCallback&&$this.val()!=o.example||$this.val("");var activeElement=null;try{activeElement=document.activeElement}catch(e){}""==$this.val()&&this!=activeElement&&($this.addClass(o.className),$this.val(isCallback?o.example.call(this):o.example)),$this.focus(function(){$(this).is("."+o.className)&&($(this).val(""),$(this).removeClass(o.className))}),$this.change(function(){$(this).is("."+o.className)&&$(this).removeClass(o.className)}),$this.blur(function(){(""==$(this).val()||$(this).is("."+o.className))&&($(this).addClass(o.className),$(this).val(isCallback?o.example.call(this):o.example))})})},$.fn.example.defaults={className:"example"},$.fn.example.boundClassNames=[]}).call(window)},1738:function(module,exports){(function(){var cookies,defaultOptions,resolveOptions,assembleOptionsString,splitCookies,constructor,jaaulde=window.jaaulde||{};jaaulde.utils=jaaulde.utils||{},jaaulde.utils.cookies=(cookies=[],defaultOptions={hoursToLive:null,path:"/",domain:null,secure:!1},resolveOptions=function(options){return"object"!=typeof options||null===options?defaultOptions:{hoursToLive:"number"==typeof options.hoursToLive&&0!==options.hoursToLive?options.hoursToLive:defaultOptions.hoursToLive,path:"string"==typeof options.path&&""!==options.path?options.path:defaultOptions.path,domain:"string"==typeof options.domain&&""!==options.domain?options.domain:defaultOptions.domain,secure:"boolean"==typeof options.secure&&options.secure?options.secure:defaultOptions.secure}},assembleOptionsString=function(options){return("number"==typeof(options=resolveOptions(options)).hoursToLive?"; expires="+(hoursToLive=options.hoursToLive,(dateObject=new Date).setTime(dateObject.getTime()+60*hoursToLive*60*1e3),dateObject.toGMTString()):"")+"; path="+options.path+("string"==typeof options.domain?"; domain="+options.domain:"")+(!0===options.secure?"; secure":"");var hoursToLive,dateObject},splitCookies=function(){cookies={};for(var pair,name,value,separated=document.cookie.split(";"),i=0;i<separated.length;i+=1)name=(pair=separated[i].split("="))[0].replace(/^\s*/,"").replace(/\s*$/,""),value=decodeURIComponent(pair[1]),cookies[name]=value;return cookies},(constructor=function(){}).prototype.get=function(cookieName){var returnValue;if(splitCookies(),"string"==typeof cookieName)returnValue=void 0!==cookies[cookieName]?cookies[cookieName]:null;else if("object"==typeof cookieName&&null!==cookieName)for(var item in returnValue={},cookieName)void 0!==cookies[cookieName[item]]?returnValue[cookieName[item]]=cookies[cookieName[item]]:returnValue[cookieName[item]]=null;else returnValue=cookies;return returnValue},constructor.prototype.filter=function(cookieNameRegExp){var returnValue={};for(var cookieName in splitCookies(),"string"==typeof cookieNameRegExp&&(cookieNameRegExp=new RegExp(cookieNameRegExp)),cookies)cookieName.match(cookieNameRegExp)&&(returnValue[cookieName]=cookies[cookieName]);return returnValue},constructor.prototype.set=function(cookieName,value,options){void 0!==value&&null!==value||("object"==typeof options&&null!==options||(options={}),value="",options.hoursToLive=-8760);var optionsString=assembleOptionsString(options);document.cookie=cookieName+"="+encodeURIComponent(value)+optionsString},constructor.prototype.del=function(cookieName,options){var allCookies={};for(var name in"object"==typeof options&&null!==options||(options={}),"boolean"==typeof cookieName&&!0===cookieName?allCookies=this.get():"string"==typeof cookieName&&(allCookies[cookieName]=!0),allCookies)"string"==typeof name&&""!==name&&this.set(name,null,options)},constructor.prototype.test=function(){var returnValue=!1;return this.set("cT","data"),"data"===this.get("cT")&&(this.del("cT"),returnValue=!0),returnValue},constructor.prototype.setOptions=function(options){"object"!=typeof options&&(options=null),defaultOptions=resolveOptions(options)},new constructor),window.jQuery&&function($){$.cookies=jaaulde.utils.cookies;var extensions={cookify:function(options){return this.each(function(){var i,nodeName,inputType,resolvedName=!1,resolvedValue=!1,name="",value="",nameAttrs=["name","id"];for(i in nameAttrs)if(!isNaN(i)&&"string"==typeof(name=$(this).attr(nameAttrs[i]))&&""!==name){resolvedName=!0;break}resolvedName&&("input"!==(nodeName=this.nodeName.toLowerCase())&&"textarea"!==nodeName&&"select"!==nodeName&&"img"!==nodeName?(value=$(this).html(),resolvedValue=!0):("string"==typeof(inputType=$(this).attr("type"))&&""!==inputType&&(inputType=inputType.toLowerCase()),"radio"!==inputType&&"checkbox"!==inputType&&(value=$(this).val(),resolvedValue=!0)),resolvedValue&&("string"==typeof value&&""!==value||(value=null),$.cookies.set(name,value,options)))})},cookieFill:function(){return this.each(function(){var i,value,nodeName,resolvedName=!1,name="",nameAttrs=["name","id"];for(i in nameAttrs)if(!isNaN(i)&&"string"==typeof(name=$(this).attr(nameAttrs[i]))&&""!==name){resolvedName=!0;break}resolvedName&&null!==(value=$.cookies.get(name))&&("input"===(nodeName=this.nodeName.toLowerCase())||"textarea"===nodeName||"select"===nodeName?$(this).val(value):$(this).html(value))})},cookieBind:function(options){return this.each(function(){$(this).cookieFill().change(function(){$(this).cookify(options)})})}};$.each(extensions,function(i){$.fn[i]=this})}(window.jQuery)}).call(window)},1739:function(module,exports){var define=void 0,require=void 0,module=void 0,exports=void 0;(function(){jQuery.bt={version:"0.9.5-rc1"},function($){var incrId=0;jQuery.fn.bt=function(content,options){var contentSelect=!1;return"string"!=typeof content&&(options=content,options.content?content=options.content:(contentSelect=!0,content=!1)),jQuery.fn.hoverIntent&&"hover"==jQuery.bt.defaults.trigger&&(jQuery.bt.defaults.trigger="hoverIntent"),this.each(function(index){var opts=jQuery.extend(!1,jQuery.bt.defaults,jQuery.bt.options,options);this._opts=opts,this._internalId="btId"+incrId++,opts.spikeLength=numb(opts.spikeLength),opts.spikeGirth=numb(opts.spikeGirth),opts.overlap=numb(opts.overlap);var ajaxTimeout=!1;this.btOn=function(){if(!_.isFunction(opts.onShowCallback)||opts.onShowCallback()){if("object"==typeof $(this).data("bt-box")&&this.btOff(),opts.preBuild.apply(this),$(jQuery.bt.vars.closeWhenOpenStack).btOff(),$(this).addClass("bt-active "+opts.activeClass),contentSelect&&null==opts.ajaxPath&&(opts.killTitle&&$(this).attr("title",$(this).attr("bt-xTitle")),content=$.isFunction(opts.contentSelector)?opts.contentSelector.apply(this):eval(opts.contentSelector),opts.killTitle&&$(this).attr("title","")),null!=opts.ajaxPath&&0==content){if("object"==typeof opts.ajaxPath){var url=eval(opts.ajaxPath[0]);url+=opts.ajaxPath[1]?" "+opts.ajaxPath[1]:""}else var url=opts.ajaxPath;var off=url.indexOf(" ");if(off>=0){var selector=url.slice(off,url.length);url=url.slice(0,off)}var cacheData=opts.ajaxCache?$(document.body).data("btCache-"+url.replace(/\./g,"")):null;if("string"==typeof cacheData)content=selector?$("<div/>").append(cacheData.replace(/<script(.|\s)*?\/script>/g,"")).find(selector):cacheData;else{var target=this,ajaxOpts=jQuery.extend(!1,{type:opts.ajaxType,data:opts.ajaxData,cache:opts.ajaxCache,url:url,complete:function(XMLHttpRequest,textStatus){"success"==textStatus||"notmodified"==textStatus?(opts.ajaxCache&&$(document.body).data("btCache-"+url.replace(/\./g,""),XMLHttpRequest.responseText),ajaxTimeout=!1,content=selector?$("<div/>").append(XMLHttpRequest.responseText.replace(/<script(.|\s)*?\/script>/g,"")).find(selector):XMLHttpRequest.responseText):("timeout"==textStatus&&(ajaxTimeout=!0),content=opts.ajaxError.replace(/%error/g,XMLHttpRequest.statusText)),$(target).hasClass("bt-active")&&target.btOn()}},opts.ajaxOpts);jQuery.ajax(ajaxOpts),content=opts.ajaxLoading}}var shadowMarginX=0,shadowMarginY=0,shadowShiftX=0,shadowShiftY=0;if(opts.shadow&&!shadowSupport()&&(opts.shadow=!1,jQuery.extend(opts,opts.noShadowOpts)),opts.shadow&&(shadowMarginX=opts.shadowBlur>Math.abs(opts.shadowOffsetX)?2*opts.shadowBlur:opts.shadowBlur+Math.abs(opts.shadowOffsetX),shadowShiftX=opts.shadowBlur-opts.shadowOffsetX>0?opts.shadowBlur-opts.shadowOffsetX:0,shadowMarginY=opts.shadowBlur>Math.abs(opts.shadowOffsetY)?2*opts.shadowBlur:opts.shadowBlur+Math.abs(opts.shadowOffsetY),shadowShiftY=opts.shadowBlur-opts.shadowOffsetY>0?opts.shadowBlur-opts.shadowOffsetY:0),opts.offsetParent){var offsetParent=$(opts.offsetParent),offsetParentPos=offsetParent.offset(),pos=$(this).offset(),top=numb(pos.top)-numb(offsetParentPos.top)+numb($(this).css("margin-top"))-shadowShiftY,left=numb(pos.left)-numb(offsetParentPos.left)+numb($(this).css("margin-left"))-shadowShiftX;"body"!=offsetParent[0].tagName.toLowerCase()&&(top+=offsetParent.scrollTop(),left+=offsetParent.scrollLeft())}else var offsetParent=$(this).offsetParent(),pos=$(this).btPosition(),top=numb(pos.top)+numb($(this).css("margin-top"))-shadowShiftY,left=numb(pos.left)+numb($(this).css("margin-left"))-shadowShiftX;var width=$(this).btOuterWidth(),height=$(this).btOuterHeight();if("object"==typeof content){var original=content,clone=$(original).clone(!0).show(),origClones=$(original).data("bt-clones")||[];origClones.push(clone),$(original).data("bt-clones",origClones),$(clone).data("bt-orig",original),$(this).data("bt-content-orig",{original:original,clone:clone}),content=clone}if("null"!=typeof content&&""!=content){var $text=$('<div class="bt-content"></div>').append(content).css({padding:opts.padding,position:"absolute",width:opts.shrinkToFit?"auto":opts.width,zIndex:opts.textzIndex,left:shadowShiftX,top:shadowShiftY}).css(opts.cssStyles),$box=$('<div class="bt-wrapper"></div>').append($text).addClass(opts.cssClass).css({position:"absolute",width:opts.width,zIndex:opts.wrapperzIndex,visibility:"hidden"}).appendTo(offsetParent);jQuery.fn.bgiframe&&($text.bgiframe(),$box.bgiframe()),$(this).data("bt-box",$box);var scrollTop=numb($(document).scrollTop()),scrollLeft=numb($(document).scrollLeft()),docWidth=numb($(window).width()),docHeight=numb($(window).height()),winRight=scrollLeft+docWidth,winBottom=scrollTop+docHeight,space=new Object,thisOffset=$(this).offset();space.top=thisOffset.top-scrollTop,space.bottom=docHeight-(thisOffset.top+height-scrollTop),space.left=thisOffset.left-scrollLeft,space.right=docWidth-(thisOffset.left+width-scrollLeft);var textOutHeight=numb($text.outerHeight()),textOutWidth=numb($text.btOuterWidth()),position,splitPosition,basePosition,subPosition;if(opts.positions.constructor==String&&(opts.positions=opts.positions.replace(/ /,"").split(",")),"most"==opts.positions[0]){for(var pig in position="top",space)space.hasOwnProperty(pig)&&(position=space[pig]>space[position]?pig:position);basePosition=position}else for(var x in opts.positions)if(opts.positions.hasOwnProperty(x)){if(position=opts.positions[x],splitPosition=position.split("-"),basePosition=splitPosition[0],subPosition=splitPosition[1],("left"==basePosition||"right"==basePosition)&&space[basePosition]>textOutWidth+opts.spikeLength)break;if(("top"==basePosition||"bottom"==basePosition)&&space[basePosition]>textOutHeight+opts.spikeLength)break}var horiz=left+.5*(width-textOutWidth);"left"===subPosition?horiz=left-textOutWidth/2:"right"===subPosition&&(horiz=left+(width-textOutWidth/2));var vert=top+.5*(height-textOutHeight),points=new Array,textTop,textLeft,textRight,textBottom,textTopSpace,textBottomSpace,textLeftSpace,textRightSpace,crossPoint,textCenter,spikePoint;switch(basePosition){case"explicit":var explicitPos=opts.explicitPosition;$text.css("margin-bottom",opts.spikeLength+"px"),horiz=left+explicitPos[0]-textOutWidth/2,$box.css({top:explicitPos[1]+top-$text.outerHeight(!0)+opts.overlap,left:horiz}),textRightSpace=winRight-opts.windowMargin-($text.offset().left+$text.btOuterWidth(!0));var xShift=shadowShiftX;textRightSpace<0&&($box.css("left",numb($box.css("left"))+textRightSpace+"px"),xShift-=textRightSpace),textLeftSpace=$text.offset().left+numb($text.css("margin-left"))-(scrollLeft+opts.windowMargin),textLeftSpace<0&&($box.css("left",numb($box.css("left"))-textLeftSpace+"px"),xShift+=textLeftSpace),textTop=$text.btPosition().top+numb($text.css("margin-top")),textLeft=$text.btPosition().left+numb($text.css("margin-left")),textRight=textLeft+$text.btOuterWidth(),textBottom=textTop+$text.outerHeight(),textCenter={x:textLeft+$text.btOuterWidth()*opts.centerPointX,y:textTop+$text.outerHeight()*opts.centerPointY},points[points.length]=spikePoint={y:textBottom+opts.spikeLength,x:.5*(textRight-textLeft)+xShift,type:"spike"},crossPoint=findIntersectX(spikePoint.x,spikePoint.y,textCenter.x,textCenter.y,textBottom),crossPoint.x=crossPoint.x<textLeft+opts.spikeGirth/2+opts.cornerRadius?textLeft+opts.spikeGirth/2+opts.cornerRadius:crossPoint.x,crossPoint.x=crossPoint.x>textRight-opts.spikeGirth/2-opts.cornerRadius?textRight-opts.spikeGirth/2-opts.CornerRadius:crossPoint.x,points[points.length]={x:crossPoint.x-opts.spikeGirth/2,y:textBottom,type:"join"},points[points.length]={x:textLeft,y:textBottom,type:"corner"},points[points.length]={x:textLeft,y:textTop,type:"corner"},points[points.length]={x:textRight,y:textTop,type:"corner"},points[points.length]={x:textRight,y:textBottom,type:"corner"},points[points.length]={x:crossPoint.x+opts.spikeGirth/2,y:textBottom,type:"join"},points[points.length]=spikePoint;break;case"top":$text.css("margin-bottom",opts.spikeLength+"px"),$box.css({top:top-$text.outerHeight(!0)+opts.overlap,left:horiz}),textRightSpace=winRight-opts.windowMargin-($text.offset().left+$text.btOuterWidth(!0));var xShift=shadowShiftX;textRightSpace<0&&($box.css("left",numb($box.css("left"))+textRightSpace+"px"),xShift-=textRightSpace),textLeftSpace=$text.offset().left+numb($text.css("margin-left"))-(scrollLeft+opts.windowMargin),textLeftSpace<0&&($box.css("left",numb($box.css("left"))-textLeftSpace+"px"),xShift+=textLeftSpace),textTop=$text.btPosition().top+numb($text.css("margin-top")),textLeft=$text.btPosition().left+numb($text.css("margin-left")),textRight=textLeft+$text.btOuterWidth(),textBottom=textTop+$text.outerHeight(),textCenter={x:textLeft+$text.btOuterWidth()*opts.centerPointX,y:textTop+$text.outerHeight()*opts.centerPointY},points[points.length]=spikePoint={y:textBottom+opts.spikeLength,x:.5*(textRight-textLeft)+xShift,type:"spike"},crossPoint=findIntersectX(spikePoint.x,spikePoint.y,textCenter.x,textCenter.y,textBottom),crossPoint.x=crossPoint.x<textLeft+opts.spikeGirth/2+opts.cornerRadius?textLeft+opts.spikeGirth/2+opts.cornerRadius:crossPoint.x,crossPoint.x=crossPoint.x>textRight-opts.spikeGirth/2-opts.cornerRadius?textRight-opts.spikeGirth/2-opts.CornerRadius:crossPoint.x,points[points.length]={x:crossPoint.x-opts.spikeGirth/2,y:textBottom,type:"join"},points[points.length]={x:textLeft,y:textBottom,type:"corner"},points[points.length]={x:textLeft,y:textTop,type:"corner"},points[points.length]={x:textRight,y:textTop,type:"corner"},points[points.length]={x:textRight,y:textBottom,type:"corner"},points[points.length]={x:crossPoint.x+opts.spikeGirth/2,y:textBottom,type:"join"},points[points.length]=spikePoint;break;case"left":$text.css("margin-right",opts.spikeLength+"px"),$box.css({top:vert+"px",left:left-$text.btOuterWidth(!0)+opts.overlap+"px"}),textBottomSpace=winBottom-opts.windowMargin-($text.offset().top+$text.outerHeight(!0));var yShift=shadowShiftY;textBottomSpace<0&&($box.css("top",numb($box.css("top"))+textBottomSpace+"px"),yShift-=textBottomSpace),textTopSpace=$text.offset().top+numb($text.css("margin-top"))-(scrollTop+opts.windowMargin),textTopSpace<0&&($box.css("top",numb($box.css("top"))-textTopSpace+"px"),yShift+=textTopSpace),textTop=$text.btPosition().top+numb($text.css("margin-top")),textLeft=$text.btPosition().left+numb($text.css("margin-left")),textRight=textLeft+$text.btOuterWidth(),textBottom=textTop+$text.outerHeight(),textCenter={x:textLeft+$text.btOuterWidth()*opts.centerPointX,y:textTop+$text.outerHeight()*opts.centerPointY},points[points.length]=spikePoint={x:textRight+opts.spikeLength,y:.5*(textBottom-textTop)+yShift,type:"spike"},crossPoint=findIntersectY(spikePoint.x,spikePoint.y,textCenter.x,textCenter.y,textRight),crossPoint.y=crossPoint.y<textTop+opts.spikeGirth/2+opts.cornerRadius?textTop+opts.spikeGirth/2+opts.cornerRadius:crossPoint.y,crossPoint.y=crossPoint.y>textBottom-opts.spikeGirth/2-opts.cornerRadius?textBottom-opts.spikeGirth/2-opts.cornerRadius:crossPoint.y,points[points.length]={x:textRight,y:crossPoint.y+opts.spikeGirth/2,type:"join"},points[points.length]={x:textRight,y:textBottom,type:"corner"},points[points.length]={x:textLeft,y:textBottom,type:"corner"},points[points.length]={x:textLeft,y:textTop,type:"corner"},points[points.length]={x:textRight,y:textTop,type:"corner"},points[points.length]={x:textRight,y:crossPoint.y-opts.spikeGirth/2,type:"join"},points[points.length]=spikePoint;break;case"bottom":$text.css("margin-top",opts.spikeLength+"px"),$box.css({top:top+height-opts.overlap,left:horiz}),textRightSpace=winRight-opts.windowMargin-($text.offset().left+$text.btOuterWidth(!0));var xShift=shadowShiftX;textRightSpace<0&&($box.css("left",numb($box.css("left"))+textRightSpace+"px"),xShift-=textRightSpace),textLeftSpace=$text.offset().left+numb($text.css("margin-left"))-(scrollLeft+opts.windowMargin),textLeftSpace<0&&($box.css("left",numb($box.css("left"))-textLeftSpace+"px"),xShift+=textLeftSpace),textTop=$text.btPosition().top+numb($text.css("margin-top")),textLeft=$text.btPosition().left+numb($text.css("margin-left")),textRight=textLeft+$text.btOuterWidth(),textBottom=textTop+$text.outerHeight(),textCenter={x:textLeft+$text.btOuterWidth()*opts.centerPointX,y:textTop+$text.outerHeight()*opts.centerPointY},points[points.length]=spikePoint={x:.5*(textRight-textLeft)+xShift,y:shadowShiftY,type:"spike"},crossPoint=findIntersectX(spikePoint.x,spikePoint.y,textCenter.x,textCenter.y,textTop),crossPoint.x=crossPoint.x<textLeft+opts.spikeGirth/2+opts.cornerRadius?textLeft+opts.spikeGirth/2+opts.cornerRadius:crossPoint.x,crossPoint.x=crossPoint.x>textRight-opts.spikeGirth/2-opts.cornerRadius?textRight-opts.spikeGirth/2-opts.cornerRadius:crossPoint.x,points[points.length]={x:crossPoint.x+opts.spikeGirth/2,y:textTop,type:"join"},points[points.length]={x:textRight,y:textTop,type:"corner"},points[points.length]={x:textRight,y:textBottom,type:"corner"},points[points.length]={x:textLeft,y:textBottom,type:"corner"},points[points.length]={x:textLeft,y:textTop,type:"corner"},points[points.length]={x:crossPoint.x-opts.spikeGirth/2,y:textTop,type:"join"},points[points.length]=spikePoint;break;case"right":$text.css("margin-left",opts.spikeLength+"px"),$box.css({top:vert+"px",left:left+width-opts.overlap+"px"}),textBottomSpace=winBottom-opts.windowMargin-($text.offset().top+$text.outerHeight(!0));var yShift=shadowShiftY;textBottomSpace<0&&($box.css("top",numb($box.css("top"))+textBottomSpace+"px"),yShift-=textBottomSpace),textTopSpace=$text.offset().top+numb($text.css("margin-top"))-(scrollTop+opts.windowMargin),textTopSpace<0&&($box.css("top",numb($box.css("top"))-textTopSpace+"px"),yShift+=textTopSpace),textTop=$text.btPosition().top+numb($text.css("margin-top")),textLeft=$text.btPosition().left+numb($text.css("margin-left")),textRight=textLeft+$text.btOuterWidth(),textBottom=textTop+$text.outerHeight(),textCenter={x:textLeft+$text.btOuterWidth()*opts.centerPointX,y:textTop+$text.outerHeight()*opts.centerPointY},points[points.length]=spikePoint={x:shadowShiftX,y:.5*(textBottom-textTop)+yShift,type:"spike"},crossPoint=findIntersectY(spikePoint.x,spikePoint.y,textCenter.x,textCenter.y,textLeft),crossPoint.y=crossPoint.y<textTop+opts.spikeGirth/2+opts.cornerRadius?textTop+opts.spikeGirth/2+opts.cornerRadius:crossPoint.y,crossPoint.y=crossPoint.y>textBottom-opts.spikeGirth/2-opts.cornerRadius?textBottom-opts.spikeGirth/2-opts.cornerRadius:crossPoint.y,points[points.length]={x:textLeft,y:crossPoint.y-opts.spikeGirth/2,type:"join"},points[points.length]={x:textLeft,y:textTop,type:"corner"},points[points.length]={x:textRight,y:textTop,type:"corner"},points[points.length]={x:textRight,y:textBottom,type:"corner"},points[points.length]={x:textLeft,y:textBottom,type:"corner"},points[points.length]={x:textLeft,y:crossPoint.y+opts.spikeGirth/2,type:"join"},points[points.length]=spikePoint}var canvas=document.createElement("canvas");if($(canvas).attr("width",numb($text.btOuterWidth(!0))+2*opts.strokeWidth+shadowMarginX).attr("height",numb($text.outerHeight(!0))+2*opts.strokeWidth+shadowMarginY).appendTo($box).css({position:"absolute",zIndex:opts.boxzIndex}),"undefined"!=typeof G_vmlCanvasManager&&(canvas=G_vmlCanvasManager.initElement(canvas)),opts.cornerRadius>0){for(var newPoints=new Array,newPoint,i=0;i<points.length;i++)"corner"==points[i].type?(newPoint=betweenPoint(points[i],points[(i-1)%points.length],opts.cornerRadius),newPoint.type="arcStart",newPoints[newPoints.length]=newPoint,newPoints[newPoints.length]=points[i],newPoint=betweenPoint(points[i],points[(i+1)%points.length],opts.cornerRadius),newPoint.type="arcEnd",newPoints[newPoints.length]=newPoint):newPoints[newPoints.length]=points[i];points=newPoints}var ctx=canvas.getContext("2d");if(opts.shadow&&!0!==opts.shadowOverlap){var shadowOverlap=numb(opts.shadowOverlap);switch(position){case"top":opts.shadowOffsetX+opts.shadowBlur-shadowOverlap>0&&$box.css("top",numb($box.css("top"))-(opts.shadowOffsetX+opts.shadowBlur-shadowOverlap));break;case"right":shadowShiftX-shadowOverlap>0&&$box.css("left",numb($box.css("left"))+shadowShiftX-shadowOverlap);break;case"bottom":shadowShiftY-shadowOverlap>0&&$box.css("top",numb($box.css("top"))+shadowShiftY-shadowOverlap);break;case"left":opts.shadowOffsetY+opts.shadowBlur-shadowOverlap>0&&$box.css("left",numb($box.css("left"))-(opts.shadowOffsetY+opts.shadowBlur-shadowOverlap))}}if(drawIt.call(ctx,points,opts.strokeWidth),ctx.fillStyle=opts.fill,opts.shadow&&(ctx.shadowOffsetX=opts.shadowOffsetX,ctx.shadowOffsetY=opts.shadowOffsetY,ctx.shadowBlur=opts.shadowBlur,ctx.shadowColor=opts.shadowColor),ctx.closePath(),ctx.fill(),opts.strokeWidth>0&&(ctx.shadowColor="rgba(0, 0, 0, 0)",ctx.lineWidth=opts.strokeWidth,ctx.strokeStyle=opts.strokeStyle,ctx.beginPath(),drawIt.call(ctx,points,opts.strokeWidth),ctx.closePath(),ctx.stroke()),opts.preShow.apply(this,[$box[0]]),$box.css({display:"none",visibility:"visible"}),opts.showTip.apply(this,[$box[0]]),opts.overlay){var overlay=$('<div class="bt-overlay"></div>').css({position:"absolute",backgroundColor:"blue",top:top,left:left,width:width,height:height,opacity:".2"}).appendTo(offsetParent);$(this).data("overlay",overlay)}(null!=opts.ajaxPath&&0==opts.ajaxCache||ajaxTimeout)&&(content=!1),opts.clickAnywhereToClose&&(jQuery.bt.vars.clickAnywhereStack.push(this),$(document).mousedown(jQuery.bt.docClick)),opts.closeWhenOthersOpen&&jQuery.bt.vars.closeWhenOpenStack.push(this),_.isFunction(opts.postShow)&&opts.postShow.apply(this,[$box[0]])}}},this.btOff=function(){var box=$(this).data("bt-box");opts.preHide.apply(this,[box]);var i=this;i.btCleanup=function(){var box=$(i).data("bt-box"),contentOrig=$(i).data("bt-content-orig"),overlay=$(i).data("bt-overlay");if($.isBlank(box)||"object"!=typeof box||($(box).remove(),$(i).removeData("bt-box")),!$.isBlank(contentOrig)&&"object"==typeof contentOrig){var clones=$(contentOrig.original).data("bt-clones");$(contentOrig).data("bt-clones",arrayRemove(clones,contentOrig.clone))}$.isBlank(overlay)||"object"!=typeof overlay||($(overlay).remove(),$(i).removeData("bt-overlay")),jQuery.bt.vars.clickAnywhereStack=arrayRemove(jQuery.bt.vars.clickAnywhereStack,i),jQuery.bt.vars.closeWhenOpenStack=arrayRemove(jQuery.bt.vars.closeWhenOpenStack,i),$(i).removeClass("bt-active "+opts.activeClass),opts.postHide.apply(i)},opts.hideTip.apply(this,[box,i.btCleanup])};var refresh=this.btRefresh=function(){this.btOff(),this.btOn()};if(this.btDestroy=function(){$(this).unbind("."+this._internalId)},opts.killTitle&&$(this).find("[title]").andSelf().each(function(){$(this).attr("bt-xTitle")||($(this).attr("bt-xTitle",$(this).attr("title")),$(this).attr("title",""))}),"string"==typeof opts.trigger&&(opts.trigger=[opts.trigger]),"hoverIntent"==opts.trigger[0]){var hoverOpts=jQuery.extend(opts.hoverIntentOpts,{over:function(){this.btOn()},out:function(){this.btOff()}});$(this).hoverIntent(hoverOpts)}else if("hover"==opts.trigger[0]){var isHover=!1;$(this).bind("mouseenter."+this._internalId,function(){isHover||(isHover=!0,this.btOn())}).bind("mouseleave."+this._internalId,function(){isHover=!1,this.btOff()})}else"now"==opts.trigger[0]?$(this).hasClass("bt-active")?this.btOff():this.btOn():"none"==opts.trigger[0]||(opts.trigger.length>1&&opts.trigger[0]!=opts.trigger[1]?$(this).bind(opts.trigger[0]+"."+this._internalId,function(){this.btOn()}).bind(opts.trigger[1]+"."+this._internalId,function(){this.btOff()}):$(this).bind(opts.trigger[0]+"."+this._internalId,function(){$(this).hasClass("bt-active")?this.btOff():this.btOn()}))});function drawIt(points,strokeWidth){for(this.moveTo(points[0].x,points[0].y),i=1;i<points.length;i++)"arcStart"==points[i-1].type?(this.quadraticCurveTo(round5(points[i].x,strokeWidth),round5(points[i].y,strokeWidth),round5(points[(i+1)%points.length].x,strokeWidth),round5(points[(i+1)%points.length].y,strokeWidth)),i++):this.lineTo(round5(points[i].x,strokeWidth),round5(points[i].y,strokeWidth))}function round5(num,strokeWidth){return(strokeWidth=numb(strokeWidth))%2?num:Math.round(num-.5)+.5}function numb(num){return parseInt(num)||0}function arrayRemove(arr,elem){var x,newArr=new Array;for(x in arr)arr[x]!=elem&&newArr.push(arr[x]);return newArr}function canvasSupport(){var canvas_compatible=!1;try{canvas_compatible=!!document.createElement("canvas").getContext("2d")}catch(e){canvas_compatible=!!document.createElement("canvas").getContext}return canvas_compatible}function shadowSupport(){try{var userAgent=navigator.userAgent.toLowerCase();if(/webkit/.test(userAgent))return!0;if(/gecko|mozilla/.test(userAgent)&&parseFloat(userAgent.match(/firefox\/(\d+(?:\.\d+)+)/)[1])>=3.1)return!0}catch(err){}return!1}function betweenPoint(point1,point2,dist){var y;return point1.x==point2.x?(y=point1.y<point2.y?point1.y+dist:point1.y-dist,{x:point1.x,y:y}):point1.y==point2.y?{x:point1.x<point2.x?point1.x+dist:point1.x-dist,y:point1.y}:void 0}function centerPoint(arcStart,corner,arcEnd){var startAngle,endAngle,x=corner.x==arcStart.x?arcEnd.x:arcStart.x,y=corner.y==arcStart.y?arcEnd.y:arcStart.y;return arcStart.x<arcEnd.x?arcStart.y>arcEnd.y?(startAngle=Math.PI/180*180,endAngle=Math.PI/180*90):(startAngle=Math.PI/180*90,endAngle=0):arcStart.y>arcEnd.y?(startAngle=Math.PI/180*270,endAngle=Math.PI/180*180):(startAngle=0,endAngle=Math.PI/180*270),{x:x,y:y,type:"center",startAngle:startAngle,endAngle:endAngle}}function findIntersect(r1x1,r1y1,r1x2,r1y2,r2x1,r2y1,r2x2,r2y2){if(r2x1==r2x2)return findIntersectY(r1x1,r1y1,r1x2,r1y2,r2x1);if(r2y1==r2y2)return findIntersectX(r1x1,r1y1,r1x2,r1y2,r2y1);var r1m=(r1y1-r1y2)/(r1x1-r1x2),r1b=r1y1-r1m*r1x1,r2m=(r2y1-r2y2)/(r2x1-r2x2),x=(r2y1-r2m*r2x1-r1b)/(r1m-r2m);return{x:x,y:r1m*x+r1b}}function findIntersectY(r1x1,r1y1,r1x2,r1y2,x){if(r1y1==r1y2)return{x:x,y:r1y1};var r1m=(r1y1-r1y2)/(r1x1-r1x2);return{x:x,y:r1m*x+(r1y1-r1m*r1x1)}}function findIntersectX(r1x1,r1y1,r1x2,r1y2,y){if(r1x1==r1x2)return{x:r1x1,y:y};var r1m=(r1y1-r1y2)/(r1x1-r1x2);return{x:(y-(r1y1-r1m*r1x1))/r1m,y:y}}},jQuery.fn.btPosition=function(){function num(elem,prop){return elem[0]&&parseInt(jQuery.curCSS(elem[0],prop,!0),10)||0}var results;if(this[0]){var offsetParent=this.offsetParent(),offset=this.offset(),parentOffset=/^body|html$/i.test(offsetParent[0].tagName)?{top:0,left:0}:offsetParent.offset();offset.top-=num(this,"marginTop"),offset.left-=num(this,"marginLeft"),parentOffset.top+=num(offsetParent,"borderTopWidth"),parentOffset.left+=num(offsetParent,"borderLeftWidth"),results={top:offset.top-parentOffset.top,left:offset.left-parentOffset.left}}return results},jQuery.fn.btOuterWidth=function(margin){function num(elem,prop){return elem[0]&&parseInt(jQuery.curCSS(elem[0],prop,!0),10)||0}return window.SVGElement&&this[0]instanceof SVGElement?this[0].getBoundingClientRect().width:this.innerWidth()+num(this,"borderLeftWidth")+num(this,"borderRightWidth")+(margin?num(this,"marginLeft")+num(this,"marginRight"):0)},jQuery.fn.btOuterHeight=function(){return window.SVGElement&&this[0]instanceof SVGElement?this[0].getBoundingClientRect().height:this.outerHeight()},jQuery.fn.btOn=function(){return this.each(function(index){jQuery.isFunction(this.btOn)&&this.btOn()})},jQuery.fn.btOff=function(){return this.each(function(index){jQuery.isFunction(this.btOff)&&this.btOff()})},jQuery.fn.btDestroy=function(){return this.each(function(index){jQuery.isFunction(this.btDestroy)&&this.btDestroy()})},jQuery.bt.vars={clickAnywhereStack:[],closeWhenOpenStack:[]},jQuery.bt.docClick=function(e){if(!e)e=window.event;!$(e.target).parents().andSelf().filter(".bt-wrapper, .bt-active").length&&jQuery.bt.vars.clickAnywhereStack.length&&($(jQuery.bt.vars.clickAnywhereStack).btOff(),$(document).unbind("click",jQuery.bt.docClick))},jQuery.bt.defaults={trigger:"hover",clickAnywhereToClose:!0,closeWhenOthersOpen:!1,shrinkToFit:!1,width:"200px",padding:"10px",spikeGirth:10,spikeLength:15,overlap:0,overlay:!1,killTitle:!0,textzIndex:9999,boxzIndex:9998,wrapperzIndex:9997,offsetParent:null,positions:["most"],fill:"rgb(255, 255, 102)",windowMargin:10,strokeWidth:1,strokeStyle:"#000",cornerRadius:5,centerPointX:.5,centerPointY:.5,shadow:!1,shadowOffsetX:2,shadowOffsetY:2,shadowBlur:3,shadowColor:"#000",shadowOverlap:!1,noShadowOpts:{strokeStyle:"#999"},cssClass:"",cssStyles:{},activeClass:"bt-active",content:null,contentSelector:"$(this).attr('title')",ajaxPath:null,ajaxError:"<strong>ERROR:</strong> <em>%error</em>",ajaxLoading:"<blink>Loading...</blink>",ajaxData:{},ajaxType:"GET",ajaxCache:!0,ajaxOpts:{},preBuild:function(){},preShow:function(box){},showTip:function(box){$(box).show()},postShow:function(box){},preHide:function(box){},hideTip:function(box,callback){$(box).hide(),callback()},postHide:function(){},hoverIntentOpts:{interval:300,timeout:500}},jQuery.bt.options={}}(jQuery)}).call(window)},1740:function(module,exports){(function(){!function($){$.fn.jqm=function(o){var p={overlay:50,overlayClass:"jqmOverlay",closeClass:"jqmClose",trigger:".jqModal",ajax:F,ajaxText:"",target:F,modal:F,toTop:F,onShow:F,onHide:F,onLoad:F};return this.each(function(){if(this._jqm)return H[this._jqm].c=$.extend({},H[this._jqm].c,o);s++,this._jqm=s,H[s]={c:$.extend(p,$.jqm.params,o),a:F,w:$(this).addClass("jqmID"+s),s:s},p.trigger&&$(this).jqmAddTrigger(p.trigger)})},$.fn.jqmAddClose=function(e){return hs(this,e,"jqmHide")},$.fn.jqmAddTrigger=function(e){return hs(this,e,"jqmShow")},$.fn.jqmShow=function(t){return this.each(function(){t=t||window.event,$.jqm.open(this._jqm,t)})},$.fn.jqmHide=function(t){return this.each(function(){t=t||window.event,$.jqm.close(this._jqm,t)})},$.jqm={hash:{},open:function(s,t){var h=H[s],c=h.c,cc="."+c.closeClass,z=(z=parseInt(h.w.css("z-index")))>0?z:3e3,o=$("<div></div>").css({height:"100%",width:"100%",position:"fixed",left:0,top:0,"z-index":z-1,opacity:c.overlay/100});if(h.a)return F;if(h.t=t,h.a=!0,h.w.css("z-index",z),c.modal?(A[0]||L("bind"),A.push(s)):c.overlay>0?h.w.jqmAddClose(o):o=F,h.o=o?o.addClass(c.overlayClass).prependTo("body"):F,ie6&&($("html,body").css({height:"100%",width:"100%"}),o))for(var y in o=o.css({position:"absolute"})[0],{Top:1,Left:1})o.style.setExpression(y.toLowerCase(),"(_=(document.documentElement.scroll"+y+" || document.body.scroll"+y+"))+'px'");if(c.ajax){var r=c.target||h.w,u=c.ajax;r="string"==typeof r?$(r,h.w):$(r),u="@"==u.substr(0,1)?$(t).attr(u.substring(1)):u;r.html(c.ajaxText).load(u,function(){c.onLoad&&c.onLoad.call(this,h),cc&&h.w.jqmAddClose($(cc,h.w)),e(h)})}else cc&&h.w.jqmAddClose($(cc,h.w));return c.toTop&&h.o&&h.w.before('<span id="jqmP'+h.w[0]._jqm+'"></span>').insertAfter(h.o),c.onShow?c.onShow(h):h.w.show(),e(h),F},close:function(s){var h=H[s];return h.a?(h.a=F,A[0]&&(A.pop(),A[0]||L("unbind")),h.c.toTop&&h.o&&$("#jqmP"+h.w[0]._jqm).after(h.w).remove(),h.c.onHide?h.c.onHide(h):(h.w.hide(),h.o&&h.o.remove()),F):F},params:{}};var s=0,H=$.jqm.hash,A=[],ie6=$.browser.msie&&"6.0"==$.browser.version,F=!1,i=$('<iframe src="javascript:false;document.write(\'\');" class="jqm"></iframe>').css({opacity:0}),e=function(h){ie6&&(h.o?h.o.html('<p style="width:100%;height:100%"/>').prepend(i):$("iframe.jqm",h.w)[0]||h.w.prepend(i)),f(h)},f=function(h){try{$(":input:visible",h.w)[0].focus()}catch(_){}},L=function(t){$()[t]("keypress",m)[t]("keydown",m)[t]("mousedown",m)},m=function(e){var h=H[A[A.length-1]],r=!$(e.target).parents(".jqmID"+h.s)[0];return r&&f(h),!r},hs=function(w,t,c){return w.each(function(){var s=this._jqm;$(t).each(function(){this[c]||(this[c]=[],$(this).click(function(){for(var i in{jqmShow:1,jqmHide:1})for(var s in this[i])H[this[i][s]]&&H[this[i][s]].w[i](this);return F})),this[c].push(s)})})}}(jQuery)}).call(window)},1741:function(module,exports){(function(){var $y,$m,$d,$D,$P,$C,p;Date.CultureInfo={name:"en-US",englishName:"English (United States)",nativeName:"English (United States)",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortestDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],firstLetterDayNames:["S","M","T","W","T","F","S"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],abbreviatedMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],amDesignator:"AM",pmDesignator:"PM",firstDayOfWeek:0,twoDigitYearMax:2029,dateElementOrder:"mdy",formatPatterns:{shortDate:"M/d/yyyy",longDate:"dddd, MMMM dd, yyyy",shortTime:"h:mm tt",longTime:"h:mm:ss tt",fullDateTime:"dddd, MMMM dd, yyyy h:mm:ss tt",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"MMMM dd",yearMonth:"MMMM, yyyy"},regexPatterns:{jan:/^jan(uary)?/i,feb:/^feb(ruary)?/i,mar:/^mar(ch)?/i,apr:/^apr(il)?/i,may:/^may/i,jun:/^jun(e)?/i,jul:/^jul(y)?/i,aug:/^aug(ust)?/i,sep:/^sep(t(ember)?)?/i,oct:/^oct(ober)?/i,nov:/^nov(ember)?/i,dec:/^dec(ember)?/i,sun:/^su(n(day)?)?/i,mon:/^mo(n(day)?)?/i,tue:/^tu(e(s(day)?)?)?/i,wed:/^we(d(nesday)?)?/i,thu:/^th(u(r(s(day)?)?)?)?/i,fri:/^fr(i(day)?)?/i,sat:/^sa(t(urday)?)?/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\+|aft(er)?|from|hence)/i,subtract:/^(\-|bef(ore)?|ago)/i,yesterday:/^yes(terday)?/i,today:/^t(od(ay)?)?/i,tomorrow:/^tom(orrow)?/i,now:/^n(ow)?/i,millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^mn|min(ute)?s?/i,hour:/^h(our)?s?/i,week:/^w(eek)?s?/i,month:/^m(onth)?s?/i,day:/^d(ay)?s?/i,year:/^y(ear)?s?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\.?m?\.?|p\.?m?\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt|utc)/i,ordinalSuffix:/^\s*(st|nd|rd|th)/i,timeContext:/^\s*(\:|a(?!u|p)|p)/i},timezones:[{name:"UTC",offset:"-000"},{name:"GMT",offset:"-000"},{name:"EST",offset:"-0500"},{name:"EDT",offset:"-0400"},{name:"CST",offset:"-0600"},{name:"CDT",offset:"-0500"},{name:"MST",offset:"-0700"},{name:"MDT",offset:"-0600"},{name:"PST",offset:"-0800"},{name:"PDT",offset:"-0700"}]},$D=Date,$P=$D.prototype,$C=$D.CultureInfo,p=function(s,l){return l||(l=2),("000"+s).slice(-1*l)},$P.clearTime=function(){return this.setHours(0),this.setMinutes(0),this.setSeconds(0),this.setMilliseconds(0),this},$P.setTimeToNow=function(){var n=new Date;return this.setHours(n.getHours()),this.setMinutes(n.getMinutes()),this.setSeconds(n.getSeconds()),this.setMilliseconds(n.getMilliseconds()),this},$D.today=function(){return(new Date).clearTime()},$D.compare=function(date1,date2){if(isNaN(date1)||isNaN(date2))throw new Error(date1+" - "+date2);if(date1 instanceof Date&&date2 instanceof Date)return date1<date2?-1:date1>date2?1:0;throw new TypeError(date1+" - "+date2)},$D.equals=function(date1,date2){return 0===date1.compareTo(date2)},$D.getDayNumberFromName=function(name){for(var n=$C.dayNames,m=$C.abbreviatedDayNames,o=$C.shortestDayNames,s=name.toLowerCase(),i=0;i<n.length;i++)if(n[i].toLowerCase()==s||m[i].toLowerCase()==s||o[i].toLowerCase()==s)return i;return-1},$D.getMonthNumberFromName=function(name){for(var n=$C.monthNames,m=$C.abbreviatedMonthNames,s=name.toLowerCase(),i=0;i<n.length;i++)if(n[i].toLowerCase()==s||m[i].toLowerCase()==s)return i;return-1},$D.isLeapYear=function(year){return year%4==0&&year%100!=0||year%400==0},$D.getDaysInMonth=function(year,month){return[31,$D.isLeapYear(year)?29:28,31,30,31,30,31,31,30,31,30,31][month]},$D.getTimezoneAbbreviation=function(offset){for(var z=$C.timezones,i=0;i<z.length;i++)if(z[i].offset===offset)return z[i].name;return null},$D.getTimezoneOffset=function(name){for(var z=$C.timezones,i=0;i<z.length;i++)if(z[i].name===name.toUpperCase())return z[i].offset;return null},$P.clone=function(){return new Date(this.getTime())},$P.compareTo=function(date){return Date.compare(this,date)},$P.equals=function(date){return Date.equals(this,date||new Date)},$P.between=function(start,end){return this.getTime()>=start.getTime()&&this.getTime()<=end.getTime()},$P.isAfter=function(date){return 1===this.compareTo(date||new Date)},$P.isBefore=function(date){return-1===this.compareTo(date||new Date)},$P.isToday=function(){return this.isSameDay(new Date)},$P.isSameDay=function(date){return this.clone().clearTime().equals(date.clone().clearTime())},$P.addMilliseconds=function(value){return this.setMilliseconds(this.getMilliseconds()+value),this},$P.addSeconds=function(value){return this.addMilliseconds(1e3*value)},$P.addMinutes=function(value){return this.addMilliseconds(6e4*value)},$P.addHours=function(value){return this.addMilliseconds(36e5*value)},$P.addDays=function(value){return this.setDate(this.getDate()+value),this},$P.addWeeks=function(value){return this.addDays(7*value)},$P.addMonths=function(value){var n=this.getDate();return this.setDate(1),this.setMonth(this.getMonth()+value),this.setDate(Math.min(n,$D.getDaysInMonth(this.getFullYear(),this.getMonth()))),this},$P.addYears=function(value){return this.addMonths(12*value)},$P.add=function(config){if("number"==typeof config)return this._orient=config,this;var x=config;return x.milliseconds&&this.addMilliseconds(x.milliseconds),x.seconds&&this.addSeconds(x.seconds),x.minutes&&this.addMinutes(x.minutes),x.hours&&this.addHours(x.hours),x.weeks&&this.addWeeks(x.weeks),x.months&&this.addMonths(x.months),x.years&&this.addYears(x.years),x.days&&this.addDays(x.days),this},$P.getWeek=function(){var a,b,e,f,g,n,s;return $y=$y||this.getFullYear(),$m=$m||this.getMonth()+1,$d=$d||this.getDate(),$m<=2?(s=(b=((a=$y-1)/4|0)-(a/100|0)+(a/400|0))-(((a-1)/4|0)-((a-1)/100|0)+((a-1)/400|0)),e=0,f=$d-1+31*($m-1)):(e=1+(s=(b=((a=$y)/4|0)-(a/100|0)+(a/400|0))-(((a-1)/4|0)-((a-1)/100|0)+((a-1)/400|0))),f=$d+(153*($m-3)+2)/5+58+s),$y=$m=$d=null,(n=f+3-(f+(g=(a+b)%7)-e)%7|0)<0?53-((g-s)/5|0):n>364+s?1:1+(n/7|0)},$P.getISOWeek=function(){return $y=this.getUTCFullYear(),$m=this.getUTCMonth()+1,$d=this.getUTCDate(),p(this.getWeek())},$P.setWeek=function(n){return this.moveToDayOfWeek(1).addWeeks(n-this.getWeek())},$D._validate=function(n,min,max,name){if(void 0===n)return!1;if("number"!=typeof n)throw new TypeError(n+" is not a Number.");if(n<min||n>max)throw new RangeError(n+" is not a valid value for "+name+".");return!0},$D.validateMillisecond=function(value){return $D._validate(value,0,999,"millisecond")},$D.validateSecond=function(value){return $D._validate(value,0,59,"second")},$D.validateMinute=function(value){return $D._validate(value,0,59,"minute")},$D.validateHour=function(value){return $D._validate(value,0,23,"hour")},$D.validateDay=function(value,year,month){return $D._validate(value,1,$D.getDaysInMonth(year,month),"day")},$D.validateMonth=function(value){return $D._validate(value,0,11,"month")},$D.validateYear=function(value){return $D._validate(value,0,9999,"year")},$P.set=function(config){return $D.validateMillisecond(config.millisecond)&&this.addMilliseconds(config.millisecond-this.getMilliseconds()),$D.validateSecond(config.second)&&this.addSeconds(config.second-this.getSeconds()),$D.validateMinute(config.minute)&&this.addMinutes(config.minute-this.getMinutes()),$D.validateHour(config.hour)&&this.addHours(config.hour-this.getHours()),$D.validateMonth(config.month)&&this.addMonths(config.month-this.getMonth()),$D.validateYear(config.year)&&this.addYears(config.year-this.getFullYear()),$D.validateDay(config.day,this.getFullYear(),this.getMonth())&&this.addDays(config.day-this.getDate()),config.timezone&&this.setTimezone(config.timezone),config.timezoneOffset&&this.setTimezoneOffset(config.timezoneOffset),config.week&&$D._validate(config.week,0,53,"week")&&this.setWeek(config.week),this},$P.moveToFirstDayOfMonth=function(){return this.set({day:1})},$P.moveToLastDayOfMonth=function(){return this.set({day:$D.getDaysInMonth(this.getFullYear(),this.getMonth())})},$P.moveToNthOccurrence=function(dayOfWeek,occurrence){var shift=0;if(occurrence>0)shift=occurrence-1;else if(-1===occurrence)return this.moveToLastDayOfMonth(),this.getDay()!==dayOfWeek&&this.moveToDayOfWeek(dayOfWeek,-1),this;return this.moveToFirstDayOfMonth().addDays(-1).moveToDayOfWeek(dayOfWeek,1).addWeeks(shift)},$P.moveToDayOfWeek=function(dayOfWeek,orient){var diff=(dayOfWeek-this.getDay()+7*(orient||1))%7;return this.addDays(0===diff?diff+=7*(orient||1):diff)},$P.moveToMonth=function(month,orient){var diff=(month-this.getMonth()+12*(orient||1))%12;return this.addMonths(0===diff?diff+=12*(orient||1):diff)},$P.getOrdinalNumber=function(){return Math.ceil((this.clone().clearTime()-new Date(this.getFullYear(),0,1))/864e5)+1},$P.getTimezone=function(){return $D.getTimezoneAbbreviation(this.getUTCOffset())},$P.setTimezoneOffset=function(offset){var here=this.getTimezoneOffset(),there=-6*Number(offset)/10;return this.addMinutes(there-here)},$P.setTimezone=function(offset){return this.setTimezoneOffset($D.getTimezoneOffset(offset))},$P.hasDaylightSavingTime=function(){return Date.today().set({month:0,day:1}).getTimezoneOffset()!==Date.today().set({month:6,day:1}).getTimezoneOffset()},$P.isDaylightSavingTime=function(){return this.hasDaylightSavingTime()&&(new Date).getTimezoneOffset()===Date.today().set({month:6,day:1}).getTimezoneOffset()},$P.getUTCOffset=function(){var r,n=-10*this.getTimezoneOffset()/6;return n<0?(r=(n-1e4).toString()).charAt(0)+r.substr(2):"+"+(r=(n+1e4).toString()).substr(1)},$P.getElapsed=function(date){return(date||new Date)-this},$P.toISOString||($P.toISOString=function(){function f(n){return n<10?"0"+n:n}return'"'+this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+'Z"'}),$P._toString=$P.toString,$P.toString=function(format){var x=this;if(format&&1==format.length){var c=$C.formatPatterns;switch(x.t=x.toString,format){case"d":return x.t(c.shortDate);case"D":return x.t(c.longDate);case"F":return x.t(c.fullDateTime);case"m":return x.t(c.monthDay);case"r":return x.t(c.rfc1123);case"s":return x.t(c.sortableDateTime);case"t":return x.t(c.shortTime);case"T":return x.t(c.longTime);case"u":return x.t(c.universalSortableDateTime);case"y":return x.t(c.yearMonth)}}return format?format.replace(/(\\)?(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|S)/g,function(m){if("\\"===m.charAt(0))return m.replace("\\","");switch(x.h=x.getHours,m){case"hh":return p(x.h()<13?0===x.h()?12:x.h():x.h()-12);case"h":return x.h()<13?0===x.h()?12:x.h():x.h()-12;case"HH":return p(x.h());case"H":return x.h();case"mm":return p(x.getMinutes());case"m":return x.getMinutes();case"ss":return p(x.getSeconds());case"s":return x.getSeconds();case"yyyy":return p(x.getFullYear(),4);case"yy":return p(x.getFullYear());case"dddd":return $C.dayNames[x.getDay()];case"ddd":return $C.abbreviatedDayNames[x.getDay()];case"dd":return p(x.getDate());case"d":return x.getDate();case"MMMM":return $C.monthNames[x.getMonth()];case"MMM":return $C.abbreviatedMonthNames[x.getMonth()];case"MM":return p(x.getMonth()+1);case"M":return x.getMonth()+1;case"t":return x.h()<12?$C.amDesignator.substring(0,1):$C.pmDesignator.substring(0,1);case"tt":return x.h()<12?$C.amDesignator:$C.pmDesignator;case"S":return function(n){switch(1*n){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}}(x.getDate());default:return m}}):this._toString()},function(){var $D=Date,$P=$D.prototype,$C=$D.CultureInfo,$N=Number.prototype;$P._orient=1,$P._nth=null,$P._is=!1,$P._same=!1,$P._isSecond=!1,$N._dateElement="day",$P.next=function(){return this._orient=1,this},$D.next=function(){return $D.today().next()},$P.last=$P.prev=$P.previous=function(){return this._orient=-1,this},$D.last=$D.prev=$D.previous=function(){return $D.today().last()},$P.is=function(){return this._is=!0,this},$P.same=function(){return this._same=!0,this._isSecond=!1,this},$P.today=function(){return this.same().day()},$P.weekday=function(){return!!this._is&&(this._is=!1,!this.is().sat()&&!this.is().sun())},$P.at=function(time){return"string"==typeof time?$D.parse(this.toString("d")+" "+time):this.set(time)},$N.fromNow=$N.after=function(date){var c={};return c[this._dateElement]=this,(date?date.clone():new Date).add(c)},$N.ago=$N.before=function(date){var c={};return c[this._dateElement]=-1*this,(date?date.clone():new Date).add(c)};var de,dx="sunday monday tuesday wednesday thursday friday saturday".split(/\s/),mx="january february march april may june july august september october november december".split(/\s/),px="Millisecond Second Minute Hour Day Week Month Year".split(/\s/),pxf="Milliseconds Seconds Minutes Hours Date Week Month FullYear".split(/\s/),nth="final first second third fourth fifth".split(/\s/);$P.toObject=function(){for(var o={},i=0;i<px.length;i++)o[px[i].toLowerCase()]=this["get"+pxf[i]]();return o},$D.fromObject=function(config){return config.week=null,Date.today().set(config)};for(var df=function(n){return function(){if(this._is)return this._is=!1,this.getDay()==n;if(null!==this._nth){this._isSecond&&this.addSeconds(-1*this._orient),this._isSecond=!1;var ntemp=this._nth;this._nth=null;var temp=this.clone().moveToLastDayOfMonth();if(this.moveToNthOccurrence(n,ntemp),this>temp)throw new RangeError($D.getDayName(n)+" does not occur "+ntemp+" times in the month of "+$D.getMonthName(temp.getMonth())+" "+temp.getFullYear()+".");return this}return this.moveToDayOfWeek(n,this._orient)}},sdf=function(n){return function(){var t=$D.today(),shift=n-t.getDay();return 0===n&&1===$C.firstDayOfWeek&&0!==t.getDay()&&(shift+=7),t.addDays(shift)}},i=0;i<dx.length;i++)$D[dx[i].toUpperCase()]=$D[dx[i].toUpperCase().substring(0,3)]=i,$D[dx[i]]=$D[dx[i].substring(0,3)]=sdf(i),$P[dx[i]]=$P[dx[i].substring(0,3)]=df(i);for(var mf=function(n){return function(){return this._is?(this._is=!1,this.getMonth()===n):this.moveToMonth(n,this._orient)}},smf=function(n){return function(){return $D.today().set({month:n,day:1})}},j=0;j<mx.length;j++)$D[mx[j].toUpperCase()]=$D[mx[j].toUpperCase().substring(0,3)]=j,$D[mx[j]]=$D[mx[j].substring(0,3)]=smf(j),$P[mx[j]]=$P[mx[j].substring(0,3)]=mf(j);for(var ef=function(j){return function(){if(this._isSecond)return this._isSecond=!1,this;if(this._same){this._same=this._is=!1;for(var o1=this.toObject(),o2=(arguments[0]||new Date).toObject(),v="",k=j.toLowerCase(),m=px.length-1;m>-1;m--){if(o1[v=px[m].toLowerCase()]!=o2[v])return!1;if(k==v)break}return!0}return"s"!=j.substring(j.length-1)&&(j+="s"),this["add"+j](this._orient)}},nf=function(n){return function(){return this._dateElement=n,this}},k=0;k<px.length;k++)$P[de=px[k].toLowerCase()]=$P[de+"s"]=ef(px[k]),$N[de]=$N[de+"s"]=nf(de);$P._ss=ef("Second");for(var nthfn=function(n){return function(dayOfWeek){return this._same?this._ss(arguments[0]):dayOfWeek||0===dayOfWeek?this.moveToNthOccurrence(dayOfWeek,n):(this._nth=n,2!==n||void 0!==dayOfWeek&&null!==dayOfWeek?this:(this._isSecond=!0,this.addSeconds(this._orient)))}},l=0;l<nth.length;l++)$P[nth[l]]=nthfn(0===l?-1:l)}(),function(){Date.Parsing={Exception:function(s){this.message="Parse error at '"+s.substring(0,10)+" ...'"}};for(var $P=Date.Parsing,_=$P.Operators={rtoken:function(r){return function(s){var mx=s.match(r);if(mx)return[mx[0],s.substring(mx[0].length)];throw new $P.Exception(s)}},token:function(s){return function(s){return _.rtoken(new RegExp("^s*"+s+"s*"))(s)}},stoken:function(s){return _.rtoken(new RegExp("^"+s))},until:function(p){return function(s){for(var qx=[],rx=null;s.length;){try{rx=p.call(this,s)}catch(e){qx.push(rx[0]),s=rx[1];continue}break}return[qx,s]}},many:function(p){return function(s){for(var rx=[],r=null;s.length;){try{r=p.call(this,s)}catch(e){return[rx,s]}rx.push(r[0]),s=r[1]}return[rx,s]}},optional:function(p){return function(s){var r=null;try{r=p.call(this,s)}catch(e){return[null,s]}return[r[0],r[1]]}},not:function(p){return function(s){try{p.call(this,s)}catch(e){return[null,s]}throw new $P.Exception(s)}},ignore:function(p){return p?function(s){return[null,p.call(this,s)[1]]}:null},product:function(){for(var px=arguments[0],qx=Array.prototype.slice.call(arguments,1),rx=[],i=0;i<px.length;i++)rx.push(_.each(px[i],qx));return rx},cache:function(rule){var cache={},r=null;return function(s){try{r=cache[s]=cache[s]||rule.call(this,s)}catch(e){r=cache[s]=e}if(r instanceof $P.Exception)throw r;return r}},any:function(){var px=arguments;return function(s){for(var r=null,i=0;i<px.length;i++)if(null!=px[i]){try{r=px[i].call(this,s)}catch(e){r=null}if(r)return r}throw new $P.Exception(s)}},each:function(){var px=arguments;return function(s){for(var rx=[],r=null,i=0;i<px.length;i++)if(null!=px[i]){try{r=px[i].call(this,s)}catch(e){throw new $P.Exception(s)}rx.push(r[0]),s=r[1]}return[rx,s]}},all:function(){var px=arguments,_=_;return _.each(_.optional(px))},sequence:function(px,d,c){return d=d||_.rtoken(/^\s*/),c=c||null,1==px.length?px[0]:function(s){for(var r=null,q=null,rx=[],i=0;i<px.length;i++){try{r=px[i].call(this,s)}catch(e){break}rx.push(r[0]);try{q=d.call(this,r[1])}catch(ex){q=null;break}s=q[1]}if(!r)throw new $P.Exception(s);if(q)throw new $P.Exception(q[1]);if(c)try{r=c.call(this,r[1])}catch(ey){throw new $P.Exception(r[1])}return[rx,r?r[1]:s]}},between:function(d1,p,d2){d2=d2||d1;var _fn=_.each(_.ignore(d1),p,_.ignore(d2));return function(s){var rx=_fn.call(this,s);return[[rx[0][0],r[0][2]],rx[1]]}},list:function(p,d,c){return d=d||_.rtoken(/^\s*/),c=c||null,p instanceof Array?_.each(_.product(p.slice(0,-1),_.ignore(d)),p.slice(-1),_.ignore(c)):_.each(_.many(_.each(p,_.ignore(d))),px,_.ignore(c))},set:function(px,d,c){return d=d||_.rtoken(/^\s*/),c=c||null,function(s){for(var r=null,p=null,q=null,rx=null,best=[[],s],last=!1,i=0;i<px.length;i++){q=null,p=null,r=null,last=1==px.length;try{r=px[i].call(this,s)}catch(e){continue}if(rx=[[r[0]],r[1]],r[1].length>0&&!last)try{q=d.call(this,r[1])}catch(ex){last=!0}else last=!0;if(last||0!==q[1].length||(last=!0),!last){for(var qx=[],j=0;j<px.length;j++)i!=j&&qx.push(px[j]);(p=_.set(qx,d).call(this,q[1]))[0].length>0&&(rx[0]=rx[0].concat(p[0]),rx[1]=p[1])}if(rx[1].length<best[1].length&&(best=rx),0===best[1].length)break}if(0===best[0].length)return best;if(c){try{q=c.call(this,best[1])}catch(ey){throw new $P.Exception(best[1])}best[1]=q[1]}return best}},forward:function(gr,fname){return function(s){return gr[fname].call(this,s)}},replace:function(rule,repl){return function(s){var r=rule.call(this,s);return[repl,r[1]]}},process:function(rule,fn){return function(s){var r=rule.call(this,s);return[fn.call(this,r[0]),r[1]]}},min:function(min,rule){return function(s){var rx=rule.call(this,s);if(rx[0].length<min)throw new $P.Exception(s);return rx}}},_generator=function(op){return function(){var args=null,rx=[];if(arguments.length>1?args=Array.prototype.slice.call(arguments):arguments[0]instanceof Array&&(args=arguments[0]),!args)return op.apply(null,arguments);for(var i=0,px=args.shift();i<px.length;i++)return args.unshift(px[i]),rx.push(op.apply(null,args)),args.shift(),rx}},gx="optional not ignore cache".split(/\s/),i=0;i<gx.length;i++)_[gx[i]]=_generator(_[gx[i]]);for(var _vector=function(op){return function(){return arguments[0]instanceof Array?op.apply(null,arguments[0]):op.apply(null,arguments)}},vx="each any all".split(/\s/),j=0;j<vx.length;j++)_[vx[j]]=_vector(_[vx[j]])}(),function(){var $D=Date,$C=($D.prototype,$D.CultureInfo),flattenAndCompact=function(ax){for(var rx=[],i=0;i<ax.length;i++)ax[i]instanceof Array?rx=rx.concat(flattenAndCompact(ax[i])):ax[i]&&rx.push(ax[i]);return rx};$D.Grammar={},$D.Translator={hour:function(s){return function(){this.hour=Number(s)}},minute:function(s){return function(){this.minute=Number(s)}},second:function(s){return function(){this.second=Number(s)}},meridian:function(s){return function(){this.meridian=s.slice(0,1).toLowerCase()}},timezone:function(s){return function(){var n=s.replace(/[^\d\+\-]/g,"");n.length?this.timezoneOffset=Number(n):this.timezone=s.toLowerCase()}},day:function(x){var s=x[0];return function(){this.day=Number(s.match(/\d+/)[0])}},month:function(s){return function(){this.month=3==s.length?"jan feb mar apr may jun jul aug sep oct nov dec".indexOf(s)/4:Number(s)-1}},year:function(s){return function(){var n=Number(s);this.year=s.length>2?n:n+(n+2e3<$C.twoDigitYearMax?2e3:1900)}},rday:function(s){return function(){switch(s){case"yesterday":this.days=-1;break;case"tomorrow":this.days=1;break;case"today":this.days=0;break;case"now":this.days=0,this.now=!0}}},finishExact:function(x){x=x instanceof Array?x:[x];for(var i=0;i<x.length;i++)x[i]&&x[i].call(this);var now=new Date;if(!this.hour&&!this.minute||this.month||this.year||this.day||(this.day=now.getDate()),this.year||(this.year=now.getFullYear()),this.month||0===this.month||(this.month=now.getMonth()),this.day||(this.day=1),this.hour||(this.hour=0),this.minute||(this.minute=0),this.second||(this.second=0),this.meridian&&this.hour&&("p"==this.meridian&&this.hour<12?this.hour=this.hour+12:"a"==this.meridian&&12==this.hour&&(this.hour=0)),this.day>$D.getDaysInMonth(this.year,this.month))throw new RangeError(this.day+" is not a valid value for days.");var r=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second);return this.timezone?r.set({timezone:this.timezone}):this.timezoneOffset&&r.set({timezoneOffset:this.timezoneOffset}),r},finish:function(x){if(0===(x=x instanceof Array?flattenAndCompact(x):[x]).length)return null;for(var i=0;i<x.length;i++)"function"==typeof x[i]&&x[i].call(this);var today=$D.today();if(this.now&&!this.unit&&!this.operator)return new Date;this.now&&(today=new Date);var gap,mod,orient,expression=!!(this.days&&null!==this.days||this.orient||this.operator);if(orient="past"==this.orient||"subtract"==this.operator?-1:1,this.now||-1=="hour minute second".indexOf(this.unit)||today.setTimeToNow(),(this.month||0===this.month)&&-1!="year day hour minute second".indexOf(this.unit)&&(this.value=this.month+1,this.month=null,expression=!0),!expression&&this.weekday&&!this.day&&!this.days){var temp=Date[this.weekday]();this.day=temp.getDate(),this.month||(this.month=temp.getMonth()),this.year=temp.getFullYear()}if(expression&&this.weekday&&"month"!=this.unit&&(this.unit="day",gap=$D.getDayNumberFromName(this.weekday)-today.getDay(),mod=7,this.days=gap?(gap+orient*mod)%mod:orient*mod),this.month&&"day"==this.unit&&this.operator&&(this.value=this.month+1,this.month=null),null!=this.value&&null!=this.month&&null!=this.year&&(this.day=1*this.value),this.month&&!this.day&&this.value&&(today.set({day:1*this.value}),expression||(this.day=1*this.value)),this.month||!this.value||"month"!=this.unit||this.now||(this.month=this.value,expression=!0),expression&&(this.month||0===this.month)&&"year"!=this.unit&&(this.unit="month",gap=this.month-today.getMonth(),mod=12,this.months=gap?(gap+orient*mod)%mod:orient*mod,this.month=null),this.unit||(this.unit="day"),!this.value&&this.operator&&null!==this.operator&&this[this.unit+"s"]&&null!==this[this.unit+"s"]?this[this.unit+"s"]=this[this.unit+"s"]+("add"==this.operator?1:-1)+(this.value||0)*orient:null!=this[this.unit+"s"]&&null==this.operator||(this.value||(this.value=1),this[this.unit+"s"]=this.value*orient),this.meridian&&this.hour&&("p"==this.meridian&&this.hour<12?this.hour=this.hour+12:"a"==this.meridian&&12==this.hour&&(this.hour=0)),this.weekday&&!this.day&&!this.days){temp=Date[this.weekday]();this.day=temp.getDate(),temp.getMonth()!==today.getMonth()&&(this.month=temp.getMonth())}return!this.month&&0!==this.month||this.day||(this.day=1),this.orient||this.operator||"week"!=this.unit||!this.value||this.day||this.month?(expression&&this.timezone&&this.day&&this.days&&(this.day=this.days),expression?today.add(this):today.set(this)):Date.today().setWeek(this.value)}};var _fn,_=$D.Parsing.Operators,g=$D.Grammar,t=$D.Translator;g.datePartDelimiter=_.rtoken(/^([\s\-\.\,\/\x27]+)/),g.timePartDelimiter=_.stoken(":"),g.whiteSpace=_.rtoken(/^\s*/),g.generalDelimiter=_.rtoken(/^(([\s\,]|at|@|on)+)/);var _C={};g.ctoken=function(keys){var fn=_C[keys];if(!fn){for(var c=$C.regexPatterns,kx=keys.split(/\s+/),px=[],i=0;i<kx.length;i++)px.push(_.replace(_.rtoken(c[kx[i]]),kx[i]));fn=_C[keys]=_.any.apply(null,px)}return fn},g.ctoken2=function(key){return _.rtoken($C.regexPatterns[key])},g.h=_.cache(_.process(_.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),t.hour)),g.hh=_.cache(_.process(_.rtoken(/^(0[0-9]|1[0-2])/),t.hour)),g.H=_.cache(_.process(_.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),t.hour)),g.HH=_.cache(_.process(_.rtoken(/^([0-1][0-9]|2[0-3])/),t.hour)),g.m=_.cache(_.process(_.rtoken(/^([0-5][0-9]|[0-9])/),t.minute)),g.mm=_.cache(_.process(_.rtoken(/^[0-5][0-9]/),t.minute)),g.s=_.cache(_.process(_.rtoken(/^([0-5][0-9]|[0-9])/),t.second)),g.ss=_.cache(_.process(_.rtoken(/^[0-5][0-9]/),t.second)),g.hms=_.cache(_.sequence([g.H,g.m,g.s],g.timePartDelimiter)),g.t=_.cache(_.process(g.ctoken2("shortMeridian"),t.meridian)),g.tt=_.cache(_.process(g.ctoken2("longMeridian"),t.meridian)),g.z=_.cache(_.process(_.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),t.timezone)),g.zz=_.cache(_.process(_.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),t.timezone)),g.zzz=_.cache(_.process(g.ctoken2("timezone"),t.timezone)),g.timeSuffix=_.each(_.ignore(g.whiteSpace),_.set([g.tt,g.zzz])),g.time=_.each(_.optional(_.ignore(_.stoken("T"))),g.hms,g.timeSuffix),g.d=_.cache(_.process(_.each(_.rtoken(/^([0-2]\d|3[0-1]|\d)/),_.optional(g.ctoken2("ordinalSuffix"))),t.day)),g.dd=_.cache(_.process(_.each(_.rtoken(/^([0-2]\d|3[0-1])/),_.optional(g.ctoken2("ordinalSuffix"))),t.day)),g.ddd=g.dddd=_.cache(_.process(g.ctoken("sun mon tue wed thu fri sat"),function(s){return function(){this.weekday=s}})),g.M=_.cache(_.process(_.rtoken(/^(1[0-2]|0\d|\d)/),t.month)),g.MM=_.cache(_.process(_.rtoken(/^(1[0-2]|0\d)/),t.month)),g.MMM=g.MMMM=_.cache(_.process(g.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),t.month)),g.y=_.cache(_.process(_.rtoken(/^(\d\d?)/),t.year)),g.yy=_.cache(_.process(_.rtoken(/^(\d\d)/),t.year)),g.yyy=_.cache(_.process(_.rtoken(/^(\d\d?\d?\d?)/),t.year)),g.yyyy=_.cache(_.process(_.rtoken(/^(\d\d\d\d)/),t.year)),_fn=function(){return _.each(_.any.apply(null,arguments),_.not(g.ctoken2("timeContext")))},g.day=_fn(g.d,g.dd),g.month=_fn(g.M,g.MMM),g.year=_fn(g.yyyy,g.yy),g.orientation=_.process(g.ctoken("past future"),function(s){return function(){this.orient=s}}),g.operator=_.process(g.ctoken("add subtract"),function(s){return function(){this.operator=s}}),g.rday=_.process(g.ctoken("yesterday tomorrow today now"),t.rday),g.unit=_.process(g.ctoken("second minute hour day week month year"),function(s){return function(){this.unit=s}}),g.value=_.process(_.rtoken(/^\d\d?(st|nd|rd|th)?/),function(s){return function(){this.value=s.replace(/\D/g,"")}}),g.expression=_.set([g.rday,g.operator,g.value,g.unit,g.orientation,g.ddd,g.MMM]),_fn=function(){return _.set(arguments,g.datePartDelimiter)},g.mdy=_fn(g.ddd,g.month,g.day,g.year),g.ymd=_fn(g.ddd,g.year,g.month,g.day),g.dmy=_fn(g.ddd,g.day,g.month,g.year),g.date=function(s){return(g[$C.dateElementOrder]||g.mdy).call(this,s)},g.format=_.process(_.many(_.any(_.process(_.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(fmt){if(g[fmt])return g[fmt];throw $D.Parsing.Exception(fmt)}),_.process(_.rtoken(/^[^dMyhHmstz]+/),function(s){return _.ignore(_.stoken(s))}))),function(rules){return _.process(_.each.apply(null,rules),t.finishExact)});var _F={},_get=function(f){return _F[f]=_F[f]||g.format(f)[0]};g.formats=function(fx){if(fx instanceof Array){for(var rx=[],i=0;i<fx.length;i++)rx.push(_get(fx[i]));return _.any.apply(null,rx)}return _get(fx)},g._formats=g.formats(['"yyyy-MM-ddTHH:mm:ssZ"',"yyyy-MM-ddTHH:mm:ssZ","yyyy-MM-ddTHH:mm:ssz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mmZ","yyyy-MM-ddTHH:mmz","yyyy-MM-ddTHH:mm","ddd, MMM dd, yyyy H:mm:ss tt","ddd MMM d yyyy HH:mm:ss zzz","MMddyyyy","ddMMyyyy","Mddyyyy","ddMyyyy","Mdyyyy","dMyyyy","yyyy","Mdyy","dMyy","d"]),g._start=_.process(_.set([g.date,g.time,g.expression],g.generalDelimiter,g.whiteSpace),t.finish),g.start=function(s){try{var r=g._formats.call({},s);if(0===r[1].length)return r}catch(e){}return g._start.call({},s)},$D._parse=$D.parse,$D.parse=function(s){var r=null;if(!s)return null;if(s instanceof Date)return s;try{r=$D.Grammar.start.call({},s.replace(/^\s*(\S*(\s+\S+)*)\s*$/,"$1").replace(/\.\d{3}Z?/,""))}catch(e){return null}return 0===r[1].length?r[0]:null},$D.getParseFunction=function(fx){var fn=$D.Grammar.formats(fx);return function(s){var r=null;try{r=fn.call({},s)}catch(e){return null}return 0===r[1].length?r[0]:null}},$D.parseExact=function(s,fx){return $D.getParseFunction(fx)(s)}}(),function(){var $D=Date,$P=$D.prototype,$f=($D.CultureInfo,[]),p=function(s,l){return l||(l=2),("000"+s).slice(-1*l)};$D.normalizeFormat=function(format){$f=[];(new Date).$format(format);return $f.join("")},$D.strftime=function(format,time){return new Date(1e3*time).$format(format)},$D.strtotime=function(time){var d=$D.parse(time);return d.addMinutes(-1*d.getTimezoneOffset()),Math.round($D.UTC(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate(),d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds())/1e3)},$P.$format=function(format){var y,x=this,t=function(v){return $f.push(v),x.toString(v)};return format?format.replace(/(%|\\)?.|%%/g,function(m){if("\\"===m.charAt(0)||"%%"===m.substring(0,2))return m.replace("\\","").replace("%%","%");switch(m){case"d":case"%d":return t("dd");case"D":case"%a":return t("ddd");case"j":case"%e":return t("d");case"l":case"%A":return t("dddd");case"N":case"%u":return x.getDay()+1;case"S":return t("S");case"w":case"%w":return x.getDay();case"z":return x.getOrdinalNumber();case"%j":return p(x.getOrdinalNumber(),3);case"%U":var d1=x.clone().set({month:0,day:1}).addDays(-1).moveToDayOfWeek(0),d2=x.clone().addDays(1).moveToDayOfWeek(0,-1);return d2<d1?"00":p((d2.getOrdinalNumber()-d1.getOrdinalNumber())/7+1);case"W":case"%V":return x.getISOWeek();case"%W":return p(x.getWeek());case"F":case"%B":return t("MMMM");case"m":case"%m":return t("MM");case"M":case"%b":case"%h":return t("MMM");case"n":return t("M");case"t":return $D.getDaysInMonth(x.getFullYear(),x.getMonth());case"L":return $D.isLeapYear(x.getFullYear())?1:0;case"o":case"%G":return x.setWeek(x.getISOWeek()).toString("yyyy");case"%g":return x.$format("%G").slice(-2);case"Y":case"%Y":return t("yyyy");case"y":case"%y":return t("yy");case"a":case"%p":return t("tt").toLowerCase();case"A":return t("tt").toUpperCase();case"g":case"%I":return t("h");case"G":return t("H");case"h":return t("hh");case"H":case"%H":return t("HH");case"i":case"%M":return t("mm");case"s":case"%S":return t("ss");case"u":return p(x.getMilliseconds(),3);case"I":return x.isDaylightSavingTime()?1:0;case"O":return x.getUTCOffset();case"P":return(y=x.getUTCOffset()).substring(0,y.length-2)+":"+y.substring(y.length-2);case"e":case"T":case"%z":case"%Z":return x.getTimezone();case"Z":return-60*x.getTimezoneOffset();case"B":var now=new Date;return Math.floor((3600*now.getHours()+60*now.getMinutes()+now.getSeconds()+60*(now.getTimezoneOffset()+60))/86.4);case"c":return x.toISOString().replace(/\"/g,"");case"U":return $D.strtotime("now");case"%c":return t("d")+" "+t("t");case"%C":return Math.floor(x.getFullYear()/100+1);case"%D":return t("MM/dd/yy");case"%n":return"\\n";case"%t":return"\\t";case"%r":return t("hh:mm tt");case"%R":return t("H:mm");case"%T":return t("H:mm:ss");case"%x":return t("d");case"%X":return t("t");default:return $f.push(m),m}}):this._toString()},$P.format||($P.format=$P.$format)}()}).call(window)},1742:function(module,exports,__webpack_require__){__webpack_require__(1741),__webpack_require__(1740),__webpack_require__(1739),__webpack_require__(1738),__webpack_require__(1737),__webpack_require__(1736),__webpack_require__(1735),__webpack_require__(1734),__webpack_require__(1733),__webpack_require__(764),__webpack_require__(1732),__webpack_require__(1731),__webpack_require__(1730),__webpack_require__(1729),__webpack_require__(1728),__webpack_require__(1727),__webpack_require__(1726),__webpack_require__(1725),__webpack_require__(1724),__webpack_require__(1723),__webpack_require__(1722),__webpack_require__(1721),__webpack_require__(1720),__webpack_require__(1719),__webpack_require__(1718),__webpack_require__(1717),__webpack_require__(1716),__webpack_require__(1715),__webpack_require__(1714),__webpack_require__(516),__webpack_require__(515),__webpack_require__(1713),__webpack_require__(1712),__webpack_require__(1711),__webpack_require__(1710),__webpack_require__(1709),__webpack_require__(1708),__webpack_require__(1707),__webpack_require__(1706),__webpack_require__(1705),__webpack_require__(1704),__webpack_require__(1703),__webpack_require__(1702),__webpack_require__(1701),__webpack_require__(1700),__webpack_require__(1699),__webpack_require__(1698),__webpack_require__(1697),__webpack_require__(1696),__webpack_require__(1695),__webpack_require__(1694),__webpack_require__(1693),__webpack_require__(1692),__webpack_require__(1691),__webpack_require__(1690),__webpack_require__(514),__webpack_require__(1689),__webpack_require__(1688),__webpack_require__(1687),__webpack_require__(1686),__webpack_require__(1685),__webpack_require__(1684),module.exports=__webpack_require__(1683)},6:function(module,exports){module.exports=jQuery}});
//# sourceMappingURL=base.js.map